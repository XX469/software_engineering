{"version":3,"sources":["webpack:///./src/main/js/components/ui/PlaceholderBar.css?919d","webpack:///./src/main/js/components/ui/PlaceholderBar.css","webpack:///./src/main/js/api/news.ts","webpack:///./src/main/js/components/ui/PlaceholderBar.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/ProductNewsMenuItem.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/EmbedDocsPopup.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","PRISMIC_API_URL","PlaceholderBar_PlaceholderBar","_a","color","width","height","index_js_exposed","className","style","ProductNewsMenuItem_ProductNewsMenuItem","_super","ProductNewsMenuItem","_this","apply","this","arguments","mounted","state","loading","fetchProductNews","props","accessToken","tag","setState","Object","request","then","response","master","refs","find","ref","id","Promise","resolve","reject","data","q","access_token","orderings","pageSize","ps","results","news","__extends","prototype","componentDidMount","componentWillUnmount","renderPlaceholder","ChevronRightcon","render","href","uid","rel","target","DateFormatter","date","last_publication_date","formattedDate","title","embed_docs_modal_ProductNewsMenuItem","react_redux_es","rootReducer","value","EmbedDocsPopup_EmbedDocsPopup","EmbedDocsPopup","renderSuggestions","suggestions","length","renderTitle","l10n","map","suggestion","index","key","es","onClick","onClose","to","link","text","EmbedDocsPopup_extends","renderIconLink","icon","alt","src","urls","renderSonarCloudLinks","renderSonarQubeLinks","Dropdown","SuggestionsContext","Consumer","system","formatterOption","year","month","day","longFormatterOption","children","long","react__WEBPACK_IMPORTED_MODULE_0__","react_intl__WEBPACK_IMPORTED_MODULE_1__","__assign","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","d","__webpack_exports__","ChevronRightIcon","_Icon__WEBPACK_IMPORTED_MODULE_1__","_b","fill","size"],"mappings":"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","file":"js/338.9df0e089.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./PlaceholderBar.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./PlaceholderBar.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./PlaceholderBar.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.placeholder-bar {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 8px;\\n  background-color: currentColor;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getCorsJSON } from '../helpers/request';\n\ninterface PrismicRef {\n  id: string;\n  ref: string;\n}\n\nexport interface PrismicNews {\n  data: { title: string };\n  last_publication_date: string;\n  uid: string;\n}\n\nconst PRISMIC_API_URL = 'https://sonarsource.cdn.prismic.io/api/v2';\n\nexport function fetchPrismicRefs() {\n  return getCorsJSON(PRISMIC_API_URL).then((response: { refs: Array<PrismicRef> }) => {\n    const master = response && response.refs.find(ref => ref.id === 'master');\n    if (!master) {\n      return Promise.reject('No master ref found');\n    }\n    return Promise.resolve(master);\n  });\n}\n\nexport function fetchPrismicNews(data: {\n  accessToken: string;\n  ps?: number;\n  ref: string;\n  tag?: string;\n}) {\n  const q = ['[[at(document.type, \"blog_sonarsource_post\")]]'];\n  if (data.tag) {\n    q.push(`[[at(document.tags,[\"${data.tag}\"])]]`);\n  }\n  return getCorsJSON(PRISMIC_API_URL + '/documents/search', {\n    access_token: data.accessToken,\n    orderings: '[document.first_publication_date desc]',\n    pageSize: data.ps || 1,\n    q,\n    ref: data.ref\n  }).then(({ results }: { results: Array<PrismicNews> }) => results);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport './PlaceholderBar.css';\n\ninterface Props {\n  color?: string;\n  width: number;\n  height?: number;\n}\n\nexport default function PlaceholderBar({ color, width, height }: Props) {\n  return <span className=\"placeholder-bar\" style={{ color, width, height }} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchPrismicRefs, fetchPrismicNews, PrismicNews } from '../../../api/news';\nimport { getGlobalSettingValue, Store } from '../../../store/rootReducer';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport ChevronRightIcon from '../../../components/icons-components/ChevronRightcon';\nimport PlaceholderBar from '../../../components/ui/PlaceholderBar';\n\ninterface OwnProps {\n  tag?: string;\n}\n\ninterface StateProps {\n  accessToken?: string;\n}\n\ntype Props = OwnProps & StateProps;\n\ninterface State {\n  loading: boolean;\n  news?: PrismicNews;\n}\n\nexport class ProductNewsMenuItem extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchProductNews();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchProductNews = () => {\n    const { accessToken, tag } = this.props;\n    if (accessToken) {\n      this.setState({ loading: true });\n      fetchPrismicRefs()\n        .then(({ ref }) => fetchPrismicNews({ accessToken, ref, tag }))\n        .then(\n          news => {\n            if (this.mounted) {\n              this.setState({ news: news[0], loading: false });\n            }\n          },\n          () => {\n            if (this.mounted) {\n              this.setState({ loading: false });\n            }\n          }\n        );\n    }\n  };\n\n  renderPlaceholder() {\n    return (\n      <a className=\"rich-item new-loading\">\n        <div className=\"flex-1\">\n          <div className=\"display-inline-flex-center\">\n            <h4>Latest news</h4>\n            <span className=\"note spacer-left\">\n              <PlaceholderBar color=\"#aaa\" width={60} />\n            </span>\n          </div>\n          <p className=\"little-spacer-bottom\">\n            <PlaceholderBar color=\"#aaa\" width={84} /> <PlaceholderBar color=\"#aaa\" width={48} />{' '}\n            <PlaceholderBar color=\"#aaa\" width={24} /> <PlaceholderBar color=\"#aaa\" width={72} />{' '}\n            <PlaceholderBar color=\"#aaa\" width={24} /> <PlaceholderBar color=\"#aaa\" width={48} />\n          </p>\n        </div>\n        <ChevronRightIcon className=\"flex-0\" />\n      </a>\n    );\n  }\n\n  render() {\n    const link = 'https://blog.sonarsource.com/';\n    const { loading, news } = this.state;\n\n    if (loading) {\n      return this.renderPlaceholder();\n    }\n\n    if (!news) {\n      return null;\n    }\n\n    return (\n      <a className=\"rich-item\" href={link + news.uid} rel=\"noopener noreferrer\" target=\"_blank\">\n        <div className=\"flex-1\">\n          <div className=\"display-inline-flex-center\">\n            <h4>Latest news</h4>\n            <DateFormatter date={news.last_publication_date}>\n              {formattedDate => <span className=\"note spacer-left\">{formattedDate}</span>}\n            </DateFormatter>\n          </div>\n          <p className=\"little-spacer-bottom\">{news.data.title}</p>\n        </div>\n        <ChevronRightIcon className=\"flex-0\" />\n      </a>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => {\n  const accessToken = getGlobalSettingValue(state, 'sonar.prismic.accessToken');\n  return {\n    accessToken: accessToken && accessToken.value\n  };\n};\n\nexport default connect(mapStateToProps)(ProductNewsMenuItem);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ProductNewsMenuItem from './ProductNewsMenuItem';\nimport { SuggestionsContext } from './SuggestionsContext';\nimport { translate } from '../../../helpers/l10n';\nimport { getBaseUrl } from '../../../helpers/urls';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { DropdownOverlay } from '../../../components/controls/Dropdown';\n\ninterface Props {\n  onClose: () => void;\n}\n\nexport default class EmbedDocsPopup extends React.PureComponent<Props> {\n  renderTitle(text: string) {\n    return <li className=\"menu-header\">{text}</li>;\n  }\n\n  renderSuggestions = ({ suggestions }: { suggestions: T.SuggestionLink[] }) => {\n    if (suggestions.length === 0) {\n      return null;\n    }\n    return (\n      <>\n        {this.renderTitle(translate('embed_docs.suggestion'))}\n        {suggestions.map((suggestion, index) => (\n          <li key={index}>\n            <Link onClick={this.props.onClose} target=\"_blank\" to={suggestion.link}>\n              {suggestion.text}\n            </Link>\n          </li>\n        ))}\n        <li className=\"divider\" />\n      </>\n    );\n  };\n\n  renderIconLink(link: string, icon: string, text: string) {\n    return (\n      <a href={link} rel=\"noopener noreferrer\" target=\"_blank\">\n        <img\n          alt={text}\n          className=\"spacer-right\"\n          height=\"18\"\n          src={`${getBaseUrl()}/images/${icon}`}\n          width=\"18\"\n        />\n        {text}\n      </a>\n    );\n  }\n\n  renderSonarCloudLinks() {\n    return (\n      <React.Fragment>\n        <li className=\"divider\" />\n        <li>\n          <a\n            href=\"https://community.sonarsource.com/c/help/sc\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            {translate('embed_docs.get_help')}\n          </a>\n        </li>\n        <li className=\"divider\" />\n        {this.renderTitle(translate('embed_docs.stay_connected'))}\n        <li>\n          {this.renderIconLink(\n            'https://twitter.com/sonarcloud',\n            'embed-doc/twitter-icon.svg',\n            'Twitter'\n          )}\n        </li>\n        <li>\n          {this.renderIconLink(\n            'https://blog.sonarsource.com/product/SonarCloud',\n            'sonarcloud-square-logo.svg',\n            translate('embed_docs.news')\n          )}\n        </li>\n        <li>\n          <ProductNewsMenuItem tag=\"SonarCloud\" />\n        </li>\n      </React.Fragment>\n    );\n  }\n\n  renderSonarQubeLinks() {\n    return (\n      <React.Fragment>\n        <li className=\"divider\" />\n        <li>\n          <a href=\"https://community.sonarsource.com/\" rel=\"noopener noreferrer\" target=\"_blank\">\n            {translate('embed_docs.get_help')}\n          </a>\n        </li>\n        <li className=\"divider\" />\n        {this.renderTitle(translate('embed_docs.stay_connected'))}\n        <li>\n          {this.renderIconLink(\n            'https://www.sonarsource.com/resources/product-news/',\n            'embed-doc/sq-icon.svg',\n            translate('embed_docs.news')\n          )}\n        </li>\n        <li>\n          {this.renderIconLink(\n            'https://twitter.com/SonarQube',\n            'embed-doc/twitter-icon.svg',\n            'Twitter'\n          )}\n        </li>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <DropdownOverlay>\n        <ul className=\"menu abs-width-240\">\n          <SuggestionsContext.Consumer>{this.renderSuggestions}</SuggestionsContext.Consumer>\n          <li>\n            <Link onClick={this.props.onClose} target=\"_blank\" to=\"/documentation\">\n              {translate('embed_docs.documentation')}\n            </Link>\n          </li>\n          <li>\n            <Link onClick={this.props.onClose} to=\"/web_api\">\n              {translate('api_documentation.page')}\n            </Link>\n          </li>\n          {isSonarCloud() ? this.renderSonarCloudLinks() : this.renderSonarQubeLinks()}\n        </ul>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n"],"sourceRoot":""}