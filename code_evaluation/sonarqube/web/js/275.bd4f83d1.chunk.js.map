{"version":3,"sources":["webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/components/icons-components/RuleScopeIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///../sonar-docs/src/tooltips/rules/rules-quality-profiles.md","webpack:///../sonar-docs/src/tooltips/rules/rule-templates.md","webpack:///./node_modules/lodash/filter.js","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///../sonar-docs/src/tooltips/rules/custom-rule-removal.md","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/controls/SimpleModal.tsx","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/helpers/search.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/components/withAppState.tsx","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/components/search-navigator.css?f3f4","webpack:///./src/main/js/components/search-navigator.css","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx","webpack:///../sonar-docs/src/tooltips/quality-profiles/built-in-quality-profile.md","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx","webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md","webpack:///./src/main/js/apps/coding-rules/styles.css?846f","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?7370","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx"],"names":["__webpack_require__","d","__webpack_exports__","FiltersHeader","react__WEBPACK_IMPORTED_MODULE_0__","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","_a","displayReset","onReset","className","id","onClick","Object","LIST_SIZE","_super","RuleDetailsTagsPopup","_this","apply","this","arguments","mounted","state","searchResult","onSearch","query","rules","q","ps","Math","min","props","tags","length","organization","then","setState","without_default","a","concat","sysTags","onSelect","tag","setTags","uniq_default","onUnselect","__extends","prototype","componentDidMount","componentWillUnmount","render","availableTags","difference_default","index_js_exposed","TagsSelector","listSize","selectedTags","RuleScopeIcon","_b","fill","size","Icon","style","EXTERNAL_RULE_REPO_PREFIX","RuleDetailsMeta_RuleDetailsMeta","RuleDetailsMeta","renderType","ruleDetails","Tooltip","overlay","l10n","type","data-meta","IssueTypeIcon","renderSeverity","SeverityHelper","severity","renderStatus","status","renderTags","canWrite","_c","allTags","Dropdown","closeOnClick","closeOnClickOutside","components_RuleDetailsTagsPopup","onTagsChange","overlayPlacement","popups","BottomLeft","buttons","TagsList","allowUpdate","renderCreationDate","DateFormatter","date","createdAt","renderRepository","referencedRepositories","repository","repo","name","langName","renderTemplate","isTemplate","renderParentTemplate","templateKey","es","to","urls","DocTooltip","doc","Promise","resolve","t","bind","renderRemediation","debtRemFnType","undefined","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","renderExternalBadge","engine","replace","RegExp","RuleDetailsMeta_extends","renderKey","displayedKey","key","startsWith","substr","hasTypeData","isExternal","title","LinkIcon","hideSimilarRulesFilter","SimilarRulesFilter","onFilterChange","rule","RemoveExtendedDescriptionModal","onCancel","onSubmit","header","SimpleModal","onClose","onCloseClick","onFormSubmit","submitting","disabled","RuleDetailsDescription_RuleDetailsDescription","RuleDetailsDescription","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","event","currentTarget","value","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","markdown_note","onChange","handleExtendDescriptionClick","mdNote","renderDescription","htmlNote","dangerouslySetInnerHTML","__html","renderForm","colSpan","autoFocus","rows","width","marginBottom","MarkdownTips","hasDescription","htmlDesc","module","exports","arrayFilter","baseFilter","baseIteratee","isArray","collection","predicate","baseEach","result","index","push","BulkChangeModal","call","handleProfileSelect","options","selectedProfiles","map","option","getAvailableQualityProfiles","referencedProfiles","profiles","values","languages","filter","profile","includes","language","actions","edit","isBuiltIn","processResponse","response","result_1","failed","succeeded","results","sendRequests","looper","data","coding_rules_query","method","action","quality_profiles","__assign","targetKey","_i","profiles_1","handleFormSubmit","preventDefault","finished","renderResult","profileKey","Alert","variant","renderProfileSelect","label","languageName","Select","multi","availableProfiles","total","measures","Modal","contentLabel","onRequestClose","htmlFor","BulkChange","modal","getSelectedProfile","closeModal","handleActivateClick","blur","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","activation","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","href","components_BulkChangeModal","Facet","handleItemClick","itemValue","multiple","newValue","singleSelection","orderBy_default","property","handleHeaderClick","onToggle","handleClear","getStat","stats","renderItem","active","stat","renderName","defaultRenderName","renderTextName","FacetItem","halfWidth","tooltip","Facet_extends","items","sortBy_default","keys","toLowerCase","FacetBox","classnames","search-navigator-facet-box-forbidden","FacetHeader","disabledHelper","onClear","open","children","FacetItemsList","renderFooter","ActivationSeverityFacet","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet_AvailableSinceFacet","AvailableSinceFacet","availableSince","handlePeriodChange","getValues","intl","formatDate","AvailableSinceFacet_extends","DateInput","placeholder","components_AvailableSinceFacet","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","languageKey","installedLanguages","find","l","handleSearch","getAllPossibleOptions","paging","pageIndex","pageSize","uniqBy_default","renderSearchResult","term","search","LanguageFacet_extends","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","minSearchLength","renderFacetItem","searchPlaceholder","components_LanguageFacet","rootReducer","ProfileFacet","selected","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","getTooltip","base","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","RepositoryFacet_RepositoryFacet","RepositoryFacet","referencedLanguages","repositoryKey","RepositoryFacet_extends","facetProps","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","handleSelect","getTagName","renderTag","TagsIcon","theme","TagFacet_extends","TemplateFacet","handleChange","changes","template","Array","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","TypeFacet_extends","TypeFacet_assign","FacetsList","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFacetToggle","openFacets","facets","components_TypeFacet","types","components_TagFacet","repositories","components_DefaultSeverityFacet","severities","components_StatusFacet","statuses","organizationsEnabled","components_TemplateFacet","hideProfileFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner","loading","ReloadButton","onReload","PageCounter","current","selectedIndex","CustomRuleFormModal","prepareRequest","customRule","templateRule","params","csv","join","ruleData","markdown_description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","onDone","handleNameChange","keyModifiedByUser","strings","handleKeyChange","handleTypeChange","handleSeverityChange","handleStatusChange","handleParameterChange","renderNameField","required","renderKeyField","renderDescriptionField","renderTypeOption","TypeHelper","renderTypeField","clearable","optionRenderer","searchable","valueRenderer","renderSeverityOption","renderSeverityField","renderStatusField","renderParameterField","param","defaultValue","extra","renderSubmitButton","mdDesc","CustomRuleFormModal_extends","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","handleRuleCreate","handleRuleDelete","ruleKey","renderRule","data-rule","react_router_es","canChange","ConfirmButton","confirmButtonText","confirmData","isDestructive","modalBody","modalHeader","onConfirm","RuleDetailsCustomRules_extends","componentDidUpdate","prevProps","components_CustomRuleButton","RuleDetailsIssues_RuleDetailsIssues","RuleDetailsIssues","getBaseIssuesQuery","resolved","fetchIssues","issues","RuleDetailsIssues_assign","facet","components","projects","item","project","component","val","count","facet_1","renderTotal","path","totalItem","appState","branchesEnabled","renderProject","RuleDetailsIssues_extends","components_RuleDetailsIssues","withAppState","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationFormModal","getParams","_d","_e","getQualityProfilesWithDepth","utils","lang","ActivationFormModal_assign","depth","handleProfileChange","profilesWithDepth","ActivationFormModal_extends","isCustomRule","activeInAllProfiles","isUpdateMode","repeat","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","components_ActivationFormModal","updateMode","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","RuleInheritanceIcon_assign","height","version","viewBox","xmlSpace","xmlnsXlink","fillRule","RuleDetailsProfiles","fetchProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","parentKey","components_ActivationButton","activations","qProfile","x","data-profile","BuiltInQualityProfileBadge","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","hideQualityProfiles","isCustom","isEditable","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","RuleListItem","data_1","handleNameClick","isLeftClickEvent","button","metaKey","altKey","ctrlKey","shiftKey","onOpen","SeverityIcon","renderDeactivateButton","RuleListItem_extends","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","closeRule","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","fetchQualityProfiles","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","openRule","fetchMoreRules","nextPage","fetchFacet","currentUser","userOrganizations","organizations","getSelectedIndex","findIndex","getRulePath","pathname","router","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleRuleOpen","handleBack","handleFilterChange","handleFacetToggle","handleReload","handleReset","pickRuleAround","handleRuleActivate","handleRuleDeactivate","newRule","searchQuery","isFiltered","App_extends","body","classList","add","documentElement","footer","getElementById","componentWillReceiveProps","nextProps","prevState","remove","Suggestions","suggestions","Helmet","content","ScreenPositionHelper","top","SearchBox","minLength","components_BulkChange","components_RuleDetails","components_RuleListItem","ListFooter","loadMore","ready","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","close","default","addEventListener","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","stopSubmitting","handleCloseClick","submit","handleSubmitClick","_Modal__WEBPACK_IMPORTED_MODULE_1__","onSubmitClick","ModalButton","arrayMap","baseMap","iteratee","searchQualityProfiles","parameters","_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","createQualityProfile","setMethod","setData","restoreQualityProfile","getProfileProjects","getProfileInheritance","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","getImporters","r","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","projectKey","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","ConfirmModal","handleSubmit","renderModalContent","confirmDisable","cancelButtonText","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_4__","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","error","reject","renderConfirmModal","_ConfirmModal__WEBPACK_IMPORTED_MODULE_2__","_ModalButton__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_1__","data-property","csvEscape","renderHelper","helper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","showClearButton","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","clearLabel","renderValue","search-navigator-facet-half","data-facet","defaultProps","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","react__WEBPACK_IMPORTED_MODULE_1__","ref","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","_users__WEBPACK_IMPORTED_MODULE_0__","subscription","admin","org","ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","onItemClick","stopSearching","loadCountsForSearchResults","maxResults","searchMaxResults","searchResults","searchPaging","searchMore","loadSearchResultCount","resultsToLoad","hideFullList","ListStyleFacet_extends","helpers_query","maxInitialItems","renderList","sortedItems","getSortedItems","limitedList","slice","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","facet_ListStyleFacetFooter","renderSearch","renderSearchResults","loadingResults","showList","MultipleSelectionHint","highlightTerm","str","pos","indexOf","substring","ChevronDownIcon","OpenCloseIcon","ChevronRightcon","WrappedComponent","wrappedDisplayName","displayName","Wrapper","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","latinize","slugify","decodeJwt","diacriticsMap","trim","token","segments","split","base64","JSON","parse","atob","letters","forEach","defaultDiacritic","letter","i","hmr","transform","insertInto","locals","baseOrderBy","iteratees","orders","guard","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","navigator","userAgent","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_2__","badge","handleLanguageClick","handleTypeClick","handleSeverityClick","handleTagClick","dataset","_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_1__","data-field","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_3__","data-tag","_components_icons_components_TagsIcon__WEBPACK_IMPORTED_MODULE_6__","_components_icons_components_FilterIcon__WEBPACK_IMPORTED_MODULE_4__","_components_icons_components_DropdownIcon__WEBPACK_IMPORTED_MODULE_5__","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__"],"mappings":"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","file":"js/275.bd4f83d1.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without, uniq, difference } from 'lodash';\nimport TagsSelector from '../../../components/tags/TagsSelector';\nimport { getRuleTags } from '../../../api/rules';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RuleScopeIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Query } from '../query';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport RuleScopeIcon from '../../../components/icons-components/RuleScopeIcon';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport TagsList from '../../../components/tags/TagsList';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport { Button } from '../../../components/ui/buttons';\nimport { PopupPlacement } from '../../../components/ui/popups';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleDetails: T.RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-normal-size badge-danger-light\">\n            {translate('rules.status', ruleDetails.status)}\n          </span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <Button className=\"button-link\">\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </Button>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || 'MAIN';\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n            {engine}\n          </div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderKey() {\n    const EXTERNAL_PREFIX = 'external_';\n    const { ruleDetails } = this.props;\n    const displayedKey = ruleDetails.key.startsWith(EXTERNAL_PREFIX)\n      ? ruleDetails.key.substr(EXTERNAL_PREFIX.length)\n      : ruleDetails.key;\n    return <span className=\"note text-middle\">{displayedKey}</span>;\n  }\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            {this.renderKey()}\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal from '../../../components/controls/SimpleModal';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton\n              className=\"button-red\"\n              disabled={submitting}\n              id=\"coding-rules-detail-extend-description-remove-submit\">\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\nimport { updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      markdown_note: text,\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          dangerouslySetInnerHTML={{ __html: this.props.ruleDetails.htmlNote }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width100\">\n        <tbody>\n          <tr>\n            <td className=\"width100\" colSpan={2}>\n              <textarea\n                autoFocus={true}\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                style={{ width: '100%', marginBottom: 4 }}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            dangerouslySetInnerHTML={{ __html: ruleDetails.htmlDesc || '' }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","module.exports = \"Quality Profiles are collections of Rules to apply during an analysis.\\n\\n---\\n\\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\\n\"","module.exports = \"Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, \\\"custom rules\\\". The rules created from a template are listed on its rule detail page.\\n\"","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","module.exports = \"Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to \\\"REMOVED\\\", allowing relevant issues to continue to be displayed properly.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query, serializeQuery } from '../query';\nimport { Profile, bulkActivateRules, bulkDeactivateRules } from '../../../api/quality-profiles';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  action: string;\n  languages: T.Languages;\n  onClose: () => void;\n  organization: string | undefined;\n  profile?: Profile;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({ ...data, organization: this.props.organization, targetKey: profile }).then(\n          response => this.processResponse(profile, response)\n        )\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    const { languages } = this.props;\n    const language = languages[profile.language]\n      ? languages[profile.language].name\n      : profile.language;\n    return (\n      <Alert key={result.profile} variant={result.failed === 0 ? 'success' : 'warning'}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              language,\n              result.succeeded\n            )}\n      </Alert>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      // prettier-ignore\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished &&\n              !this.state.submitting && (\n                <div className=\"modal-field\">\n                  <h3>\n                    <label htmlFor=\"coding-rules-bulk-change-profile\">\n                      {action === 'activate'\n                        ? translate('coding_rules.activate_in')\n                        : translate('coding_rules.deactivate_in')}\n                    </label>\n                  </h3>\n                  {profile ? (\n                    <h3 className=\"readonly-field\">\n                      {profile.name}\n                      {' — '}\n                      {translate('are_you_sure')}\n                    </h3>\n                  ) : (\n                    this.renderProfileSelect()\n                  )}\n                </div>\n              )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BulkChangeModal from './BulkChangeModal';\nimport { Query } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  languages: T.Languages;\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return null;\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}…\n                </a>\n              </li>\n              {allowActivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                      {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}…\n                </a>\n              </li>\n              {allowDeactivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                      {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal &&\n          this.state.action && (\n            <BulkChangeModal\n              action={this.state.action}\n              languages={this.props.languages}\n              onClose={this.closeModal}\n              organization={this.props.organization}\n              profile={this.state.profile}\n              query={this.props.query}\n              referencedProfiles={this.props.referencedProfiles}\n              total={this.props.total}\n            />\n          )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without, sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { FacetKey } from '../query';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport interface BasicProps {\n  onChange: (changes: { [x: string]: string | string[] | undefined }) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: { [x: string]: number };\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName, renderTextName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={renderTextName(value)}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(Object.keys(stats), key => -stats[key], key => renderTextName(key).toLowerCase()));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': this.props.disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={this.props.disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={this.props.disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !this.props.disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open &&\n          items !== undefined && <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport { Query } from '../query';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nclass AvailableSinceFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  handleHeaderClick = () => {\n    this.props.onToggle('availableSince');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ availableSince: undefined });\n  };\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.props.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(AvailableSinceFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: T.RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: T.RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={['NONE', 'INHERITED', 'OVERRIDES']}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { uniqBy } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface StateProps {\n  installedLanguages: InstalledLanguage[];\n}\n\ninterface Props extends BasicProps, StateProps {}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const language = this.props.installedLanguages.find(l => l.key === languageKey);\n    return language ? language.name : languageKey;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('coding_rules.facet.languages')}\n        fetching={false}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { Query, FacetKey } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: { [profile: string]: Profile };\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  getTooltip = (profile: Profile) => {\n    const base = `${profile.name} ${profile.languageName}`;\n    return profile.isBuiltIn ? `${base} (${translate('quality_profiles.built_in')})` : base;\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        tooltip={this.getTooltip(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip\n            className=\"spacer-left\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rules-quality-profiles.md')}\n          />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Facet, { BasicProps } from './Facet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport { BasicProps } from './Facet';\nimport { getRuleTags } from '../../../api/rules';\nimport * as theme from '../../../app/theme';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { translate } from '../../../helpers/l10n';\nimport { highlightTerm } from '../../../helpers/search';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags => ({\n      paging: { pageIndex: 1, pageSize: tags.length, total: tags.length },\n      results: tags\n    }));\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  renderTag = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {tag}\n    </>\n  );\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('coding_rules.facet.tags')}\n        fetching={false}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends T.Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip\n          className=\"spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rule-templates.md')}\n        />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\nimport { Facets, Query, FacetKey, OpenFacets } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\n\ninterface Props {\n  facets?: Facets;\n  hideProfileFacet?: boolean;\n  onFacetToggle: (facet: FacetKey) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n  return (\n    <>\n      <LanguageFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.tags}\n        organization={props.organization}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        stats={props.facets && props.facets.repositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      {!props.hideProfileFacet && (\n        <>\n          <ProfileFacet\n            activation={props.query.activation}\n            compareToProfile={props.query.compareToProfile}\n            languages={props.query.languages}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.profile}\n            referencedProfiles={props.referencedProfiles}\n            value={props.query.profile}\n          />\n          <InheritanceFacet\n            disabled={inheritanceDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.inheritance}\n            value={props.query.inheritance}\n          />\n          <ActivationSeverityFacet\n            disabled={activationSeverityDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.activationSeverities}\n            stats={props.facets && props.facets.activationSeverities}\n            values={props.query.activationSeverities}\n          />\n        </>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport PageCounter from '../../../components/common/PageCounter';\nimport ReloadButton from '../../../components/controls/ReloadButton';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left flash flash-heavy\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\">←</span>\n        <span className=\"shortcut-button little-spacer-right\">→</span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport { translate } from '../../../helpers/l10n';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { SEVERITIES, RULE_TYPES, RULE_STATUSES } from '../../../helpers/constants';\nimport Select from '../../../components/controls/Select';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { createRule, updateRule } from '../../../api/rules';\nimport { csvEscape } from '../../../helpers/csv';\nimport { latinize } from '../../../helpers/strings';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  customRule?: T.RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: { [p: string]: string };\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: { [p: string]: string } = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState(state => ({\n      name,\n      key: state.keyModifiedByUser ? state.key : latinize(name).replace(/[^A-Za-z0-9]/g, '_')\n    }));\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('name')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <input\n          autoFocus={true}\n          className=\"coding-rules-name-key\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-name\"\n          onChange={this.handleNameChange}\n          required={true}\n          type=\"text\"\n          value={this.state.name}\n        />\n      </td>\n    </tr>\n  );\n\n  renderKeyField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n        </h3>\n      </th>\n      <td>\n        {this.props.customRule ? (\n          <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n            {this.props.customRule.key}\n          </span>\n        ) : (\n          <input\n            className=\"coding-rules-name-key\"\n            disabled={this.state.submitting}\n            id=\"coding-rules-custom-rule-creation-key\"\n            onChange={this.handleKeyChange}\n            required={true}\n            type=\"text\"\n            value={this.state.key}\n          />\n        )}\n      </td>\n    </tr>\n  );\n\n  renderDescriptionField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('description')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <textarea\n          className=\"coding-rules-markdown-description\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-html-description\"\n          onChange={this.handleDescriptionChange}\n          required={true}\n          rows={5}\n          value={this.state.description}\n        />\n        <span className=\"text-right\">\n          <MarkdownTips />\n        </span>\n      </td>\n    </tr>\n  );\n\n  renderTypeOption = ({ value }: { value: T.RuleType }) => {\n    return <TypeHelper type={value} />;\n  };\n\n  renderTypeField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('type')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleTypeChange}\n          optionRenderer={this.renderTypeOption}\n          options={RULE_TYPES.map(type => ({\n            label: translate('issue.type', type),\n            value: type\n          }))}\n          searchable={false}\n          value={this.state.type}\n          valueRenderer={this.renderTypeOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('severity')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleSeverityChange}\n          optionRenderer={this.renderSeverityOption}\n          options={SEVERITIES.map(severity => ({\n            label: translate('severity', severity),\n            value: severity\n          }))}\n          searchable={false}\n          value={this.state.severity}\n          valueRenderer={this.renderSeverityOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderStatusField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('coding_rules.filters.status')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleStatusChange}\n          options={RULE_STATUSES.map(status => ({\n            label: translate('rules.status', status),\n            value: status\n          }))}\n          searchable={false}\n          value={this.state.status}\n        />\n      </td>\n    </tr>\n  );\n\n  renderParameterField = (param: T.RuleParameter) => (\n    <tr className=\"property\" key={param.key}>\n      <th className=\"nowrap\">\n        <h3>{param.key}</h3>\n      </th>\n      <td>\n        {param.type === 'TEXT' ? (\n          <textarea\n            className=\"width100\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            rows={3}\n            value={this.state.params[param.key] || ''}\n          />\n        ) : (\n          <input\n            className=\"input-super-large\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            type=\"text\"\n            value={this.state.params[param.key] || ''}\n          />\n        )}\n        <div className=\"note\" dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.extra && <div className=\"note\">{param.extra}</div>}\n      </td>\n    </tr>\n  );\n\n  renderSubmitButton = () => {\n    if (this.state.reactivating) {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-reactivate\">\n          {translate('coding_rules.reactivate')}\n        </SubmitButton>\n      );\n    } else {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-create\">\n          {translate(this.props.customRule ? 'save' : 'create')}\n        </SubmitButton>\n      );\n    }\n  };\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = translate(\n      customRule ? 'coding_rules.update_custom_rule' : 'coding_rules.create_custom_rule'\n    );\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <Alert variant=\"warning\">{translate('coding_rules.reactivate.help')}</Alert>\n            )}\n            <table>\n              <tbody>\n                {this.renderNameField()}\n                {this.renderKeyField()}\n                {this.renderDescriptionField()}\n                {/* do not allow to change the type of existing rule */}\n                {!customRule && this.renderTypeField()}\n                {this.renderSeverityField()}\n                {this.renderStatusField()}\n                {params.map(this.renderParameterField)}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            {this.renderSubmitButton()}\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: T.RuleDetails;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: T.RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { sortBy } from 'lodash';\nimport CustomRuleButton from './CustomRuleButton';\nimport { searchRules, deleteRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: T.Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      template_key: this.props.ruleDetails.key\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: T.Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params.filter(param => param.defaultValue).map(param => (\n            <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n              <span className=\"key\">{param.key}</span>\n              <span className=\"sep\">:&nbsp;</span>\n              <span className=\"value\" title={param.defaultValue}>\n                {param.defaultValue}\n              </span>\n            </div>\n          ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getFacet } from '../../../api/issues';\nimport { getIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\nimport { withAppState } from '../../../components/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  organization: string | undefined;\n  ruleDetails: Pick<T.RuleDetails, 'key' | 'type'>;\n}\n\ninterface Project {\n  count: number;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails !== this.props.ruleDetails) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getBaseIssuesQuery = () => ({\n    resolved: 'false',\n    rules: this.props.ruleDetails.key,\n    types:\n      this.props.ruleDetails.type === 'SECURITY_HOTSPOT'\n        ? ['VULNERABILITY', 'SECURITY_HOTSPOT'].join()\n        : undefined\n  });\n\n  fetchIssues = () => {\n    this.setState({ loading: true });\n    getFacet(\n      { ...this.getBaseIssuesQuery(), organization: this.props.organization },\n      'projects'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.key === item.val);\n            if (project) {\n              projects.push({ count: item.count, key: project.key, name: project.name });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl(this.getBaseIssuesQuery(), this.props.organization);\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.props.appState.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const path = getIssuesUrl(\n      { ...this.getBaseIssuesQuery(), projects: project.key },\n      this.props.organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(RuleDetailsIssues);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  params: T.RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: T.RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { activateRule, Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { sortProfiles } from '../../quality-profiles/utils';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: T.Rule | T.RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  params: { [p: string]: string };\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: { [p: string]: string } = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as T.RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {!isUpdateMode &&\n              activeInAllProfiles && (\n                <Alert variant=\"info\">{translate('coding_rules.active_in_all_profiles')}</Alert>\n              )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      className=\"width100\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      className=\"input-super-large\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                  {param.extra && <div className=\"note\">{param.extra}</div>}\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationFormModal from './ActivationFormModal';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: T.Rule | T.RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n            updateMode={this.props.updateMode}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as theme from '../../../app/theme';\n\ninterface Props {\n  className?: string;\n  inheritance: T.RuleInheritance;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === 'OVERRIDES' ? theme.red : theme.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { filter } from 'lodash';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport { Profile, deactivateRule, activateRule } from '../../../api/quality-profiles';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  activations: T.RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchProfiles();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchProfiles();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchProfiles = () => this.setState({ loading: true });\n\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: T.RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === 'OVERRIDES' || activation.inherit === 'INHERITED') && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper className=\"display-inline-flex-center\" severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined &&\n        activation.severity !== parentActivation.severity && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n          </div>\n        )}\n    </td>\n  );\n\n  renderParameter = (\n    param: { key: string; value: string },\n    parentActivation?: T.RuleActivation\n  ) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">{': '}</span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation &&\n          param.value !== originalValue && (\n            <div className=\"coding-rules-detail-quality-profile-inheritance\">\n              {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n            </div>\n          )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: T.RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== 'NONE' && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === 'OVERRIDES' &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: T.RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\nimport { Query, Activation } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport { getRuleDetails, deleteRule, updateRule } from '../../../api/rules';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  hideQualityProfiles?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: T.RuleActivation[];\n  loading: boolean;\n  ruleDetails?: T.RuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () =>\n    getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n\n  handleRuleChange = (ruleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(\n      state => (state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags } } : null)\n    );\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(\n          state =>\n            state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags: oldTags } } : null\n        );\n      }\n    });\n  };\n\n  handleActivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n\n  handleDeactivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        if (!this.state.actives.find(active => active.qProfile === selectedProfile.key)) {\n          this.props.onDeactivate(selectedProfile.key, ruleKey);\n        }\n      }\n    });\n\n  handleDelete = () =>\n    deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const {\n      allowCustomRules,\n      canWrite,\n      hideQualityProfiles,\n      organization,\n      referencedProfiles\n    } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip\n                      className=\"spacer-left\"\n                      doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rule-removal.md')}\n                    />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate &&\n            !hideQualityProfiles && (\n              <RuleDetailsProfiles\n                activations={this.state.actives}\n                canWrite={canWrite}\n                onActivate={this.handleActivate}\n                onDeactivate={this.handleDeactivate}\n                organization={organization}\n                referencedProfiles={referencedProfiles}\n                ruleDetails={ruleDetails}\n              />\n            )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsIssues organization={organization} ruleDetails={ruleDetails} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Activation, Query } from '../query';\nimport { Profile, deactivateRule } from '../../../api/quality-profiles';\nimport { Button } from '../../../components/ui/buttons';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport SeverityIcon from '../../../components/icons-components/SeverityIcon';\nimport TagsList from '../../../components/tags/TagsList';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  activation?: Activation;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onOpen: (ruleKey: string) => void;\n  organization: string | undefined;\n  rule: T.Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(() => this.props.onDeactivate(data.key, data.rule), () => {});\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: 'NONE'\n      });\n    }\n    return Promise.resolve();\n  };\n\n  handleNameClick = (event: React.MouseEvent) => {\n    // cmd(ctrl) + click should open a rule permalink in a new tab\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n    if (isModifiedEvent || !isLeftClickEvent) {\n      return;\n    }\n\n    event.preventDefault();\n    this.props.onOpen(this.props.rule.key);\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile &&\n          selectedProfile.parentName && (\n            <>\n              {activation.inherit === 'OVERRIDES' && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.overrides',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n              {activation.inherit === 'INHERITED' && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.inherits',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n            </>\n          )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, rule, selectedProfile } = this.props;\n    if (!selectedProfile) {\n      return null;\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit || selectedProfile.isBuiltIn) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (inherit: string) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate('coding_rules.can_not_deactivate')}>\n        <Button className=\"coding-rules-detail-quality-profile-deactivate button-red disabled\">\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link\n                    className=\"link-no-underline\"\n                    onClick={this.handleNameClick}\n                    to={getRuleUrl(rule.key, this.props.organization)}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"outline-badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"spacer-left note\">{rule.langName}</span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon className=\"little-spacer-right\" query={rule.type} />\n                      {translate('issue.type', rule.type)}\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <TagsList allowUpdate={false} className=\"note spacer-left\" tags={allTags} />\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport * as key from 'keymaster';\nimport { keyBy } from 'lodash';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  Facets,\n  Query,\n  parseQuery,\n  serializeQuery,\n  areQueriesEqual,\n  shouldRequestFacet,\n  FacetKey,\n  OpenFacets,\n  getServerFacet,\n  getAppFacet,\n  Actives,\n  Activation,\n  getOpen\n} from '../query';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { searchRules, getRulesApp } from '../../../api/rules';\nimport { searchQualityProfiles, Profile } from '../../../api/quality-profiles';\nimport {\n  getCurrentUser,\n  getLanguages,\n  getMyOrganizations,\n  Store,\n  getAppState\n} from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\nimport { hasPrivateAccess } from '../../../helpers/organizations';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface StateToProps {\n  appState: T.AppState;\n  currentUser: T.CurrentUser;\n  languages: T.Languages;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps extends WithRouterProps {\n  organization: T.Organization | undefined;\n}\n\ntype Props = OwnProps & StateToProps;\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: T.Rule;\n  paging?: T.Paging;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  rules: T.Rule[];\n  selected?: string;\n}\n\n// TODO redirect to default organization's rules page\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      openFacets: { languages: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    document.body.classList.add('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.add('white-page');\n    }\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.add('page-footer-with-sidebar');\n    }\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    this.setState(({ rules, selected }) => {\n      const openRule = this.getOpenRule(nextProps, rules);\n      return {\n        openRule,\n        query: parseQuery(nextProps.location.query),\n        selected: openRule ? openRule.key : selected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.body.classList.remove('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.remove('white-page');\n    }\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.closeRule();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: T.Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () =>\n    Object.keys(this.state.openFacets)\n      .filter((facet: FacetKey) => this.state.openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), this.fetchQualityProfiles()]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({ actives, facets, loading: false, openRule, paging, rules, selected });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  fetchQualityProfiles = () => {\n    const { currentUser, organization, userOrganizations } = this.props;\n    if (hasPrivateAccess(currentUser, organization, userOrganizations)) {\n      return searchQualityProfiles({ organization: organization && organization.key });\n    }\n    return { profiles: [] };\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.props.router.replace(path);\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleRuleOpen = (ruleKey: string) => {\n    this.props.router.push(this.getRulePath(ruleKey));\n  };\n\n  handleBack = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.closeRule();\n  };\n\n  handleFilterChange = (changes: Partial<Query>) =>\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n  handleFacetToggle = (facet: keyof Query) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: !state.openFacets[facet] }\n    }));\n    if (shouldRequestFacet(facet) && (!this.state.facets || !this.state.facets[facet])) {\n      this.fetchFacet(facet);\n    }\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.props.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: T.Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState(state => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        const newRule = { ...actives[rule] };\n        delete newRule[profile];\n        return { actives: { ...actives, [rule]: newRule } };\n      }\n      return null;\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n    const hideQualityProfiles = !hasPrivateAccess(\n      this.props.currentUser,\n      this.props.organization,\n      this.props.userOrganizations\n    );\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      hideProfileFacet={hideQualityProfiles}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.props.appState.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  {this.state.openRule ? (\n                    <a className=\"js-back\" href=\"#\" onClick={this.handleBack}>\n                      {translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.state.paging && (\n                      <BulkChange\n                        languages={this.props.languages}\n                        organization={organization}\n                        query={this.state.query}\n                        referencedProfiles={this.state.referencedProfiles}\n                        total={this.state.paging.total}\n                      />\n                    )\n                  )}\n                  <PageActions\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.props.appState.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  hideQualityProfiles={hideQualityProfiles}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      onOpen={this.handleRuleOpen}\n                      organization={organization}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: { [rule: string]: T.RuleActivation[] }) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: { [value: string]: number } = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state),\n  languages: getLanguages(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nexport default withRouter(connect(mapStateToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from './Modal';\n\nexport interface ChildrenProps {\n  onCloseClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  onFormSubmit: (event: React.SyntheticEvent<HTMLFormElement>) => void;\n  onSubmitClick: (event?: React.SyntheticEvent<HTMLElement>) => void;\n  submitting: boolean;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  header: string;\n  onClose: () => void;\n  onSubmit: () => void | Promise<void>;\n}\n\ninterface State {\n  submitting: boolean;\n}\n\nexport default class SimpleModal extends React.Component<Props, State> {\n  mounted = false;\n  state: State = { submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopSubmitting = () => {\n    if (this.mounted) {\n      this.setState({ submitting: false });\n    }\n  };\n\n  handleCloseClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.props.onClose();\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.submit();\n  };\n\n  handleSubmitClick = (event?: React.SyntheticEvent<HTMLElement>) => {\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n    this.submit();\n  };\n\n  submit = () => {\n    const result = this.props.onSubmit();\n    if (result) {\n      this.setState({ submitting: true });\n      result.then(this.stopSubmitting, this.stopSubmitting);\n    }\n  };\n\n  render() {\n    return (\n      <Modal contentLabel={this.props.header} onRequestClose={this.props.onClose}>\n        {this.props.children({\n          onCloseClick: this.handleCloseClick,\n          onFormSubmit: this.handleFormSubmit,\n          onSubmitClick: this.handleSubmitClick,\n          submitting: this.state.submitting\n        })}\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from '../helpers/csv';\nimport {\n  request,\n  checkStatus,\n  parseJSON,\n  getJSON,\n  post,\n  postJSON,\n  RequestData\n} from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile(data: {\n  compareToSonarWay?: boolean;\n  profile: string;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', data);\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/create')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/restore')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance(profileKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/inheritance', { profileKey }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/set_default', { profileKey });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile(profileKey: string) {\n  return post('/api/qualityprofiles/delete', { profileKey }).catch(throwGlobalError);\n}\n\nexport function changeProfileParent(profileKey: string, parentKey: string) {\n  return post('/api/qualityprofiles/change_parent', { profileKey, parentKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(data: RequestData): Promise<any> {\n  return getJSON('/api/qualityprofiles/changelog', data);\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/add_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function dissociateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/remove_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\nexport interface SearchUsersResponse {\n  users: Array<{\n    avatar?: string;\n    login: string;\n    name: string;\n    selected?: boolean;\n  }>;\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: { [key: string]: string };\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate } from '../../helpers/l10n';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\n\ninterface Props<T> {\n  children: React.ReactNode;\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  header: string;\n  isDestructive?: boolean;\n  onClose: () => void;\n  onConfirm: (data?: T) => void | Promise<void>;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const { children, confirmButtonText, confirmDisable, header, isDestructive } = this.props;\n    const { cancelButtonText = translate('cancel') } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {cancelButtonText}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header } = this.props;\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON, postJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: { [rule: string]: T.RuleActivation[] };\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    error => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (error && error.response && error.response.status === 409) {\n        return Promise.reject(error.response);\n      } else {\n        return throwGlobalError(error);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\nimport ConfirmModal from './ConfirmModal';\n\nexport { ChildrenProps } from './ModalButton';\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  cancelButtonText?: string;\n  confirmButtonText: string;\n  confirmData?: string;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  onConfirm: (data?: string) => void | Promise<void>;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton extends React.PureComponent<Props, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    return (\n      <ConfirmModal\n        cancelButtonText={this.props.cancelButtonText}\n        confirmButtonText={this.props.confirmButtonText}\n        confirmData={this.props.confirmData}\n        confirmDisable={this.props.confirmDisable}\n        header={this.props.modalHeader}\n        isDestructive={this.props.isDestructive}\n        onClose={onClose}\n        onConfirm={this.props.onConfirm}>\n        {this.props.modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess &&\n          allShown && (\n            <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n              {translate('show_less')}\n            </a>\n          )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy, without } from 'lodash';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\nimport { translate } from '../../helpers/l10n';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport SearchBox from '../controls/SearchBox';\nimport ListFooter from '../controls/ListFooter';\nimport { formatMeasure } from '../../helpers/measures';\nimport { queriesEqual, RawQuery } from '../../helpers/query';\nimport { Alert } from '../ui/Alert';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<{ [x: string]: number }>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: { [x: string]: string | string[] }) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: { [x: string]: number } | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: { [key: string]: number };\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else this.props.onChange({ [this.props.property]: [] });\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(Object.keys(stats), key => -stats[key], key => this.props.getFacetItemText(key));\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults &&\n          this.state.showFullList && (\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('facet_might_have_more_results')}\n            </Alert>\n          )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox className={this.props.className} property={this.props.property}>\n        <FacetHeader\n          name={this.props.facetHeader}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        <DeferredSpinner loading={this.props.fetching} />\n        {this.props.open && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport function highlightTerm(str: string, term: string) {\n  const pos = str.toLowerCase().indexOf(term.toLowerCase());\n  return pos !== -1 ? (\n    <>\n      {pos > 0 && str.substring(0, pos)}\n      <mark>{str.substr(pos, term.length)}</mark>\n      {pos + term.length < str.length && str.substring(pos + term.length)}\n    </>\n  ) : (\n    str\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Store, getAppState } from '../store/rootReducer';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentClass<P & { appState: Partial<T.AppState> }>\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = `withAppState(${wrappedDisplayName})`;\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[·/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n\\n/* TODO this file is HUGE and should be cut into smaller components */\\n\\n.search-navigator.sticky .search-navigator-workspace-header {\\n  position: fixed;\\n  z-index: 50;\\n  top: 0;\\n  left: 300px;\\n  right: 0;\\n}\\n\\n.search-navigator.sticky .search-navigator-workspace-list,\\n.search-navigator.sticky .search-navigator-workspace-details {\\n  padding-top: 43px;\\n}\\n\\n.search-navigator-facet-box {\\n  background-color: #f3f3f3;\\n  font-size: 13px;\\n}\\n\\n.search-navigator-facet-box.leak-facet-box {\\n  background-color: #fbf3d5;\\n  border: 1px solid #eae3c7;\\n}\\n\\n.search-navigator-facet-box.is-inner {\\n  margin-left: 8px;\\n  padding-left: 12px;\\n  border-left: 1px solid #e6e6e6;\\n}\\n\\n.search-navigator-facet-box.is-inner .search-navigator-facet-header {\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n}\\n\\n.leak-facet-box:not(.hidden) + .leak-facet-box {\\n  border-top: none;\\n}\\n\\n.search-navigator-facet-box-forbidden {\\n  background-color: transparent;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-list,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-empty,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-container {\\n  display: none;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  cursor: default;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box > .spinner {\\n  float: right;\\n  margin-top: -24px;\\n}\\n\\n.search-navigator-facet {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  height: 24px;\\n  margin: 0 0 1px 0;\\n  padding: 0 6px;\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  white-space: normal;\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n  transition: none;\\n}\\n\\na.search-navigator-facet {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n\\na.search-navigator-facet .facet-name {\\n  color: #444;\\n}\\n\\na.search-navigator-facet:hover,\\na.search-navigator-facet:focus,\\n.search-navigator-facet.active {\\n  border-color: #4b9fd5;\\n}\\n\\n.search-navigator-facet.facet-category {\\n  opacity: 1;\\n  cursor: default;\\n}\\n\\n.search-navigator-facet.facet-category .facet-name {\\n  color: #777;\\n}\\n\\n.search-navigator-facet .facet-name {\\n  flex: 1 1 auto;\\n  min-width: 0;\\n  line-height: 16px;\\n  padding: 1px 0; /* needed to fit small ratings and levels */\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.search-navigator-facet .facet-stat {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 8px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-facet .facet-toggle {\\n  display: none;\\n  float: left;\\n  height: 16px;\\n  line-height: 16px;\\n  margin-top: -1px;\\n  padding: 0 5px;\\n  border-radius: 2px;\\n  font-size: 11px;\\n  text-transform: lowercase;\\n}\\n\\n.search-navigator-facet .facet-toggle:hover {\\n  color: #444;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-red {\\n  background-color: #d4333f;\\n  color: #ffffff;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-name {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat:before {\\n  background-image: linear-gradient(to right, rgba(251, 243, 213, 0), #fbf3d5 75%);\\n}\\n\\n.search-navigator-facet.active {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet.active .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-red {\\n  background-color: transparent;\\n  color: #777;\\n}\\n\\n.search-navigator-facet-half {\\n  width: 45%;\\n}\\n\\n.search-navigator-facet-half:nth-child(odd) {\\n  margin-right: 10%;\\n}\\n\\n.search-navigator-facet-highlight-under-container {\\n  margin-bottom: 1px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet {\\n  margin-bottom: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active {\\n  border-bottom: none;\\n  padding-bottom: 1px;\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  border-top: none;\\n  border-bottom: none;\\n  border-left-color: #4b9fd5;\\n  border-right-color: #4b9fd5;\\n  border-radius: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet:last-of-type,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet.active {\\n  border-top: 1px solid #4b9fd5;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet {\\n  background-color: #a1cde8;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  .facet-toggle,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-header {\\n  display: block;\\n  flex-shrink: 0;\\n  padding: 8px 0;\\n  color: #444;\\n  font-weight: 600;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-header > a {\\n  border-bottom: none;\\n  color: #444;\\n}\\n\\n.search-navigator-facet-header > a:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-header > .note {\\n  font-weight: 400;\\n}\\n\\n.search-navigator-facet-header-value {\\n  display: block;\\n  overflow: hidden;\\n}\\n\\n.search-navigator-facet-header-value > .badge {\\n  display: block;\\n}\\n\\n.search-navigator-facet-header-button {\\n  flex-shrink: 0;\\n  margin-left: auto;\\n}\\n\\n.search-navigator-facet-header-wrapper {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.search-navigator-facet-list {\\n  padding-bottom: 8px;\\n  font-size: 0;\\n}\\n\\n.search-navigator-facet-empty {\\n  margin: 0 0 0 0;\\n  padding: 0 10px 10px;\\n  color: #444;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-footer {\\n  display: block;\\n  padding-bottom: 8px;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-facet-container {\\n  margin-top: 6px;\\n  padding: 0 10px 16px;\\n}\\n\\n.search-navigator-date-facet-selection {\\n  position: relative;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-date-facet-selection:before,\\n.search-navigator-date-facet-selection:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-date-facet-selection:after {\\n  clear: both;\\n}\\n\\n.search-navigator-date-facet-selection .date-input-control-input {\\n  width: 115px !important;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-left {\\n  float: left;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-right {\\n  float: right;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-input-left {\\n  position: absolute;\\n  left: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection-input-right {\\n  position: absolute;\\n  right: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection\\n  .date-input-control:not(:nth-of-type(1))\\n  .date-input-calendar {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.search-navigator-filters {\\n  position: relative;\\n  padding: 5px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.search-navigator-filters:before,\\n.search-navigator-filters:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-filters:after {\\n  clear: both;\\n}\\n\\n.search-navigator-filters-header {\\n  margin-bottom: 12px;\\n  padding-bottom: 11px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n.search-navigator-intro {\\n  width: 500px;\\n  margin: 0 auto;\\n  padding-top: 100px;\\n}\\n\", \"\"]);\n\n// exports\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('outline-badge', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return (\n      <DocTooltip\n        doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/built-in-quality-profile.md')}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n  return badge;\n}\n","module.exports = \"Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Query } from '../query';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { translate } from '../../../helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport FilterIcon from '../../../components/icons-components/FilterIcon';\nimport DropdownIcon from '../../../components/icons-components/DropdownIcon';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: T.Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a data-field=\"language\" href=\"#\" onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a data-field=\"type\" href=\"#\" onClick={this.handleTypeClick}>\n                  {translate('issue.type', rule.type)}\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a data-field=\"severity\" href=\"#\" onClick={this.handleSeverityClick}>\n                    <SeverityHelper severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && (\n                <>\n                  <li className=\"divider\" />\n                  {allTags.map(tag => (\n                    <li key={tag}>\n                      <a data-field=\"tag\" data-tag={tag} href=\"#\" onClick={this.handleTagClick}>\n                        <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                        <span className=\"text-middle\">{tag}</span>\n                      </a>\n                    </li>\n                  ))}\n                </>\n              )}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n","module.exports = \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.coding-rules-extended-view .coding-rules-list {\\n  display: none;\\n}\\n\\n.coding-rules-extended-view .coding-rules-details {\\n  display: block;\\n}\\n\\n/*\\n * Detail\\n */\\n\\n.coding-rules-detail-title {\\n  position: relative;\\n  display: inline-block;\\n  margin: 16px 0;\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter {\\n  display: block;\\n  height: 100%;\\n  padding-top: 0;\\n  padding-right: 10px;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter .key,\\n.coding-rules-detail-quality-profile-parameter .value,\\n.coding-rules-detail-quality-profile-parameter .sep {\\n  display: inline;\\n  vertical-align: top;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter .value {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 23px;\\n  max-width: 300px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;\\n}\\n\\n.coding-rules-detail-quality-profile-parameter + .coding-rules-detail-quality-profile-parameter {\\n  margin-top: 0;\\n}\\n\\n.coding-rules-detail-properties {\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  margin-top: 8px;\\n}\\n\\n.coding-rules-detail-properties + .coding-rules-detail-properties {\\n  margin-top: -10px;\\n}\\n\\n.coding-rules-detail-property {\\n  display: flex;\\n  align-items: center;\\n  margin-right: 16px;\\n  margin-bottom: 8px;\\n  font-size: 12px;\\n}\\n\\n.coding-rules-detail-tag + .coding-rules-detail-tag {\\n  margin-left: 10px;\\n}\\n\\n.coding-rules-detail-tags-change {\\n  cursor: pointer;\\n}\\n\\n.coding-rules-detail-tags-change:hover span {\\n  text-decoration: underline;\\n}\\n\\n.coding-rules-detail-tag-edit {\\n  line-height: 1;\\n}\\n\\n.coding-rules-details-tag-edit-cancel {\\n  vertical-align: middle;\\n}\\n\\n.coding-rules-detail-description {\\n  margin: 20px 0;\\n}\\n\\n.coding-rules-detail-description-extra {\\n  margin-top: -10px;\\n}\\n\\n.coding-rules-detail-extend-description-form {\\n  margin: 10px 0;\\n}\\n\\n.coding-rules-detail-parameters {\\n  width: 100%;\\n  margin: 10px 0 20px;\\n}\\n\\n.coding-rules-detail-parameter-name {\\n  width: 1px;\\n  vertical-align: top;\\n  padding: 5px 10px 5px 0;\\n  font-weight: bold;\\n}\\n\\n.coding-rules-detail-parameter-description {\\n  vertical-align: top;\\n  padding: 5px 5px;\\n}\\n\\n.coding-rules-detail-parameter-value {\\n  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;\\n  word-break: break-all;\\n}\\n\\n.coding-rules-detail-quality-profiles,\\n.coding-rules-detail-list {\\n  width: 100%;\\n  line-height: 22px;\\n}\\n\\n.coding-rules-detail-quality-profiles td,\\n.coding-rules-detail-list td {\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.coding-rules-detail-quality-profiles tr:first-child td,\\n.coding-rules-detail-list tr:first-child td {\\n  border-top: none;\\n}\\n\\n.coding-rules-detail-quality-profile-name,\\n.coding-rules-detail-list-name {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 5px 8px 0;\\n  font-weight: 600;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-severity,\\n.coding-rules-detail-list-severity {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 5px;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-severity i {\\n  margin-top: 2px;\\n}\\n\\n.coding-rules-detail-quality-profile-parameters,\\n.coding-rules-detail-list-parameters {\\n  vertical-align: top;\\n  padding: 8px 5px;\\n}\\n\\n.coding-rules-detail-quality-profile-actions,\\n.coding-rules-detail-list-actions {\\n  vertical-align: top;\\n  width: 1px;\\n  padding: 8px 0 8px 5px;\\n  text-align: right;\\n  white-space: nowrap;\\n}\\n\\n.coding-rules-detail-quality-profile-inheritance {\\n  font-size: 12px;\\n  font-weight: normal;\\n}\\n\\n.coding-rules-detail-quality-profiles-activation {\\n  margin-top: -3px;\\n  margin-left: 10px;\\n}\\n\\ninput.coding-rules-name-key {\\n  width: 100%;\\n}\\n\\ntextarea.coding-rules-markdown-description {\\n  width: 100%;\\n  margin-bottom: 4px;\\n}\\n\\n.coding-rules-most-violated-projects td {\\n  border-top-color: transparent;\\n}\\n\\n.coding-rules-most-violated-projects tr:first-child + tr td {\\n  border-top-color: #e6e6e6;\\n}\\n\\n.coding-rules-most-violated-projects .coding-rules-detail-list-name {\\n  font-weight: 400;\\n}\\n\\n.coding-rule {\\n  padding: 8px 10px 8px 8px;\\n  border: 1px solid transparent;\\n  background-color: #fff;\\n}\\n\\n.coding-rule.selected {\\n  border-color: #4b9fd5 !important;\\n}\\n\\n.coding-rule + .coding-rule {\\n  border-top-color: #e6e6e6;\\n}\\n\\n.coding-rule.selected + .coding-rule {\\n  border-top-color: transparent;\\n}\\n\\n.coding-rule-table {\\n  width: 100%;\\n}\\n\\n.coding-rule-table td {\\n  vertical-align: top;\\n}\\n\\n.coding-rule-table + .coding-rule-table {\\n  margin-top: 5px;\\n}\\n\\n.coding-rule-table-meta-cell {\\n  width: 1px;\\n  white-space: nowrap;\\n}\\n\\n@media (max-width: 1320px) {\\n  .coding-rule-table .tags-list span {\\n    max-width: 100px;\\n  }\\n}\\n.coding-rule-title {\\n  line-height: 20px;\\n  font-size: 13px;\\n}\\n\\n.coding-rule-meta {\\n  padding: 2px;\\n  padding-left: 30px;\\n  font-size: 12px;\\n}\\n\\n.coding-rule-activation {\\n  width: 40px;\\n  line-height: 19.5px;\\n}\\n\\n.coding-rule-activation-actions {\\n  padding-left: 20px;\\n}\\n\\n.coding-rule-section-separator {\\n  height: 0;\\n  margin: 10px 0;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.multiple-selection-hint {\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n  text-align: center;\\n}\\n\\n.multiple-selection-hint-inner {\\n  display: inline-block;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  background-color: #e6e6e6;\\n  text-align: center;\\n  padding: 0 8px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n"],"sourceRoot":""}