{"version":3,"sources":["webpack:///./node_modules/lodash/differenceBy.js","webpack:///../sonar-docs/src/tooltips/branches/no-branch-support.md","webpack:///../sonar-docs/src/tooltips/branches/single-branch.md","webpack:///./src/main/js/app/components/nav/component/ComponentNav.css?2b0a","webpack:///./src/main/js/app/components/nav/component/ComponentNav.css","webpack:///./src/main/js/app/components/ComponentContainerNotFound.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranchesMenuItem.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranchesMenu.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBranch.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavHeader.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavWarnings.tsx","webpack:///./src/main/js/components/common/BranchMeasures.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavMeta.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavMenu.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavLicenseNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNavBgTaskNotif.tsx","webpack:///./src/main/js/app/components/nav/component/ComponentNav.tsx","webpack:///./src/main/js/app/components/ComponentContainer.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/apps/background-tasks/constants.ts","webpack:///./src/main/js/components/icons-components/DetachIcon.tsx","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.tsx","webpack:///./src/main/js/components/icons-components/FavoriteIcon.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.css?4de2","webpack:///./src/main/js/components/ui/DuplicationsRating.css","webpack:///./src/main/js/components/withAppState.tsx","webpack:///./src/main/js/app/utils/handleRequiredAuthorization.ts","webpack:///./src/main/js/api/ce.ts","webpack:///./src/main/js/components/controls/FavoriteBase.tsx","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/components/icons-components/HomeIcon.tsx","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./src/main/js/components/common/OrganizationHelmet.tsx","webpack:///./src/main/js/components/icons-components/WarningIcon.tsx","webpack:///./src/main/js/components/nav/NavBarNotif.tsx","webpack:///./src/main/js/app/components/ComponentContext.tsx","webpack:///./src/main/js/components/icons-components/PlusCircleIcon.tsx","webpack:///./src/main/js/components/nav/NavBarNotif.css?583a","webpack:///./src/main/js/components/nav/NavBarNotif.css","webpack:///./src/main/js/components/icons-components/PendingIcon.tsx"],"names":["baseDifference","__webpack_require__","baseFlatten","baseIteratee","baseRest","isArrayLikeObject","last","differenceBy","array","values","iteratee","undefined","module","exports","content","i","options","hmr","transform","insertInto","locals","push","ComponentContainerNotFound","index_js_exposed","Helmet","defaultTitle","Object","l10n","defer","className","id","react_router_es","to","ComponentNavBranchesMenuItem","_a","branchLike","props","__rest","displayName","helpers_branches","shouldBeIndented","isOrphan","key","onMouseEnter","onSelect","ref","innerRef","classnames","active","selected","urls","component","title","BranchIcon","big-spacer-left","BranchStatus","concise","ComponentNavBranchesMenu_ComponentNavBranchesMenu","_super","ComponentNavBranchesMenu","_this","apply","this","arguments","state","query","getFilteredBranchLikes","toLowerCase","branchLikes","filter","matchBranchName","name","includes","matchPullRequestTitleOrId","handleSearchChange","setState","handleKeyDown","event","keyCode","preventDefault","openSelected","selectPrevious","selectNext","getSelected","router","getProjectBranchUrl","index","findIndex","b","branches","length","handleSelect","find","currentBranchLike","renderSearch","SearchBox","autoFocus","onChange","onKeyDown","placeholder","value","renderBranchesList","items","map","previous","isPreviousOrphan","showDivider","showOrphanHeader","showPullRequestHeader","showShortLivingBranchHeader","isSelected","HelpTooltip","overlay","node","selectedBranchNode","listNode","__extends","prototype","componentDidMount","scrollToSelectedBranch","componentDidUpdate","smooth","scrolling","parent","render","showManageLink","qualifier","configuration","showSettings","Dropdown","noPadding","pathname","component_ComponentNavBranchesMenu","withRouter","ComponentNavBranch_ComponentNavBranch","ComponentNavBranch","mounted","dropdownOpen","handleClick","stopPropagation","currentTarget","blur","closeDropdown","renderMergeBranch","mergeBranch","index_es","defaultMessage","base","branch","renderOverlay","breadcrumbs","ComponentNavBranch_extends","componentWillReceiveProps","nextProps","location","componentWillUnmount","_b","system","appState","branchesEnabled","fill","theme","PlusCircleIcon","size","DocTooltip","doc","Promise","resolve","then","t","bind","Toggler","onRequestClose","open","canAdmin","onClose","href","onClick","DropdownIcon","component_ComponentNavBranch","withAppState","component_ComponentNavHeader","es","ownProps","organization","rootReducer","shouldOrganizationBeDisplayed","lastItem","OrganizationHelmet","OrganizationAvatar","OrganizationLink","item","isPath","itemName","path","QualifierIcon","alm","url","rel","target","alt","almIntegrations","height","src","width","AnalysisWarningsModal","lazyLoad","all","e","ComponentNavWarnings","modal","handleCloseModal","ComponentNavWarnings_extends","WarningIcon","warnings","String","BranchMeasures","componentKey","measures","newCoverage","measure","metric","newDuplications","BranchCoverage","BranchDuplications","utils","CoverageRating","helpers_measures","link","DuplicationsRating","Number","component_ComponentNavMeta","currentUser","branchMeasures","mainBranch","longBranch","currentPage","type","getCurrentPage","displayVersion","version","component_ComponentNavWarnings","analysisDate","DateTimeFormatter","date","Tooltip","mouseEnterDelay","users","Favorite","favorite","Boolean","isFavorite","HomePageSelect","DetachIcon","SETTINGS_URLS","ComponentNavMenu_ComponentNavMenu","ComponentNavMenu","getQuery","__assign","renderExtension","isAdmin","activeClassName","ComponentNavMenu_extends","isProject","isDeveloper","isPortfolio","isApplication","getConfiguration","renderDashboardLink","renderCodeLink","renderActivityLink","renderIssuesLink","isIssuesActive","startsWith","resolved","renderComponentMeasuresLink","renderSecurityReportsLink","renderSecurityReports","isActive","tagName","onToggleClick","aria-expanded","aria-haspopup","renderAdministration","isSettingsActive","some","window","indexOf","adminLinks","renderAdministrationLinks","data-test","renderSettingsLink","renderBranchesLink","renderProfilesLink","renderQualityGateLink","renderCustomMeasuresLink","renderLinksLink","renderPermissionsLink","renderBackgroundTasksLink","renderUpdateKeyLink","renderWebhooksLink","renderAdminExtensions","renderDeletionLink","showQualityProfiles","showQualityGates","showManualMeasures","showLinks","showPermissions","showBackgroundTasks","showUpdateKey","extensions","renderExtensions","NavBarTabs","component_ComponentNavMenu","ComponentNavLicenseNotif_ComponentNavLicenseNotif","ComponentNavLicenseNotif","loading","fetchIsValidLicense","marketplace","isValidLicense","ComponentNavLicenseNotif_extends","currentTask","errorType","NavBarNotif","variant","errorMessage","component_ComponentNavLicenseNotif","ComponentNavBgTaskNotif","ComponentNavBgTaskNotif_extends","renderMessage","messageKey","status","currentTaskOnSameBranch","isInProgress","isPending","PendingIcon","constants","ALL","FAILED","pullRequest","pullRequestTitle","message","ComponentNav","populateRecentHistory","RecentHistory","add","ComponentNav_extends","prevProps","notifComponent","component_ComponentNavBgTaskNotif","ContextNavBar","notif","FETCH_STATUS_WAIT_TIME","ComponentContainer_ComponentContainer","ComponentContainer","addQualifier","ComponentContainer_assign","fetchBranches","application","api_branches","getCurrentBranchLike","project","pullRequests","concat","fetchBranchMeasures","api_measures","metricKeys","fetchStatus","ce","current","queue","shouldFetchComponent_1","tasksInProgress","newCurrentTask","getCurrentTask","pendingTasks","getPendingTasks","newTasksInProgress","task","IN_PROGRESS","currentTaskChanged","progressChanged","differenceBy_default","clearTimeout","watchStatusTimer","setTimeout","PENDING","fetchComponent","fetchWarnings","isMain","isSameBranch","branchType","handleComponentChange","changes","handleBranchesChange","ComponentContainer_extends","nav","components","data","organizationsEnabled","fetchOrganizations","catch","response","handleRequiredAuthorization","nav_component_ComponentNav","ComponentContext","Provider","children","onBranchesChange","onComponentChange","mapDispatchToProps","rootActions","__webpack_exports__","toNumber","INFINITY","MAX_INTEGER","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","close","default","document","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_0__","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","d","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","style","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","FoundIcon","nativeMax","Math","max","nativeMin","min","number","start","end","formatterOption","year","month","day","hour","minute","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","collapsePath","limit","tokens","split","head","tail","middle","slice","cut","join","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","substr","baseInRange","toFinite","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","user","externalProvider","almKey","personal","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","periods","Array","isArray","period","getPeriod","dateFormatter","parameter","modeParam","mode","KNOWN_RATINGS","enhanceMeasure","metrics","leak","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","metricKey","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","STATUSES","ALL_TYPES","CURRENTS","DEFAULT_FILTERS","DEBOUNCE_DELAY","ALL_EXCEPT_PENDING","SUCCESS","CANCELED","ONLY_CURRENTS","taskType","currents","minSubmittedAt","maxExecutedAt","_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","DonutChart","SIZE_TO_WIDTH_MAPPING","small","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","muted","_c","numberValue","thickness","classnames__WEBPACK_IMPORTED_MODULE_2__","duplications-rating-small","duplications-rating-big","duplications-rating-huge","duplications-rating-muted","isNaN","duplications-rating-A","lodash_inRange__WEBPACK_IMPORTED_MODULE_0___default","duplications-rating-B","duplications-rating-C","duplications-rating-D","duplications-rating-E","react__WEBPACK_IMPORTED_MODULE_1__","FavoriteIcon","classnames__WEBPACK_IMPORTED_MODULE_1__","_Icon__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","is-filled","color","WrappedComponent","wrappedDisplayName","Wrapper","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","_getStore__WEBPACK_IMPORTED_MODULE_0__","_getHistory__WEBPACK_IMPORTED_MODULE_1__","_store_appState__WEBPACK_IMPORTED_MODULE_2__","store","history","returnTo","search","hash","dispatch","replace","return_to","getAnalysisStatus","getActivity","getStatus","getTask","cancelTask","cancelAllTasks","getTasksForComponent","getTypes","getWorkers","setWorkerCount","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","componentId","assign","additionalFields","r","taskTypes","count","FavoriteBase","call","toggleFavorite","removeFavorite","addFavorite","tooltip","other","controls_FavoriteBase","request","favorites_addFavorite","favorites_removeFavorite","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","HomeIcon","filled","Icon","HomePageSelect_HomePageSelect","setHomePage","helpers_users","a","homepage","checked","react_helmet__WEBPACK_IMPORTED_MODULE_1__","react_helmet__WEBPACK_IMPORTED_MODULE_1___default","n","titleTemplate"],"mappings":"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","file":"js/276.8dbef782.chunk.js","sourcesContent":["var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseIteratee = require('./_baseIteratee'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The order and references of result values are\n * determined by the first array. The iteratee is invoked with one argument:\n * (value).\n *\n * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = baseRest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee, 2))\n    : [];\n});\n\nmodule.exports = differenceBy;\n","module.exports = \"**Get the most out of SonarQube with branches analysis**\\n\\nAnalyze each branch of your project separately with the Developer Edition.\\n\\n---\\n\\n[Learn More](https://redirect.sonarsource.com/editions/developer.html)\\n\"","module.exports = \"**Learn how to analyze branches in {instance}**\\n\\nQuickly setup branch analysis and get separate insights for each of your branches and pull requests.\\n\\n---\\n\\n[Branches Documentation](/branches/overview/)  \\n[Pull Request Analysis](/analysis/pull-request/)\\n\"","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../../node_modules/postcss-loader/src/index.js??postcss!./ComponentNav.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n\\n.navbar-context-branches {\\n  display: inline-flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-shrink: 1 !important;\\n  min-width: 0;\\n  line-height: 16px;\\n  margin-left: 16px;\\n  font-size: 13px;\\n}\\n\\n.navbar-context-branches .popup {\\n  min-width: 430px;\\n  max-width: 650px;\\n}\\n\\n.navbar-context-meta-branch-menu-title {\\n  padding-left: 24px;\\n}\\n\\n.navbar-context-meta-branch-menu-item {\\n  display: flex !important;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.navbar-context-meta-branch-menu-item-name {\\n  flex: 0 1 550px; /* Workaround for SONAR-10971 */\\n  min-width: 0;\\n}\\n\\n.navbar-context-meta-branch-menu-item-actions {\\n  height: 12px;\\n  margin-left: 32px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router';\nimport { translate } from '../../helpers/l10n';\n\nexport default function ComponentContainerNotFound() {\n  return (\n    <>\n      <Helmet defaultTitle={translate('404_not_found')} defer={false} />\n      <div className=\"page-wrapper-simple\" id=\"bd\">\n        <div className=\"page-simple\" id=\"nonav\">\n          <h2 className=\"big-spacer-bottom\">{translate('dashboard.project_not_found')}</h2>\n          <p className=\"spacer-bottom\">{translate('dashboard.project_not_found.2')}</p>\n          <p>\n            <Link to=\"/\">{translate('go_back_to_homepage')}</Link>\n          </p>\n        </div>\n      </div>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport BranchIcon from '../../../../components/icons-components/BranchIcon';\nimport {\n  isShortLivingBranch,\n  getBranchLikeDisplayName,\n  getBranchLikeKey,\n  isMainBranch,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../../helpers/urls';\n\nexport interface Props {\n  branchLike: T.BranchLike;\n  component: T.Component;\n  onSelect: (branchLike: T.BranchLike) => void;\n  selected: boolean;\n  innerRef?: (node: HTMLLIElement) => void;\n}\n\nexport default function ComponentNavBranchesMenuItem({ branchLike, ...props }: Props) {\n  const handleMouseEnter = () => {\n    props.onSelect(branchLike);\n  };\n\n  const displayName = getBranchLikeDisplayName(branchLike);\n  const shouldBeIndented =\n    (isShortLivingBranch(branchLike) && !branchLike.isOrphan) || isPullRequest(branchLike);\n\n  return (\n    <li key={getBranchLikeKey(branchLike)} onMouseEnter={handleMouseEnter} ref={props.innerRef}>\n      <Link\n        className={classNames('navbar-context-meta-branch-menu-item', {\n          active: props.selected\n        })}\n        to={getBranchLikeUrl(props.component.key, branchLike)}>\n        <div\n          className=\"navbar-context-meta-branch-menu-item-name text-ellipsis\"\n          title={displayName}>\n          <BranchIcon\n            branchLike={branchLike}\n            className={classNames('little-spacer-right', { 'big-spacer-left': shouldBeIndented })}\n          />\n          {displayName}\n          {isMainBranch(branchLike) && (\n            <div className=\"outline-badge spacer-left\">{translate('branches.main_branch')}</div>\n          )}\n        </div>\n        <div className=\"big-spacer-left note\">\n          <BranchStatus branchLike={branchLike} concise={true} />\n        </div>\n      </Link>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ComponentNavBranchesMenuItem from './ComponentNavBranchesMenuItem';\nimport {\n  sortBranchesAsTree,\n  isLongLivingBranch,\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeKey,\n  isPullRequest,\n  isBranch\n} from '../../../../helpers/branches';\nimport { scrollToElement } from '../../../../helpers/scrolling';\nimport { translate } from '../../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../../helpers/urls';\nimport SearchBox from '../../../../components/controls/SearchBox';\nimport HelpTooltip from '../../../../components/controls/HelpTooltip';\nimport { DropdownOverlay } from '../../../../components/controls/Dropdown';\nimport { withRouter, Router } from '../../../../components/hoc/withRouter';\n\ninterface Props {\n  branchLikes: T.BranchLike[];\n  canAdmin?: boolean;\n  component: T.Component;\n  currentBranchLike: T.BranchLike;\n  onClose: () => void;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  query: string;\n  selected: T.BranchLike | undefined;\n}\n\nexport class ComponentNavBranchesMenu extends React.PureComponent<Props, State> {\n  listNode?: HTMLUListElement | null;\n  selectedBranchNode?: HTMLLIElement | null;\n  state: State = { query: '', selected: undefined };\n\n  componentDidMount() {\n    this.scrollToSelectedBranch(false);\n  }\n\n  componentDidUpdate() {\n    this.scrollToSelectedBranch(true);\n  }\n\n  scrollToSelectedBranch(smooth: boolean) {\n    if (this.listNode && this.selectedBranchNode) {\n      scrollToElement(this.selectedBranchNode, {\n        parent: this.listNode,\n        smooth\n      });\n    }\n  }\n\n  getFilteredBranchLikes = () => {\n    const query = this.state.query.toLowerCase();\n    return sortBranchesAsTree(this.props.branchLikes).filter(branchLike => {\n      const matchBranchName = isBranch(branchLike) && branchLike.name.toLowerCase().includes(query);\n      const matchPullRequestTitleOrId =\n        isPullRequest(branchLike) &&\n        (branchLike.title.toLowerCase().includes(query) ||\n          branchLike.key.toLowerCase().includes(query));\n      return matchBranchName || matchPullRequestTitleOrId;\n    });\n  };\n\n  handleSearchChange = (query: string) => this.setState({ query, selected: undefined });\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.openSelected();\n        return;\n      case 38:\n        event.preventDefault();\n        this.selectPrevious();\n        return;\n      case 40:\n        event.preventDefault();\n        this.selectNext();\n        // keep this return to prevent fall-through in case more cases will be adder later\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n  };\n\n  openSelected = () => {\n    const selected = this.getSelected();\n    if (selected) {\n      this.props.router.push(this.getProjectBranchUrl(selected));\n    }\n  };\n\n  selectPrevious = () => {\n    const selected = this.getSelected();\n    const branchLikes = this.getFilteredBranchLikes();\n    const index = branchLikes.findIndex(b => isSameBranchLike(b, selected));\n    if (index > 0) {\n      this.setState({ selected: branchLikes[index - 1] });\n    }\n  };\n\n  selectNext = () => {\n    const selected = this.getSelected();\n    const branches = this.getFilteredBranchLikes();\n    const index = branches.findIndex(b => isSameBranchLike(b, selected));\n    if (index >= 0 && index < branches.length - 1) {\n      this.setState({ selected: branches[index + 1] });\n    }\n  };\n\n  handleSelect = (branchLike: T.BranchLike) => {\n    this.setState({ selected: branchLike });\n  };\n\n  getSelected = () => {\n    if (this.state.selected) {\n      return this.state.selected;\n    }\n\n    const branchLikes = this.getFilteredBranchLikes();\n    if (branchLikes.find(b => isSameBranchLike(b, this.props.currentBranchLike))) {\n      return this.props.currentBranchLike;\n    }\n\n    if (branchLikes.length > 0) {\n      return branchLikes[0];\n    }\n\n    return undefined;\n  };\n\n  getProjectBranchUrl = (branchLike: T.BranchLike) =>\n    getBranchLikeUrl(this.props.component.key, branchLike);\n\n  isOrphan = (branchLike: T.BranchLike) => {\n    return (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) && branchLike.isOrphan;\n  };\n\n  renderSearch = () => (\n    <div className=\"menu-search\">\n      <SearchBox\n        autoFocus={true}\n        onChange={this.handleSearchChange}\n        onKeyDown={this.handleKeyDown}\n        placeholder={translate('branches.search_for_branches')}\n        value={this.state.query}\n      />\n    </div>\n  );\n\n  renderBranchesList = () => {\n    const branchLikes = this.getFilteredBranchLikes();\n    const selected = this.getSelected();\n\n    if (branchLikes.length === 0) {\n      return <div className=\"menu-message note\">{translate('no_results')}</div>;\n    }\n\n    const items = branchLikes.map((branchLike, index) => {\n      const isOrphan = this.isOrphan(branchLike);\n      const previous = index > 0 ? branchLikes[index - 1] : undefined;\n      const isPreviousOrphan = previous !== undefined && this.isOrphan(previous);\n      const showDivider = isLongLivingBranch(branchLike) || (isOrphan && !isPreviousOrphan);\n      const showOrphanHeader = isOrphan && !isPreviousOrphan;\n      const showPullRequestHeader =\n        !showOrphanHeader && isPullRequest(branchLike) && !isPullRequest(previous);\n      const showShortLivingBranchHeader =\n        !showOrphanHeader && isShortLivingBranch(branchLike) && !isShortLivingBranch(previous);\n      const isSelected = isSameBranchLike(branchLike, selected);\n      return (\n        <React.Fragment key={getBranchLikeKey(branchLike)}>\n          {showDivider && <li className=\"divider\" />}\n          {showOrphanHeader && (\n            <li className=\"menu-header\">\n              <div className=\"display-inline-block text-middle\">\n                {translate('branches.orphan_branches')}\n              </div>\n              <HelpTooltip\n                className=\"spacer-left\"\n                overlay={translate('branches.orphan_branches.tooltip')}\n              />\n            </li>\n          )}\n          {showPullRequestHeader && (\n            <li className=\"menu-header navbar-context-meta-branch-menu-title\">\n              {translate('branches.pull_requests')}\n            </li>\n          )}\n          {showShortLivingBranchHeader && (\n            <li className=\"menu-header navbar-context-meta-branch-menu-title\">\n              {translate('branches.short_lived_branches')}\n            </li>\n          )}\n          <ComponentNavBranchesMenuItem\n            branchLike={branchLike}\n            component={this.props.component}\n            innerRef={node =>\n              (this.selectedBranchNode = isSelected ? node : this.selectedBranchNode)\n            }\n            key={getBranchLikeKey(branchLike)}\n            onSelect={this.handleSelect}\n            selected={isSelected}\n          />\n        </React.Fragment>\n      );\n    });\n\n    return (\n      <ul className=\"menu menu-vertically-limited\" ref={node => (this.listNode = node)}>\n        {items}\n      </ul>\n    );\n  };\n\n  render() {\n    const { component } = this.props;\n    const showManageLink =\n      component.qualifier === 'TRK' &&\n      component.configuration &&\n      component.configuration.showSettings;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        {this.renderSearch()}\n        {this.renderBranchesList()}\n        {showManageLink && (\n          <div className=\"dropdown-bottom-hint text-right\">\n            <Link\n              className=\"text-muted\"\n              to={{ pathname: '/project/branches', query: { id: component.key } }}>\n              {translate('branches.manage')}\n            </Link>\n          </div>\n        )}\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withRouter(ComponentNavBranchesMenu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport ComponentNavBranchesMenu from './ComponentNavBranchesMenu';\nimport DocTooltip from '../../../../components/docs/DocTooltip';\nimport * as theme from '../../../theme';\nimport BranchIcon from '../../../../components/icons-components/BranchIcon';\nimport {\n  isShortLivingBranch,\n  isSameBranchLike,\n  getBranchLikeDisplayName,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport PlusCircleIcon from '../../../../components/icons-components/PlusCircleIcon';\nimport HelpTooltip from '../../../../components/controls/HelpTooltip';\nimport Toggler from '../../../../components/controls/Toggler';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { getPortfolioAdminUrl } from '../../../../helpers/urls';\nimport { withAppState } from '../../../../components/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  currentBranchLike: T.BranchLike;\n  location?: any;\n}\n\ninterface State {\n  dropdownOpen: boolean;\n}\n\nexport class ComponentNavBranch extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { dropdownOpen: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      nextProps.component !== this.props.component ||\n      !isSameBranchLike(nextProps.currentBranchLike, this.props.currentBranchLike) ||\n      nextProps.location !== this.props.location\n    ) {\n      this.setState({ dropdownOpen: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.setState(state => ({ dropdownOpen: !state.dropdownOpen }));\n  };\n\n  closeDropdown = () => {\n    if (this.mounted) {\n      this.setState({ dropdownOpen: false });\n    }\n  };\n\n  renderMergeBranch = () => {\n    const { currentBranchLike } = this.props;\n    if (isShortLivingBranch(currentBranchLike)) {\n      return currentBranchLike.isOrphan ? (\n        <span className=\"note big-spacer-left text-ellipsis flex-shrink\">\n          <span className=\"text-middle\">{translate('branches.orphan_branch')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('branches.orphan_branches.tooltip')}\n          />\n        </span>\n      ) : (\n        <span className=\"note big-spacer-left\">\n          {translate('from')} <strong>{currentBranchLike.mergeBranch}</strong>\n        </span>\n      );\n    } else if (isPullRequest(currentBranchLike)) {\n      return (\n        <span className=\"note big-spacer-left text-ellipsis flex-shrink\">\n          <FormattedMessage\n            defaultMessage={translate('branches.pull_request.for_merge_into_x_from_y')}\n            id=\"branches.pull_request.for_merge_into_x_from_y\"\n            values={{\n              base: <strong>{currentBranchLike.base}</strong>,\n              branch: <strong>{currentBranchLike.branch}</strong>\n            }}\n          />\n        </span>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  renderOverlay = () => {\n    return (\n      <>\n        <p>{translate('application.branches.help')}</p>\n        <hr className=\"spacer-top spacer-bottom\" />\n        <Link\n          className=\"spacer-left link-no-underline\"\n          to={getPortfolioAdminUrl(this.props.component.breadcrumbs[0].key, 'APP')}>\n          {translate('application.branches.link')}\n        </Link>\n      </>\n    );\n  };\n\n  render() {\n    const { branchLikes, currentBranchLike } = this.props;\n    const { configuration, breadcrumbs } = this.props.component;\n\n    if (isSonarCloud() && !this.props.appState.branchesEnabled) {\n      return null;\n    }\n\n    const displayName = getBranchLikeDisplayName(currentBranchLike);\n    const isApp = breadcrumbs && breadcrumbs[0] && breadcrumbs[0].qualifier === 'APP';\n\n    if (isApp && branchLikes.length < 2) {\n      return (\n        <div className=\"navbar-context-branches\">\n          <BranchIcon\n            branchLike={currentBranchLike}\n            className=\"little-spacer-right\"\n            fill={theme.gray80}\n          />\n          <span className=\"note\">{displayName}</span>\n          {configuration &&\n            configuration.showSettings && (\n              <HelpTooltip className=\"spacer-left\" overlay={this.renderOverlay()}>\n                <PlusCircleIcon className=\"vertical-middle\" fill={theme.blue} size={12} />\n              </HelpTooltip>\n            )}\n        </div>\n      );\n    } else {\n      if (!this.props.appState.branchesEnabled) {\n        return (\n          <div className=\"navbar-context-branches\">\n            <BranchIcon\n              branchLike={currentBranchLike}\n              className=\"little-spacer-right\"\n              fill={theme.gray80}\n            />\n            <span className=\"note\">{displayName}</span>\n            <DocTooltip\n              className=\"spacer-left\"\n              doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/no-branch-support.md')}>\n              <PlusCircleIcon fill={theme.gray71} size={12} />\n            </DocTooltip>\n          </div>\n        );\n      }\n\n      if (branchLikes.length < 2) {\n        return (\n          <div className=\"navbar-context-branches\">\n            <BranchIcon branchLike={currentBranchLike} className=\"little-spacer-right\" />\n            <span className=\"note\">{displayName}</span>\n            <DocTooltip\n              className=\"spacer-left\"\n              doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/branches/single-branch.md')}>\n              <PlusCircleIcon fill={theme.blue} size={12} />\n            </DocTooltip>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"navbar-context-branches\">\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.closeDropdown}\n            open={this.state.dropdownOpen}\n            overlay={\n              <ComponentNavBranchesMenu\n                branchLikes={this.props.branchLikes}\n                canAdmin={configuration && configuration.showSettings}\n                component={this.props.component}\n                currentBranchLike={this.props.currentBranchLike}\n                onClose={this.closeDropdown}\n              />\n            }>\n            <a\n              className=\"link-base-color link-no-underline nowrap\"\n              href=\"#\"\n              onClick={this.handleClick}>\n              <BranchIcon branchLike={currentBranchLike} className=\"little-spacer-right\" />\n              <span className=\"text-limited text-top\" title={displayName}>\n                {displayName}\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </a>\n          </Toggler>\n        </div>\n        {this.renderMergeBranch()}\n      </div>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavBranch);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport ComponentNavBranch from './ComponentNavBranch';\nimport QualifierIcon from '../../../../components/icons-components/QualifierIcon';\nimport {\n  getOrganizationByKey,\n  areThereCustomOrganizations,\n  Store\n} from '../../../../store/rootReducer';\nimport OrganizationAvatar from '../../../../components/common/OrganizationAvatar';\nimport OrganizationHelmet from '../../../../components/common/OrganizationHelmet';\nimport OrganizationLink from '../../../../components/ui/OrganizationLink';\nimport { sanitizeAlmId } from '../../../../helpers/almIntegrations';\nimport { collapsePath, limitComponentName } from '../../../../helpers/path';\nimport { getProjectUrl, getBaseUrl } from '../../../../helpers/urls';\nimport { isSonarCloud } from '../../../../helpers/system';\n\ninterface StateProps {\n  organization?: T.Organization;\n  shouldOrganizationBeDisplayed?: boolean;\n}\n\ninterface OwnProps {\n  branchLikes: T.BranchLike[];\n  component: T.Component;\n  currentBranchLike: T.BranchLike | undefined;\n  location?: any;\n}\n\ninterface Props extends StateProps, OwnProps {}\n\nexport function ComponentNavHeader(props: Props) {\n  const { component, organization, shouldOrganizationBeDisplayed } = props;\n\n  return (\n    <header className=\"navbar-context-header\">\n      <OrganizationHelmet\n        organization={organization && shouldOrganizationBeDisplayed ? organization : undefined}\n        title={component.name}\n      />\n      {organization &&\n        shouldOrganizationBeDisplayed && (\n          <>\n            <OrganizationAvatar organization={organization} />\n            <OrganizationLink\n              className=\"navbar-context-header-breadcrumb-link link-base-color link-no-underline spacer-left\"\n              organization={organization}>\n              {organization.name}\n            </OrganizationLink>\n            <span className=\"slash-separator\" />\n          </>\n        )}\n      {renderBreadcrumbs(component.breadcrumbs)}\n      {isSonarCloud() &&\n        component.alm && (\n          <a\n            className=\"link-no-underline\"\n            href={component.alm.url}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\">\n            <img\n              alt={sanitizeAlmId(component.alm.key)}\n              className=\"text-text-top spacer-left\"\n              height={16}\n              src={`${getBaseUrl()}/images/sonarcloud/${sanitizeAlmId(component.alm.key)}.svg`}\n              width={16}\n            />\n          </a>\n        )}\n      {props.currentBranchLike && (\n        <ComponentNavBranch\n          branchLikes={props.branchLikes}\n          component={component}\n          currentBranchLike={props.currentBranchLike}\n          // to close dropdown on any location change\n          location={props.location}\n        />\n      )}\n    </header>\n  );\n}\n\nfunction renderBreadcrumbs(breadcrumbs: T.Breadcrumb[]) {\n  const lastItem = breadcrumbs[breadcrumbs.length - 1];\n  return breadcrumbs.map((item, index) => {\n    const isPath = item.qualifier === 'DIR';\n    const itemName = isPath ? collapsePath(item.name, 15) : limitComponentName(item.name);\n\n    return (\n      <React.Fragment key={item.key}>\n        {index === 0 && <QualifierIcon className=\"spacer-right\" qualifier={lastItem.qualifier} />}\n        <Link\n          className=\"navbar-context-header-breadcrumb-link link-base-color link-no-underline\"\n          title={item.name}\n          to={getProjectUrl(item.key)}>\n          {itemName}\n        </Link>\n        {index < breadcrumbs.length - 1 && <span className=\"slash-separator\" />}\n      </React.Fragment>\n    );\n  });\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps): StateProps => ({\n  organization: getOrganizationByKey(state, ownProps.component.organization),\n  shouldOrganizationBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(ComponentNavHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { lazyLoad } from '../../../../components/lazyLoad';\nimport WarningIcon from '../../../../components/icons-components/WarningIcon';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\n\nconst AnalysisWarningsModal = lazyLoad(() =>\n  import('../../../../components/common/AnalysisWarningsModal')\n);\n\ninterface Props {\n  warnings: string[];\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ComponentNavWarnings extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"badge badge-focus badge-medium display-inline-flex-center js-component-analysis-warnings\">\n          <WarningIcon className=\"spacer-right\" />\n          <FormattedMessage\n            defaultMessage={translate('component_navigation.last_analsys_had_warnings')}\n            id=\"component_navigation.last_analsys_had_warnings\"\n            values={{\n              warnings: (\n                <a href=\"#\" onClick={this.handleClick}>\n                  {translateWithParameters(\n                    'component_navigation.x_warnings',\n                    String(this.props.warnings.length)\n                  )}\n                </a>\n              )\n            }}\n          />\n        </div>\n        {this.state.modal && (\n          <AnalysisWarningsModal onClose={this.handleCloseModal} warnings={this.props.warnings} />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { getLeakValue } from '../measure/utils';\nimport CoverageRating from '../ui/CoverageRating';\nimport { formatMeasure } from '../../helpers/measures';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { translate } from '../../helpers/l10n';\nimport DuplicationsRating from '../ui/DuplicationsRating';\nimport { getComponentDrilldownUrl } from '../../helpers/urls';\n\ninterface Props {\n  branchLike: T.BranchLike;\n  componentKey: string;\n  measures: T.Measure[];\n}\n\nexport default function BranchMeasures({ branchLike, componentKey, measures }: Props) {\n  const newCoverage = measures.find(measure => measure.metric === 'new_coverage');\n  const newDuplications = measures.find(\n    measure => measure.metric === 'new_duplicated_lines_density'\n  );\n  if (!newCoverage && !newDuplications) {\n    return null;\n  }\n\n  return (\n    <div className=\"display-inline-flex-center\">\n      <BranchCoverage branchLike={branchLike} componentKey={componentKey} measure={newCoverage} />\n      <BranchDuplications\n        branchLike={branchLike}\n        className=\"big-spacer-left\"\n        componentKey={componentKey}\n        measure={newDuplications}\n      />\n    </div>\n  );\n}\n\ninterface MeasureProps {\n  branchLike: T.BranchLike;\n  className?: string;\n  componentKey: string;\n  measure: T.Measure | undefined;\n}\n\nexport function BranchCoverage({ branchLike, className, componentKey, measure }: MeasureProps) {\n  const value = getLeakValue(measure);\n  return (\n    <div className={classNames('display-inline-flex-center', className)}>\n      <CoverageRating size=\"small\" value={value} />\n      <span className=\"little-spacer-left\">\n        {value !== undefined ? formatMeasure(value, 'PERCENT') : '–'}\n      </span>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={\n          measure ? (\n            <FormattedMessage\n              defaultMessage={translate('branches.measures.new_coverage.help')}\n              id=\"branches.measures.new_coverage.help\"\n              values={{\n                link: (\n                  <Link\n                    to={getComponentDrilldownUrl({\n                      componentKey,\n                      branchLike,\n                      metric: 'new_coverage'\n                    })}>\n                    {translate('layout.measures')}\n                  </Link>\n                )\n              }}\n            />\n          ) : (\n            translate('branches.measures.new_coverage.missing')\n          )\n        }\n      />\n    </div>\n  );\n}\n\nexport function BranchDuplications({ branchLike, className, componentKey, measure }: MeasureProps) {\n  const value = getLeakValue(measure);\n  return (\n    <div className={classNames('display-inline-flex-center', className)}>\n      <DuplicationsRating size=\"small\" value={Number(value)} />\n      <span className=\"little-spacer-left\">\n        {value !== undefined ? formatMeasure(value, 'PERCENT') : '–'}\n      </span>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={\n          measure ? (\n            <FormattedMessage\n              defaultMessage={translate('branches.measures.new_duplicated_lines_density.help')}\n              id=\"branches.measures.new_duplicated_lines_density.help\"\n              values={{\n                link: (\n                  <Link\n                    to={getComponentDrilldownUrl({\n                      componentKey,\n                      branchLike,\n                      metric: 'new_duplicated_lines_density'\n                    })}>\n                    {translate('layout.measures')}\n                  </Link>\n                )\n              }}\n            />\n          ) : (\n            translate('branches.measures.new_duplicated_lines_density.missing')\n          )\n        }\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport ComponentNavWarnings from './ComponentNavWarnings';\nimport BranchMeasures from '../../../../components/common/BranchMeasures';\nimport BranchStatus from '../../../../components/common/BranchStatus';\nimport DateTimeFormatter from '../../../../components/intl/DateTimeFormatter';\nimport Favorite from '../../../../components/controls/Favorite';\nimport HomePageSelect from '../../../../components/controls/HomePageSelect';\nimport Tooltip from '../../../../components/controls/Tooltip';\nimport DetachIcon from '../../../../components/icons-components/DetachIcon';\nimport {\n  isShortLivingBranch,\n  isLongLivingBranch,\n  isMainBranch,\n  isPullRequest\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport { isLoggedIn } from '../../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../../store/rootReducer';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface Props extends StateProps {\n  branchLike?: T.BranchLike;\n  branchMeasures?: T.Measure[];\n  component: T.Component;\n  warnings: string[];\n}\n\nexport function ComponentNavMeta({\n  branchLike,\n  branchMeasures,\n  component,\n  currentUser,\n  warnings\n}: Props) {\n  const mainBranch = !branchLike || isMainBranch(branchLike);\n  const longBranch = isLongLivingBranch(branchLike);\n  const currentPage = getCurrentPage(component, branchLike);\n  const displayVersion = component.version !== undefined && (mainBranch || longBranch);\n\n  return (\n    <div className=\"navbar-context-meta\">\n      {warnings.length > 0 && <ComponentNavWarnings warnings={warnings} />}\n      {component.analysisDate && (\n        <div className=\"spacer-left text-ellipsis\">\n          <DateTimeFormatter date={component.analysisDate} />\n        </div>\n      )}\n      {displayVersion && (\n        <Tooltip mouseEnterDelay={0.5} overlay={`${translate('version')} ${component.version}`}>\n          <div className=\"spacer-left text-limited\">\n            {translate('version')} {component.version}\n          </div>\n        </Tooltip>\n      )}\n      {isLoggedIn(currentUser) && (\n        <div className=\"navbar-context-meta-secondary\">\n          {mainBranch && (\n            <Favorite\n              component={component.key}\n              favorite={Boolean(component.isFavorite)}\n              qualifier={component.qualifier}\n            />\n          )}\n          {(mainBranch || longBranch) &&\n            currentPage !== undefined && (\n              <HomePageSelect className=\"spacer-left\" currentPage={currentPage} />\n            )}\n        </div>\n      )}\n      {(isShortLivingBranch(branchLike) || isPullRequest(branchLike)) && (\n        <div className=\"navbar-context-meta-secondary display-inline-flex-center\">\n          {isPullRequest(branchLike) &&\n            branchLike.url !== undefined && (\n              <a\n                className=\"display-inline-flex-center big-spacer-right\"\n                href={branchLike.url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\">\n                {translate('branches.see_the_pr')}\n                <DetachIcon className=\"little-spacer-left\" size={12} />\n              </a>\n            )}\n          <BranchStatus branchLike={branchLike} />\n          {branchMeasures &&\n            branchMeasures.length > 0 && (\n              <>\n                <span className=\"vertical-separator big-spacer-left big-spacer-right\" />\n                <BranchMeasures\n                  branchLike={branchLike}\n                  componentKey={component.key}\n                  measures={branchMeasures}\n                />\n              </>\n            )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction getCurrentPage(component: T.Component, branchLike: T.BranchLike | undefined) {\n  let currentPage: T.HomePage | undefined;\n  if (component.qualifier === 'VW' || component.qualifier === 'SVW') {\n    currentPage = { type: 'PORTFOLIO', component: component.key };\n  } else if (component.qualifier === 'APP') {\n    const branch = isLongLivingBranch(branchLike) ? branchLike.name : undefined;\n    currentPage = { type: 'APPLICATION', component: component.key, branch };\n  } else if (component.qualifier === 'TRK') {\n    // when home page is set to the default branch of a project, its name is returned as `undefined`\n    const branch = isLongLivingBranch(branchLike) ? branchLike.name : undefined;\n    currentPage = { type: 'PROJECT', component: component.key, branch };\n  }\n  return currentPage;\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(ComponentNavMeta);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport Dropdown from '../../../../components/controls/Dropdown';\nimport NavBarTabs from '../../../../components/nav/NavBarTabs';\nimport {\n  isShortLivingBranch,\n  isPullRequest,\n  isMainBranch,\n  getBranchLikeQuery\n} from '../../../../helpers/branches';\nimport { translate } from '../../../../helpers/l10n';\nimport DropdownIcon from '../../../../components/icons-components/DropdownIcon';\nimport { withAppState } from '../../../../components/withAppState';\n\nconst SETTINGS_URLS = [\n  '/project/admin',\n  '/project/branches',\n  '/project/settings',\n  '/project/quality_profiles',\n  '/project/quality_gate',\n  '/custom_measures',\n  '/project/links',\n  '/project_roles',\n  '/project/history',\n  'background_tasks',\n  '/project/key',\n  '/project/deletion',\n  '/project/webhooks'\n];\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike: T.BranchLike | undefined;\n  component: T.Component;\n  location?: any;\n}\n\nexport class ComponentNavMenu extends React.PureComponent<Props> {\n  isProject() {\n    return this.props.component.qualifier === 'TRK';\n  }\n\n  isDeveloper() {\n    return this.props.component.qualifier === 'DEV';\n  }\n\n  isPortfolio() {\n    const { qualifier } = this.props.component;\n    return qualifier === 'VW' || qualifier === 'SVW';\n  }\n\n  isApplication() {\n    return this.props.component.qualifier === 'APP';\n  }\n\n  getConfiguration() {\n    return this.props.component.configuration || {};\n  }\n\n  getQuery = () => {\n    return { id: this.props.component.key, ...getBranchLikeQuery(this.props.branchLike) };\n  };\n\n  renderDashboardLink() {\n    const { branchLike } = this.props;\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const pathname = this.isPortfolio() ? '/portfolio' : '/dashboard';\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname, query: this.getQuery() }}>\n          {translate('overview.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCodeLink() {\n    if (this.isDeveloper()) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link activeClassName=\"active\" to={{ pathname: '/code', query: this.getQuery() }}>\n          {this.isPortfolio() || this.isApplication()\n            ? translate('view_projects.page')\n            : translate('code.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderActivityLink() {\n    const { branchLike } = this.props;\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/activity', query: this.getQuery() }}>\n          {translate('project_activity.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderIssuesLink() {\n    const { location = { pathname: '' } } = this.props;\n    const isIssuesActive = location.pathname.startsWith('/project/issues');\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          className={classNames({ active: isIssuesActive })}\n          to={{ pathname: '/project/issues', query: { ...this.getQuery(), resolved: 'false' } }}>\n          {translate('issues.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderComponentMeasuresLink() {\n    return (\n      <li>\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/component_measures', query: this.getQuery() }}>\n          {translate('layout.measures')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderSecurityReportsLink() {\n    return (\n      <ul className=\"menu\">\n        <li>\n          <Link\n            activeClassName=\"active\"\n            to={{ pathname: '/project/security_reports/owasp_top_10', query: this.getQuery() }}>\n            {translate('security_reports.owaspTop10.page')}\n          </Link>\n        </li>\n        <li>\n          <Link\n            activeClassName=\"active\"\n            to={{ pathname: '/project/security_reports/sans_top_25', query: this.getQuery() }}>\n            {translate('security_reports.sansTop25.page')}\n          </Link>\n        </li>\n      </ul>\n    );\n  }\n\n  renderSecurityReports() {\n    const { branchLike, component } = this.props;\n\n    if (component.qualifier === 'BRC' || component.qualifier === 'DIR') {\n      return null;\n    }\n\n    if (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) {\n      return null;\n    }\n\n    const { location = { pathname: '' } } = this.props;\n    const isActive = location.pathname.startsWith('/project/security_reports');\n    return (\n      <Dropdown overlay={this.renderSecurityReportsLink()} tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isActive || open })}\n            href=\"#\"\n            onClick={onToggleClick}>\n            {translate('layout.security_reports')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderAdministration() {\n    const { branchLike } = this.props;\n\n    if (!this.getConfiguration().showSettings || (branchLike && !isMainBranch(branchLike))) {\n      return null;\n    }\n\n    const isSettingsActive = SETTINGS_URLS.some(url => window.location.href.indexOf(url) !== -1);\n\n    const adminLinks = this.renderAdministrationLinks();\n    if (!adminLinks.some(link => link != null)) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"administration\"\n        overlay={<ul className=\"menu\">{adminLinks}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: isSettingsActive || open })}\n            href=\"#\"\n            id=\"component-navigation-admin\"\n            onClick={onToggleClick}>\n            {translate('layout.settings')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  renderAdministrationLinks() {\n    return [\n      this.renderSettingsLink(),\n      this.renderBranchesLink(),\n      this.renderProfilesLink(),\n      this.renderQualityGateLink(),\n      this.renderCustomMeasuresLink(),\n      this.renderLinksLink(),\n      this.renderPermissionsLink(),\n      this.renderBackgroundTasksLink(),\n      this.renderUpdateKeyLink(),\n      this.renderWebhooksLink(),\n      ...this.renderAdminExtensions(),\n      this.renderDeletionLink()\n    ];\n  }\n\n  renderSettingsLink() {\n    if (!this.getConfiguration().showSettings || this.isApplication() || this.isPortfolio()) {\n      return null;\n    }\n    return (\n      <li key=\"settings\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/settings', query: this.getQuery() }}>\n          {translate('project_settings.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBranchesLink() {\n    if (\n      !this.props.appState.branchesEnabled ||\n      !this.isProject() ||\n      !this.getConfiguration().showSettings\n    ) {\n      return null;\n    }\n\n    return (\n      <li key=\"branches\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/branches', query: { id: this.props.component.key } }}>\n          {translate('project_branches.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderProfilesLink() {\n    if (!this.getConfiguration().showQualityProfiles) {\n      return null;\n    }\n    return (\n      <li key=\"profiles\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_profiles', query: { id: this.props.component.key } }}>\n          {translate('project_quality_profiles.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderQualityGateLink() {\n    if (!this.getConfiguration().showQualityGates) {\n      return null;\n    }\n    return (\n      <li key=\"quality_gate\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/quality_gate', query: { id: this.props.component.key } }}>\n          {translate('project_quality_gate.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderCustomMeasuresLink() {\n    if (!this.getConfiguration().showManualMeasures) {\n      return null;\n    }\n    return (\n      <li key=\"custom_measures\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/custom_measures', query: { id: this.props.component.key } }}>\n          {translate('custom_measures.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderLinksLink() {\n    if (!this.getConfiguration().showLinks) {\n      return null;\n    }\n    return (\n      <li key=\"links\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/links', query: { id: this.props.component.key } }}>\n          {translate('project_links.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderPermissionsLink() {\n    if (!this.getConfiguration().showPermissions) {\n      return null;\n    }\n    return (\n      <li key=\"permissions\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project_roles', query: { id: this.props.component.key } }}>\n          {translate('permissions.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderBackgroundTasksLink() {\n    if (!this.getConfiguration().showBackgroundTasks) {\n      return null;\n    }\n    return (\n      <li key=\"background_tasks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/background_tasks', query: { id: this.props.component.key } }}>\n          {translate('background_tasks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderUpdateKeyLink() {\n    if (!this.getConfiguration().showUpdateKey) {\n      return null;\n    }\n    return (\n      <li key=\"update_key\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/key', query: { id: this.props.component.key } }}>\n          {translate('update_key.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderWebhooksLink() {\n    if (!this.getConfiguration().showSettings || !this.isProject()) {\n      return null;\n    }\n    return (\n      <li key=\"webhooks\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/webhooks', query: { id: this.props.component.key } }}>\n          {translate('webhooks.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderDeletionLink() {\n    const { qualifier } = this.props.component;\n\n    if (!this.getConfiguration().showSettings) {\n      return null;\n    }\n\n    if (qualifier !== 'TRK' && qualifier !== 'VW' && qualifier !== 'APP') {\n      return null;\n    }\n\n    return (\n      <li key=\"project_delete\">\n        <Link\n          activeClassName=\"active\"\n          to={{ pathname: '/project/deletion', query: { id: this.props.component.key } }}>\n          {translate('deletion.page')}\n        </Link>\n      </li>\n    );\n  }\n\n  renderExtension = ({ key, name }: T.Extension, isAdmin: boolean) => {\n    const pathname = isAdmin ? `/project/admin/extension/${key}` : `/project/extension/${key}`;\n    const query = { id: this.props.component.key, qualifier: this.props.component.qualifier };\n    return (\n      <li key={key}>\n        <Link activeClassName=\"active\" to={{ pathname, query }}>\n          {name}\n        </Link>\n      </li>\n    );\n  };\n\n  renderAdminExtensions() {\n    if (this.props.branchLike && !isMainBranch(this.props.branchLike)) {\n      return [];\n    }\n    const extensions = this.getConfiguration().extensions || [];\n    return extensions.map(e => this.renderExtension(e, true));\n  }\n\n  renderExtensions() {\n    const extensions = this.props.component.extensions || [];\n    if (!extensions.length || (this.props.branchLike && !isMainBranch(this.props.branchLike))) {\n      return null;\n    }\n\n    return (\n      <Dropdown\n        data-test=\"extensions\"\n        overlay={<ul className=\"menu\">{extensions.map(e => this.renderExtension(e, false))}</ul>}\n        tagName=\"li\">\n        {({ onToggleClick, open }) => (\n          <a\n            aria-expanded={open}\n            aria-haspopup=\"true\"\n            className={classNames('dropdown-toggle', { active: open })}\n            href=\"#\"\n            id=\"component-navigation-more\"\n            onClick={onToggleClick}>\n            {translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" />\n          </a>\n        )}\n      </Dropdown>\n    );\n  }\n\n  render() {\n    return (\n      <NavBarTabs>\n        {this.renderDashboardLink()}\n        {this.renderIssuesLink()}\n        {this.renderSecurityReports()}\n        {this.renderComponentMeasuresLink()}\n        {this.renderCodeLink()}\n        {this.renderActivityLink()}\n        {this.renderAdministration()}\n        {this.renderExtensions()}\n      </NavBarTabs>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavMenu);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport NavBarNotif from '../../../../components/nav/NavBarNotif';\nimport { translate } from '../../../../helpers/l10n';\nimport { isValidLicense } from '../../../../api/marketplace';\nimport { withAppState } from '../../../../components/withAppState';\n\ninterface Props {\n  appState: Pick<T.AppState, 'canAdmin'>;\n  currentTask?: T.Task;\n}\n\ninterface State {\n  isValidLicense?: boolean;\n  loading: boolean;\n}\n\nexport class ComponentNavLicenseNotif extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIsValidLicense();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIsValidLicense = () => {\n    this.setState({ loading: true });\n    isValidLicense().then(\n      ({ isValidLicense }) => {\n        if (this.mounted) {\n          this.setState({ isValidLicense, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { currentTask } = this.props;\n    const { isValidLicense, loading } = this.state;\n\n    if (loading || !currentTask || !currentTask.errorType) {\n      return null;\n    }\n\n    if (isValidLicense && currentTask.errorType !== 'LICENSING_LOC') {\n      return (\n        <NavBarNotif variant=\"error\">\n          <span className=\"little-spacer-right\">\n            {translate('component_navigation.status.last_blocked_due_to_bad_license')}\n          </span>\n        </NavBarNotif>\n      );\n    }\n\n    return (\n      <NavBarNotif variant=\"error\">\n        <span className=\"little-spacer-right\">{currentTask.errorMessage}</span>\n        {this.props.appState.canAdmin ? (\n          <Link to=\"/admin/extension/license/app\">\n            {translate('license.component_navigation.button', currentTask.errorType)}.\n          </Link>\n        ) : (\n          translate('please_contact_administrator')\n        )}\n      </NavBarNotif>\n    );\n  }\n}\n\nexport default withAppState(ComponentNavLicenseNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport ComponentNavLicenseNotif from './ComponentNavLicenseNotif';\nimport NavBarNotif from '../../../../components/nav/NavBarNotif';\nimport PendingIcon from '../../../../components/icons-components/PendingIcon';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport { getComponentBackgroundTaskUrl } from '../../../../helpers/urls';\nimport { hasMessage, translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n}\n\nexport default class ComponentNavBgTaskNotif extends React.PureComponent<Props> {\n  renderMessage(messageKey: string, status?: string, branch?: string) {\n    const { component } = this.props;\n    const canSeeBackgroundTasks =\n      component.configuration && component.configuration.showBackgroundTasks;\n\n    let url;\n    if (canSeeBackgroundTasks) {\n      messageKey += '.admin';\n      url = (\n        <Link to={getComponentBackgroundTaskUrl(component.key, status)}>\n          {translate('background_tasks.page')}\n        </Link>\n      );\n    }\n\n    return (\n      <FormattedMessage\n        defaultMessage={translate(messageKey)}\n        id={messageKey}\n        values={{ branch, url }}\n      />\n    );\n  }\n\n  render() {\n    const { currentTask, currentTaskOnSameBranch, isInProgress, isPending } = this.props;\n    if (isInProgress) {\n      return (\n        <NavBarNotif variant=\"info\">\n          <i className=\"spinner spacer-right text-bottom\" />\n          {this.renderMessage('component_navigation.status.in_progress')}\n        </NavBarNotif>\n      );\n    } else if (isPending) {\n      return (\n        <NavBarNotif variant=\"info\">\n          <PendingIcon className=\"spacer-right\" />\n          {this.renderMessage('component_navigation.status.pending', STATUSES.ALL)}\n        </NavBarNotif>\n      );\n    } else if (currentTask && currentTask.status === STATUSES.FAILED) {\n      if (\n        currentTask.errorType &&\n        hasMessage('license.component_navigation.button', currentTask.errorType)\n      ) {\n        return <ComponentNavLicenseNotif currentTask={currentTask} />;\n      }\n      const branch =\n        currentTask.branch ||\n        `${currentTask.pullRequest}${\n          currentTask.pullRequestTitle ? ' - ' + currentTask.pullRequestTitle : ''\n        }`;\n      let message;\n      if (currentTaskOnSameBranch === false && branch) {\n        message = this.renderMessage(\n          'component_navigation.status.failed_branch',\n          undefined,\n          branch\n        );\n      } else {\n        message = this.renderMessage('component_navigation.status.failed');\n      }\n\n      return <NavBarNotif variant=\"error\">{message}</NavBarNotif>;\n    }\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentNavHeader from './ComponentNavHeader';\nimport ComponentNavMeta from './ComponentNavMeta';\nimport ComponentNavMenu from './ComponentNavMenu';\nimport ComponentNavBgTaskNotif from './ComponentNavBgTaskNotif';\nimport RecentHistory from '../../RecentHistory';\nimport * as theme from '../../../theme';\nimport ContextNavBar from '../../../../components/nav/ContextNavBar';\nimport { STATUSES } from '../../../../apps/background-tasks/constants';\nimport './ComponentNav.css';\n\ninterface Props {\n  branchLikes: T.BranchLike[];\n  branchMeasures?: T.Measure[];\n  currentBranchLike: T.BranchLike | undefined;\n  component: T.Component;\n  currentTask?: T.Task;\n  currentTaskOnSameBranch?: boolean;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  location: {};\n  warnings: string[];\n}\n\nexport default class ComponentNav extends React.PureComponent<Props> {\n  mounted = false;\n\n  componentDidMount() {\n    this.populateRecentHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.component.key !== prevProps.component.key) {\n      this.populateRecentHistory();\n    }\n  }\n\n  populateRecentHistory = () => {\n    const { breadcrumbs } = this.props.component;\n    const { qualifier } = breadcrumbs[breadcrumbs.length - 1];\n    if (['TRK', 'VW', 'APP', 'DEV'].indexOf(qualifier) !== -1) {\n      RecentHistory.add(\n        this.props.component.key,\n        this.props.component.name,\n        qualifier.toLowerCase(),\n        this.props.component.organization\n      );\n    }\n  };\n\n  render() {\n    const { component, currentBranchLike, currentTask, isInProgress, isPending } = this.props;\n    let notifComponent;\n    if (isInProgress || isPending || (currentTask && currentTask.status === STATUSES.FAILED)) {\n      notifComponent = (\n        <ComponentNavBgTaskNotif\n          component={component}\n          currentTask={currentTask}\n          currentTaskOnSameBranch={this.props.currentTaskOnSameBranch}\n          isInProgress={isInProgress}\n          isPending={isPending}\n        />\n      );\n    }\n    return (\n      <ContextNavBar\n        height={notifComponent ? theme.contextNavHeightRaw + 30 : theme.contextNavHeightRaw}\n        id=\"context-navigation\"\n        notif={notifComponent}>\n        <div className=\"navbar-context-justified\">\n          <ComponentNavHeader\n            branchLikes={this.props.branchLikes}\n            component={component}\n            currentBranchLike={currentBranchLike}\n            // to close dropdown on any location change\n            location={this.props.location}\n          />\n          <ComponentNavMeta\n            branchLike={currentBranchLike}\n            branchMeasures={this.props.branchMeasures}\n            component={component}\n            warnings={this.props.warnings}\n          />\n        </div>\n        <ComponentNavMenu\n          branchLike={currentBranchLike}\n          component={component}\n          // to re-render selected menu item\n          location={this.props.location}\n        />\n      </ContextNavBar>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { differenceBy } from 'lodash';\nimport { ComponentContext } from './ComponentContext';\nimport ComponentContainerNotFound from './ComponentContainerNotFound';\nimport ComponentNav from './nav/component/ComponentNav';\nimport handleRequiredAuthorization from '../utils/handleRequiredAuthorization';\nimport { getBranches, getPullRequests } from '../../api/branches';\nimport { getTasksForComponent, getAnalysisStatus } from '../../api/ce';\nimport { getComponentData } from '../../api/components';\nimport { getMeasures } from '../../api/measures';\nimport { getComponentNavigation } from '../../api/nav';\nimport { fetchOrganizations } from '../../store/rootActions';\nimport { STATUSES } from '../../apps/background-tasks/constants';\nimport {\n  isPullRequest,\n  isBranch,\n  isMainBranch,\n  isLongLivingBranch,\n  isShortLivingBranch,\n  getBranchLikeQuery\n} from '../../helpers/branches';\nimport { Store, getAppState } from '../../store/rootReducer';\n\ninterface Props {\n  appState: Pick<T.AppState, 'organizationsEnabled'>;\n  children: any;\n  fetchOrganizations: (organizations: string[]) => void;\n  location: {\n    query: { branch?: string; id: string; pullRequest?: string };\n  };\n}\n\ninterface State {\n  branchLike?: T.BranchLike;\n  branchLikes: T.BranchLike[];\n  branchMeasures?: T.Measure[];\n  component?: T.Component;\n  currentTask?: T.Task;\n  isPending: boolean;\n  loading: boolean;\n  tasksInProgress?: T.Task[];\n  warnings: string[];\n}\n\nconst FETCH_STATUS_WAIT_TIME = 3000;\n\nexport class ComponentContainer extends React.PureComponent<Props, State> {\n  watchStatusTimer?: number;\n  mounted = false;\n  state: State = { branchLikes: [], isPending: false, loading: true, warnings: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      nextProps.location.query.id !== this.props.location.query.id ||\n      nextProps.location.query.branch !== this.props.location.query.branch ||\n      nextProps.location.query.pullRequest !== this.props.location.query.pullRequest\n    ) {\n      this.fetchComponent(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    window.clearTimeout(this.watchStatusTimer);\n  }\n\n  addQualifier = (component: T.Component) => ({\n    ...component,\n    qualifier: component.breadcrumbs[component.breadcrumbs.length - 1].qualifier\n  });\n\n  fetchComponent(props = this.props) {\n    const { branch, id: key, pullRequest } = props.location.query;\n    this.setState({ loading: true });\n\n    const onError = (response?: Response) => {\n      if (this.mounted) {\n        if (response && response.status === 403) {\n          handleRequiredAuthorization();\n        } else {\n          this.setState({ loading: false });\n        }\n      }\n    };\n\n    Promise.all([\n      getComponentNavigation({ component: key, branch, pullRequest }),\n      getComponentData({ component: key, branch, pullRequest })\n    ])\n      .then(([nav, data]) => {\n        const component = this.addQualifier({ ...nav, ...data });\n\n        if (this.props.appState.organizationsEnabled) {\n          this.props.fetchOrganizations([component.organization]);\n        }\n        return component;\n      })\n      .then(this.fetchBranches)\n      .then(this.fetchBranchMeasures)\n      .then(({ branchLike, branchLikes, component, branchMeasures }) => {\n        if (this.mounted) {\n          this.setState({\n            branchLike,\n            branchLikes,\n            branchMeasures,\n            component,\n            loading: false\n          });\n          this.fetchStatus(component);\n          this.fetchWarnings(component, branchLike);\n        }\n      })\n      .catch(onError);\n  }\n\n  fetchBranches = (\n    component: T.Component\n  ): Promise<{\n    branchLike?: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    component: T.Component;\n  }> => {\n    const application = component.breadcrumbs.find(({ qualifier }) => qualifier === 'APP');\n    if (application) {\n      return getBranches(application.key).then(branchLikes => {\n        return {\n          branchLike: this.getCurrentBranchLike(branchLikes),\n          branchLikes,\n          component\n        };\n      });\n    }\n    const project = component.breadcrumbs.find(({ qualifier }) => qualifier === 'TRK');\n    if (project) {\n      return Promise.all([getBranches(project.key), getPullRequests(project.key)]).then(\n        ([branches, pullRequests]) => {\n          const branchLikes = [...branches, ...pullRequests];\n          const branchLike = this.getCurrentBranchLike(branchLikes);\n          return { branchLike, branchLikes, component };\n        }\n      );\n    }\n\n    return Promise.resolve({ branchLikes: [], component });\n  };\n\n  fetchBranchMeasures = ({\n    branchLike,\n    branchLikes,\n    component\n  }: {\n    branchLike: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    component: T.Component;\n  }): Promise<{\n    branchLike?: T.BranchLike;\n    branchLikes: T.BranchLike[];\n    branchMeasures?: T.Measure[];\n    component: T.Component;\n  }> => {\n    const project = component.breadcrumbs.find(({ qualifier }) => qualifier === 'TRK');\n    if (project && (isShortLivingBranch(branchLike) || isPullRequest(branchLike))) {\n      return getMeasures({\n        component: project.key,\n        metricKeys: 'new_coverage,new_duplicated_lines_density',\n        ...getBranchLikeQuery(branchLike)\n      }).then(measures => {\n        return { branchLike, branchLikes, branchMeasures: measures, component };\n      });\n    }\n    return Promise.resolve({ branchLike, branchLikes, component });\n  };\n\n  fetchStatus = (component: T.Component) => {\n    getTasksForComponent(component.key).then(\n      ({ current, queue }) => {\n        if (this.mounted) {\n          let shouldFetchComponent = false;\n          this.setState(\n            ({ branchLike, component, currentTask, tasksInProgress }) => {\n              const newCurrentTask = this.getCurrentTask(current, branchLike);\n              const pendingTasks = this.getPendingTasks(queue, branchLike);\n              const newTasksInProgress = pendingTasks.filter(\n                task => task.status === STATUSES.IN_PROGRESS\n              );\n\n              const currentTaskChanged =\n                currentTask && newCurrentTask && currentTask.id !== newCurrentTask.id;\n              const progressChanged =\n                tasksInProgress &&\n                (newTasksInProgress.length !== tasksInProgress.length ||\n                  differenceBy(newTasksInProgress, tasksInProgress, 'id').length > 0);\n\n              shouldFetchComponent = Boolean(currentTaskChanged || progressChanged);\n              if (\n                !shouldFetchComponent &&\n                component &&\n                (newTasksInProgress.length > 0 || !component.analysisDate)\n              ) {\n                // Refresh the status as long as there is tasks in progress or no analysis\n                window.clearTimeout(this.watchStatusTimer);\n                this.watchStatusTimer = window.setTimeout(\n                  () => this.fetchStatus(component),\n                  FETCH_STATUS_WAIT_TIME\n                );\n              }\n\n              const isPending = pendingTasks.some(task => task.status === STATUSES.PENDING);\n              return {\n                currentTask: newCurrentTask,\n                isPending,\n                tasksInProgress: newTasksInProgress\n              };\n            },\n            () => {\n              if (shouldFetchComponent) {\n                this.fetchComponent();\n              }\n            }\n          );\n        }\n      },\n      () => {}\n    );\n  };\n\n  fetchWarnings = (component: T.Component, branchLike?: T.BranchLike) => {\n    if (component.qualifier === 'TRK') {\n      getAnalysisStatus({\n        component: component.key,\n        ...getBranchLikeQuery(branchLike)\n      }).then(\n        ({ component }) => {\n          this.setState({ warnings: component.warnings });\n        },\n        () => {}\n      );\n    }\n  };\n\n  getCurrentBranchLike = (branchLikes: T.BranchLike[]) => {\n    const { query } = this.props.location;\n    return query.pullRequest\n      ? branchLikes.find(b => isPullRequest(b) && b.key === query.pullRequest)\n      : branchLikes.find(b => isBranch(b) && (query.branch ? b.name === query.branch : b.isMain));\n  };\n\n  getCurrentTask = (current: T.Task, branchLike?: T.BranchLike) => {\n    if (!current) {\n      return undefined;\n    }\n\n    return current.status === STATUSES.FAILED || this.isSameBranch(current, branchLike)\n      ? current\n      : undefined;\n  };\n\n  getPendingTasks = (pendingTasks: T.Task[], branchLike?: T.BranchLike) => {\n    return pendingTasks.filter(task => this.isSameBranch(task, branchLike));\n  };\n\n  isSameBranch = (\n    task: Pick<T.Task, 'branch' | 'branchType' | 'pullRequest'>,\n    branchLike?: T.BranchLike\n  ) => {\n    if (branchLike && !isMainBranch(branchLike)) {\n      if (isPullRequest(branchLike)) {\n        return branchLike.key === task.pullRequest;\n      }\n      if (isShortLivingBranch(branchLike) || isLongLivingBranch(branchLike)) {\n        return branchLike.type === task.branchType && branchLike.name === task.branch;\n      }\n    }\n    return !task.branch && !task.pullRequest;\n  };\n\n  handleComponentChange = (changes: Partial<T.Component>) => {\n    if (this.mounted) {\n      this.setState(state => {\n        if (state.component) {\n          const newComponent: T.Component = { ...state.component, ...changes };\n          return { component: newComponent };\n        }\n        return null;\n      });\n    }\n  };\n\n  handleBranchesChange = () => {\n    if (this.mounted && this.state.component) {\n      this.fetchBranches(this.state.component)\n        .then(this.fetchBranchMeasures)\n        .then(\n          ({ branchLike, branchLikes, branchMeasures }) => {\n            if (this.mounted) {\n              this.setState({ branchLike, branchLikes, branchMeasures });\n            }\n          },\n          () => {}\n        );\n    }\n  };\n\n  render() {\n    const { component, loading } = this.state;\n\n    if (!loading && !component) {\n      return <ComponentContainerNotFound />;\n    }\n\n    const { branchLike, branchLikes, currentTask, isPending, tasksInProgress } = this.state;\n    const isInProgress = tasksInProgress && tasksInProgress.length > 0;\n\n    return (\n      <div>\n        {component &&\n          !['FIL', 'UTS'].includes(component.qualifier) && (\n            <ComponentNav\n              branchLikes={branchLikes}\n              branchMeasures={this.state.branchMeasures}\n              component={component}\n              currentBranchLike={branchLike}\n              currentTask={currentTask}\n              currentTaskOnSameBranch={currentTask && this.isSameBranch(currentTask, branchLike)}\n              isInProgress={isInProgress}\n              isPending={isPending}\n              location={this.props.location}\n              warnings={this.state.warnings}\n            />\n          )}\n        {loading ? (\n          <div className=\"page page-limited\">\n            <i className=\"spinner\" />\n          </div>\n        ) : (\n          <ComponentContext.Provider value={{ branchLike, component }}>\n            {React.cloneElement(this.props.children, {\n              branchLike,\n              branchLikes,\n              component,\n              isInProgress,\n              isPending,\n              onBranchesChange: this.handleBranchesChange,\n              onComponentChange: this.handleComponentChange\n            })}\n          </ComponentContext.Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: getAppState(state)\n});\n\nconst mapDispatchToProps = { fetchOrganizations };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ComponentContainer);\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string) {\n  return almKey && almKey.startsWith('bitbucket');\n}\n\nexport function isGithub(almKey?: string) {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string) {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey?: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","import { Query } from './utils';\n\n/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const STATUSES = {\n  ALL: '__ALL__',\n  ALL_EXCEPT_PENDING: '__ALL_EXCEPT_PENDING__',\n  PENDING: 'PENDING',\n  IN_PROGRESS: 'IN_PROGRESS',\n  SUCCESS: 'SUCCESS',\n  FAILED: 'FAILED',\n  CANCELED: 'CANCELED'\n};\n\nexport const ALL_TYPES = 'ALL_TYPES';\n\nexport const CURRENTS = {\n  ALL: '__ALL__',\n  ONLY_CURRENTS: 'CURRENTS'\n};\n\nexport const DATE = {\n  ANY: 'ANY',\n  TODAY: 'TODAY',\n  CUSTOM: 'CUSTOM'\n};\n\nexport const DEFAULT_FILTERS: Query = {\n  status: STATUSES.ALL_EXCEPT_PENDING,\n  taskType: ALL_TYPES,\n  currents: CURRENTS.ALL,\n  minSubmittedAt: undefined,\n  maxExecutedAt: undefined,\n  query: ''\n};\n\nexport const DATE_FORMAT = 'YYYY-MM-DD';\n\nexport const DEBOUNCE_DELAY = 250;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function DetachIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12 9.25v2.5A2.25 2.25 0 0 1 9.75 14h-6.5A2.25 2.25 0 0 1 1 11.75v-6.5A2.25 2.25 0 0 1 3.25 3h5.5c.14 0 .25.11.25.25v.5c0 .14-.11.25-.25.25h-5.5C2.562 4 2 4.563 2 5.25v6.5c0 .688.563 1.25 1.25 1.25h6.5c.688 0 1.25-.563 1.25-1.25v-2.5c0-.14.11-.25.25-.25h.5c.14 0 .25.11.25.25zm3-6.75v4c0 .273-.227.5-.5.5a.497.497 0 0 1-.352-.148l-1.375-1.375L7.68 10.57a.27.27 0 0 1-.18.078.27.27 0 0 1-.18-.078l-.89-.89a.27.27 0 0 1-.078-.18.27.27 0 0 1 .078-.18l5.093-5.093-1.375-1.375A.497.497 0 0 1 10 2.5c0-.273.227-.5.5-.5h4c.273 0 .5.227.5.5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\n\nconst DonutChart = lazyLoad(() => import('../charts/DonutChart'));\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({ muted = false, size = 'normal', value }: Props) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? theme.gray71 : theme.green },\n      { value: 100 - numberValue, fill: muted ? theme.barBackgroundColor : theme.red }\n    ];\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return <DonutChart data={data} height={width} thickness={thickness} width={width} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { inRange } from 'lodash';\nimport './DuplicationsRating.css';\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | null | undefined;\n}\n\nexport default function DuplicationsRating({ muted = false, size = 'normal', value }: Props) {\n  const className = classNames('duplications-rating', {\n    'duplications-rating-small': size === 'small',\n    'duplications-rating-big': size === 'big',\n    'duplications-rating-huge': size === 'huge',\n    'duplications-rating-muted': muted || value == null || isNaN(value),\n    'duplications-rating-A': inRange(value || 0, 0, 3),\n    'duplications-rating-B': inRange(value || 0, 3, 5),\n    'duplications-rating-C': inRange(value || 0, 5, 10),\n    'duplications-rating-D': inRange(value || 0, 10, 20),\n    'duplications-rating-E': (value || 0) >= 20\n  });\n\n  return <div className={className} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  favorite: boolean;\n}\n\nexport default function FavoriteIcon({ className, favorite, fill = theme.orange, size }: Props) {\n  return (\n    <Icon\n      className={classNames('icon-outline', { 'is-filled': favorite }, className)}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\">\n        <path d=\"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" />\n      </g>\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.duplications-rating {\\n  position: relative;\\n  display: inline-flex;\\n  vertical-align: top;\\n  justify-content: center;\\n  align-items: center;\\n  width: 24px;\\n  height: 24px;\\n  border: 3px solid #ed7d20;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n}\\n\\n.duplications-rating-small {\\n  width: 16px;\\n  height: 16px;\\n  border-width: 2px;\\n}\\n\\n.duplications-rating-big {\\n  width: 40px;\\n  height: 40px;\\n  border-width: 3px;\\n}\\n\\n.duplications-rating-huge {\\n  width: 60px;\\n  height: 60px;\\n  border-width: 4px;\\n  border-radius: 30px;\\n}\\n\\n.duplications-rating-muted {\\n  border-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating-muted:after {\\n  background-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating:after {\\n  border-radius: 24px;\\n  content: '';\\n}\\n\\n.duplications-rating-A {\\n  border-color: #00aa00;\\n}\\n\\n.duplications-rating-A:after {\\n  display: none;\\n}\\n\\n.duplications-rating-B {\\n  border-color: #b0d513;\\n}\\n\\n.duplications-rating-B:after {\\n  width: 6px;\\n  height: 6px;\\n  background-color: #b0d513;\\n}\\n\\n.duplications-rating-small.duplications-rating-B:after {\\n  width: 2px;\\n  height: 2px;\\n}\\n\\n.duplications-rating-big.duplications-rating-B:after {\\n  width: 12px;\\n  height: 12px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-B:after {\\n  width: 18px;\\n  height: 18px;\\n}\\n\\n.duplications-rating-C {\\n  border-color: #eabe06;\\n}\\n\\n.duplications-rating-C:after {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #eabe06;\\n}\\n\\n.duplications-rating-small.duplications-rating-C:after {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n.duplications-rating-big.duplications-rating-C:after {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-C:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-D {\\n  border-color: #ed7d20;\\n}\\n\\n.duplications-rating-D:after {\\n  width: 12px;\\n  height: 12px;\\n  background-color: #ed7d20;\\n}\\n\\n.duplications-rating-small.duplications-rating-D:after {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n.duplications-rating-big.duplications-rating-D:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-D:after {\\n  width: 36px;\\n  height: 36px;\\n}\\n\\n.duplications-rating-E {\\n  border-color: #d4333f;\\n}\\n\\n.duplications-rating-E:after {\\n  width: 14px;\\n  height: 14px;\\n  background-color: #d4333f;\\n}\\n\\n.duplications-rating-small.duplications-rating-E:after {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.duplications-rating-big.duplications-rating-E:after {\\n  width: 28px;\\n  height: 28px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-E:after {\\n  width: 42px;\\n  height: 42px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Store, getAppState } from '../store/rootReducer';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentClass<P & { appState: Partial<T.AppState> }>\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = `withAppState(${wrappedDisplayName})`;\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getStore from './getStore';\nimport getHistory from './getHistory';\nimport { requireAuthorization } from '../../store/appState';\n\nexport default function handleRequiredAuthorization() {\n  const store = getStore();\n  const history = getHistory();\n\n  const returnTo = window.location.pathname + window.location.search + window.location.hash;\n\n  store.dispatch(requireAuthorization());\n  history.replace({ pathname: '/sessions/new', query: { return_to: returnTo } });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getAnalysisStatus(data: {\n  component: string;\n  branch?: string;\n  pullRequest?: string;\n}): Promise<{\n  component: {\n    branch?: string;\n    key: string;\n    name: string;\n    organization?: string;\n    pullRequest?: string;\n    warnings: string[];\n  };\n}> {\n  return getJSON('/api/ce/analysis_status', data).catch(throwGlobalError);\n}\n\nexport function getActivity(data: RequestData): Promise<{ tasks: T.Task[] }> {\n  return getJSON('/api/ce/activity', data);\n}\n\nexport function getStatus(\n  componentId?: string\n): Promise<{ failing: number; inProgress: number; pending: number }> {\n  const data = {};\n  if (componentId) {\n    Object.assign(data, { componentId });\n  }\n  return getJSON('/api/ce/activity_status', data);\n}\n\nexport function getTask(id: string, additionalFields?: string[]): Promise<T.Task> {\n  return getJSON('/api/ce/task', { id, additionalFields }).then(r => r.task);\n}\n\nexport function cancelTask(id: string): Promise<any> {\n  return post('/api/ce/cancel', { id }).then(() => getTask(id), () => getTask(id));\n}\n\nexport function cancelAllTasks(): Promise<any> {\n  return post('/api/ce/cancel_all');\n}\n\nexport function getTasksForComponent(\n  component: string\n): Promise<{ queue: T.Task[]; current: T.Task }> {\n  return getJSON('/api/ce/component', { component }).catch(throwGlobalError);\n}\n\nexport function getTypes(): Promise<string[]> {\n  return getJSON('/api/ce/task_types').then(r => r.taskTypes);\n}\n\nexport function getWorkers(): Promise<{ canSetWorkerCount: boolean; value: number }> {\n  return getJSON('/api/ce/worker_count').catch(throwGlobalError);\n}\n\nexport function setWorkerCount(count: number): Promise<void | Response> {\n  return post('/api/ce/set_worker_count', { count }).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport FavoriteIcon from '../icons-components/FavoriteIcon';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  addFavorite: () => Promise<void>;\n  className?: string;\n  favorite: boolean;\n  qualifier: string;\n  removeFavorite: () => Promise<void>;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class FavoriteBase extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { favorite: this.props.favorite };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.favorite !== this.props.favorite || nextProps.favorite !== this.state.favorite) {\n      this.setState({ favorite: nextProps.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.state.favorite) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  };\n\n  addFavorite() {\n    this.props.addFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  removeFavorite() {\n    this.props.removeFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: false });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const tooltip = this.state.favorite\n      ? translate('favorite.current', this.props.qualifier)\n      : translate('favorite.check', this.props.qualifier);\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('display-inline-block', 'link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.toggleFavorite}>\n          <FavoriteIcon favorite={this.state.favorite} />\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteBase from './FavoriteBase';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n}\n\nexport default function Favorite({ component, ...other }: Props) {\n  return (\n    <FavoriteBase\n      {...other}\n      addFavorite={() => addFavorite(component)}\n      removeFavorite={() => removeFavorite(component)}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON } from '../helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\nexport function getComponentNavigation(\n  data: { component: string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  filled?: boolean;\n}\n\nexport default function HomeIcon({ className, fill = theme.orange, filled = false, size }: Props) {\n  return (\n    <Icon\n      className={classNames(className, 'icon-outline', { 'is-filled': filled })}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\">\n        <path d=\"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport Tooltip from './Tooltip';\nimport HomeIcon from '../icons-components/HomeIcon';\nimport { translate } from '../../helpers/l10n';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\nimport { isLoggedIn } from '../../helpers/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <a\n            className={classNames(\n              'link-no-underline',\n              'display-inline-block',\n              this.props.className\n            )}\n            href=\"#\"\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </a>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\n\ninterface Props {\n  organization?: { name: string };\n  title: string;\n}\n\nexport default function OrganizationHelmet({ title, organization }: Props) {\n  const defaultTitle = title + (organization ? ' - ' + organization.name : '');\n  return <Helmet defaultTitle={defaultTitle} titleTemplate={'%s - ' + defaultTitle} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function WarningIcon({ className, fill = theme.warningIconColor, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M9 12.242v-1.484c0-.14-.11-.258-.25-.258h-1.5c-.14 0-.25.117-.25.258v1.484c0 .14.11.258.25.258h1.5c.14 0 .25-.117.25-.258zM8.984 9.32l.141-3.586a.189.189 0 0 0-.078-.148C9 5.546 8.93 5.5 8.859 5.5H7.141c-.07 0-.141.047-.188.086-.055.039-.078.117-.078.164l.133 3.57c0 .102.117.18.265.18H8.72c.14 0 .258-.078.265-.18zm-.109-7.297l6 11A1 1 0 0 1 14 14.5H2a1 1 0 0 1-.875-1.477l6-11a.994.994 0 0 1 1.75 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './NavBarNotif.css';\n\ntype NavBarNotifVariant = 'error' | 'info';\n\ninterface Props {\n  children?: React.ReactNode;\n  className?: string;\n  variant: NavBarNotifVariant;\n}\n\nexport default function NavBarNotif(props: Props) {\n  if (!props.children) {\n    return null;\n  }\n  return (\n    <div className={classNames('navbar-notif', `navbar-notif-${props.variant}`, props.className)}>\n      <div className=\"navbar-limited clearfix\">{props.children}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ComponentContextType {\n  branchLike: T.BranchLike | undefined;\n  component: T.Component | undefined;\n}\n\nexport const ComponentContext = React.createContext<ComponentContextType>({\n  branchLike: undefined,\n  component: undefined\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PlusCircleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 1c3.863 0 7 3.137 7 7s-3.137 7-7 7-7-3.137-7-7 3.137-7 7-7zm3.726 7.985A.274.274 0 0 0 12 8.711V7.289a.274.274 0 0 0-.274-.274H8.985V4.274A.274.274 0 0 0 8.711 4H7.289a.274.274 0 0 0-.274.274v2.741H4.274A.274.274 0 0 0 4 7.289v1.422c0 .152.123.274.274.274h2.741v2.741c0 .151.122.274.274.274h1.422a.274.274 0 0 0 .274-.274V8.985h2.741z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarNotif.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarNotif.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./NavBarNotif.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.navbar-notif {\\n  margin-bottom: 8px;\\n  border: 1px solid;\\n  border-left: none;\\n  border-right: none;\\n  padding: 8px 0;\\n}\\n\\n.navbar-notif a,\\n.navbar-notif .button-link {\\n  border-color: #236a97;\\n}\\n\\n.navbar-notif-error {\\n  border-color: #ebccd1;\\n  background-color: #f2dede;\\n  color: #862422;\\n}\\n\\n.navbar-notif-info {\\n  border-color: #b1dff3;\\n  background-color: #d9edf7;\\n  color: #0e516f;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function PendingIcon({ className, fill = theme.gray67, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"matrix(0.0364583,0,0,0.0364583,1,-0.166667)\">\n        <path\n          d=\"M224,136L224,248C224,250.333 223.25,252.25 221.75,253.75C220.25,255.25 218.333,256 216,256L136,256C133.667,256 131.75,255.25 130.25,253.75C128.75,252.25 128,250.333 128,248L128,232C128,229.667 128.75,227.75 130.25,226.25C131.75,224.75 133.667,224 136,224L192,224L192,136C192,133.667 192.75,131.75 194.25,130.25C195.75,128.75 197.667,128 200,128L216,128C218.333,128 220.25,128.75 221.75,130.25C223.25,131.75 224,133.667 224,136ZM328,224C328,199.333 321.917,176.583 309.75,155.75C297.583,134.917 281.083,118.417 260.25,106.25C239.417,94.083 216.667,88 192,88C167.333,88 144.583,94.083 123.75,106.25C102.917,118.417 86.417,134.917 74.25,155.75C62.083,176.583 56,199.333 56,224C56,248.667 62.083,271.417 74.25,292.25C86.417,313.083 102.917,329.583 123.75,341.75C144.583,353.917 167.333,360 192,360C216.667,360 239.417,353.917 260.25,341.75C281.083,329.583 297.583,313.083 309.75,292.25C321.917,271.417 328,248.667 328,224ZM384,224C384,258.833 375.417,290.958 358.25,320.375C341.083,349.792 317.792,373.083 288.375,390.25C258.958,407.417 226.833,416 192,416C157.167,416 125.042,407.417 95.625,390.25C66.208,373.083 42.917,349.792 25.75,320.375C8.583,290.958 0,258.833 0,224C0,189.167 8.583,157.042 25.75,127.625C42.917,98.208 66.208,74.917 95.625,57.75C125.042,40.583 157.167,32 192,32C226.833,32 258.958,40.583 288.375,57.75C317.792,74.917 341.083,98.208 358.25,127.625C375.417,157.042 384,189.167 384,224Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n"],"sourceRoot":""}