{"version":3,"sources":["webpack:///./src/main/js/apps/code/code.css?1940","webpack:///./src/main/js/apps/code/code.css","webpack:///./src/main/js/apps/code/components/Truncated.tsx","webpack:///./src/main/js/apps/code/components/ComponentName.tsx","webpack:///./src/main/js/apps/code/components/ComponentMeasure.tsx","webpack:///./src/main/js/apps/code/components/ComponentLink.tsx","webpack:///./src/main/js/components/icons-components/PinIcon.tsx","webpack:///./src/main/js/apps/code/components/ComponentPin.tsx","webpack:///./src/main/js/apps/code/components/Component.tsx","webpack:///./src/main/js/apps/code/components/ComponentsEmpty.tsx","webpack:///./src/main/js/apps/code/components/ComponentsHeader.tsx","webpack:///./src/main/js/apps/code/bucket.ts","webpack:///./src/main/js/apps/code/utils.ts","webpack:///./src/main/js/apps/code/components/Components.tsx","webpack:///./src/main/js/apps/code/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/code/components/Search.tsx","webpack:///./src/main/js/apps/code/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./src/main/js/components/ui/Level.css?5a2b","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Rating.css?38ca","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/icons-components/LongLivingBranchIcon.tsx","webpack:///./src/main/js/components/icons-components/LinkIcon.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","Truncated","_a","children","title","index_js_exposed","className","ComponentName","props","branchLike","component","rootComponent","previous","canBrowse","prefix","qualifier","strings","sortedStrings","slice","sort","firstString","firstStringLength","length","lastString","charAt","substr","prefixTokens","split","lastPrefixPart","mostCommitPrefix","name","style","color","theme","inner","refKey","branch","react_router_es","to","pathname","query","__assign","id","QualifierIcon","key","Object","branches","assign","selected","LongLivingBranchIcon","l10n","path","getTooltip","ComponentMeasure","metric","isProject","isReleasability","finalMetricKey","finalMetricType","type","measure","Array","isArray","measures","find","value","utils","Measure","metricKey","metricType","ComponentLink","urls","LinkIcon","PinIcon","_b","fill","size","Icon","d","_super","ComponentPin","_this","apply","this","arguments","handleClick","event","preventDefault","currentTarget","blur","openComponent","__extends","prototype","render","href","onClick","Component","Component_extends","componentDidMount","handleUpdate","componentDidUpdate","setTimeout","handleScroll","node","position","getBoundingClientRect","top","bottom","window","innerHeight","scrollTo","pageYOffset","isLeak","metrics","_c","componentAction","context","Consumer","components_ComponentPin","classnames","ref","map","leak","ComponentsEmpty","colSpan","SHORT_NAME_METRICS","ComponentsHeader","baseComponent","columns","includes","column","index","code-components-cell","bucket","childrenBucket","breadcrumbsBucket","addComponent","addComponentChildren","componentKey","total","page","getComponentChildren","concat","addComponentBreadcrumbs","breadcrumbs","getComponentBreadcrumbs","METRICS","APPLICATION_METRICS","PORTFOLIO_METRICS","LEAK_METRICS","PAGE_SIZE","requestAllChildren","requestChildren","api_components","utils_assign","p","ps","then","r","paging","pageSize","pageIndex","moreComponents","components","expandRootDir","other","__rest","rootDir","rootDirComponents","nextComponents","without_default","nextTotal","Promise","resolve","prepareChildren","showLeakMeasure","skipRootDir","filter","storeChildrenBase","forEach","storeChildrenBreadcrumbs","parentComponentKey","parentBreadcrumbs","child","getCodeMetrics","retrieveComponentBase","existing","getComponent","metricKeys","join","retrieveComponentChildren","s","retrieveComponent","all","retrieveComponentBreadcrumbs","Components","types","Boolean","components_Component","list","Breadcrumbs","Search_Search","Search","mounted","state","loading","handleKeyDown","keyCode","handleSelectCurrent","handleSelectPrevious","handleSelectNext","handleSearch","setState","qualifiers","Search_assign","q","results","selectedIndex","catch","handleQueryChange","Search_extends","componentWillReceiveProps","nextProps","location","componentWillUnmount","router","containerClassName","code-search-with-results","isPortfolio","SearchBox","minLength","onChange","onKeyDown","placeholder","components_Search","withRouter","App_App","App","handleLoadMore","loadMoreChildren","stopLoading","App_extends","fetchMetrics","handleComponentChange","prevProps","loadComponent","sourceViewer","searchResults","finalKey","shouldShowBreadcrumbs","componentsClassName","new-loading","defaultTitle","Suggestions","suggestions","Helmet_default","a","ListFooter","count","loadMore","SourceViewer","mapDispatchToProps","rootActions","__webpack_exports__","es","rootReducer","react__WEBPACK_IMPORTED_MODULE_0__","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","addSuggestions","removeSuggestions","SuggestionsInner","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","ready","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","classnames__WEBPACK_IMPORTED_MODULE_1__","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","Rating","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","muted","small","formatted","rating-small","rating-muted","Level","level","level-small","level-muted","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","periods","period","getPeriod","dateFormatter","parameter","modeParam","mode","date","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","decimals","formattedValue","tooltip","Number","rating","overlay","KNOWN_RATINGS","enhanceMeasure","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","e","bind"],"mappings":"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","file":"js/292.cc8545d6.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./code.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.code-breadcrumbs {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n\\n.code-breadcrumbs > li {\\n  padding: 5px 5px 3px;\\n}\\n\\n.code-breadcrumbs > li:first-child {\\n  padding-left: 0;\\n}\\n\\n.code-breadcrumbs > li::after {\\n  position: relative;\\n  top: -1px;\\n  padding-left: 10px;\\n  color: #777;\\n  font-size: 11px;\\n  content: '>';\\n}\\n\\n.code-breadcrumbs > li:last-child::after {\\n  display: none;\\n}\\n\\n.code-components-cell {\\n  min-width: 80px;\\n  padding-left: 30px !important;\\n  box-sizing: border-box;\\n}\\n\\n.code-truncated {\\n  display: inline-block;\\n  vertical-align: text-top;\\n  max-width: 50vw;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.code-name-cell {\\n  max-width: 0;\\n}\\n\\n.code-name-cell .code-truncated {\\n  max-width: 100%;\\n}\\n\\n.code-search {\\n  margin-bottom: 10px;\\n}\\n\\n.code-search-with-results + .code-components {\\n  display: none;\\n}\\n\\n.code-components-header {\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 95px;\\n  background-color: rgba(255, 255, 255, 0.9);\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children: React.ReactNode;\n  title: string;\n}\n\nexport default function Truncated({ children, title }: Props) {\n  return (\n    <span className=\"code-truncated\" title={title}>\n      {children}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Truncated from './Truncated';\nimport * as theme from '../../../app/theme';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport LongLivingBranchIcon from '../../../components/icons-components/LongLivingBranchIcon';\nimport { translate } from '../../../helpers/l10n';\n\nfunction getTooltip(component: T.ComponentMeasure) {\n  const isFile = component.qualifier === 'FIL' || component.qualifier === 'UTS';\n  if (isFile && component.path) {\n    return component.path + '\\n\\n' + component.key;\n  } else {\n    return component.name + '\\n\\n' + component.key;\n  }\n}\n\nfunction mostCommitPrefix(strings: string[]) {\n  const sortedStrings = strings.slice(0).sort();\n  const firstString = sortedStrings[0];\n  const firstStringLength = firstString.length;\n  const lastString = sortedStrings[sortedStrings.length - 1];\n  let i = 0;\n  while (i < firstStringLength && firstString.charAt(i) === lastString.charAt(i)) {\n    i++;\n  }\n  const prefix = firstString.substr(0, i);\n  const prefixTokens = prefix.split(/[\\s\\\\/]/);\n  const lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n  return prefix.substr(0, prefix.length - lastPrefixPart.length);\n}\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  canBrowse?: boolean;\n  component: T.ComponentMeasure;\n  previous?: T.ComponentMeasure;\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default function ComponentName(props: Props) {\n  const { branchLike, component, rootComponent, previous, canBrowse = false } = props;\n  const areBothDirs = component.qualifier === 'DIR' && previous && previous.qualifier === 'DIR';\n  const prefix =\n    areBothDirs && previous !== undefined\n      ? mostCommitPrefix([component.name + '/', previous.name + '/'])\n      : '';\n  const name = prefix ? (\n    <span>\n      <span style={{ color: theme.secondFontColor }}>{prefix}</span>\n      <span>{component.name.substr(prefix.length)}</span>\n    </span>\n  ) : (\n    component.name\n  );\n\n  let inner = null;\n\n  if (component.refKey && component.qualifier !== 'SVW') {\n    const branch = rootComponent.qualifier === 'APP' ? { branch: component.branch } : {};\n    inner = (\n      <Link\n        className=\"link-with-icon\"\n        to={{ pathname: '/dashboard', query: { id: component.refKey, ...branch } }}>\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else if (canBrowse) {\n    const query = { id: rootComponent.key, ...getBranchLikeQuery(branchLike) };\n    if (component.key !== rootComponent.key) {\n      Object.assign(query, { selected: component.key });\n    }\n    inner = (\n      <Link className=\"link-with-icon\" to={{ pathname: '/code', query }}>\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else {\n    inner = (\n      <span>\n        <QualifierIcon qualifier={component.qualifier} /> {name}\n      </span>\n    );\n  }\n\n  if (rootComponent.qualifier === 'APP') {\n    inner = (\n      <>\n        {inner}\n        {component.branch ? (\n          <>\n            <LongLivingBranchIcon className=\"spacer-left little-spacer-right\" />\n            <span className=\"note\">{component.branch}</span>\n          </>\n        ) : (\n          <span className=\"spacer-left outline-badge\">{translate('branches.main_branch')}</span>\n        )}\n      </>\n    );\n  }\n\n  return <Truncated title={getTooltip(component)}>{inner}</Truncated>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\n\ninterface Props {\n  component: T.ComponentMeasure;\n  metric: T.Metric;\n}\n\nexport default function ComponentMeasure({ component, metric }: Props) {\n  const isProject = component.qualifier === 'TRK';\n  const isReleasability = metric.key === 'releasability_rating';\n\n  const finalMetricKey = isProject && isReleasability ? 'alert_status' : metric.key;\n  const finalMetricType = isProject && isReleasability ? 'LEVEL' : metric.type;\n\n  const measure =\n    Array.isArray(component.measures) &&\n    component.measures.find(measure => measure.metric === finalMetricKey);\n\n  if (!measure) {\n    return <span />;\n  }\n\n  const value = isDiffMetric(metric.key) ? getLeakValue(measure) : measure.value;\n  return <Measure metricKey={finalMetricKey} metricType={finalMetricType} value={value} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n}\n\nexport default function ComponentLink({ component, branchLike }: Props) {\n  return (\n    <Link\n      className=\"link-no-underline\"\n      title={translate('code.open_component_page')}\n      to={getBranchLikeUrl(component.refKey || component.key, branchLike)}>\n      <LinkIcon />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PinIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.25 7.25v-3.5a.243.243 0 0 0-.07-.18A.243.243 0 0 0 7 3.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v3.5c0 .073.023.133.07.18.047.047.107.07.18.07a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zM12.5 10a.482.482 0 0 1-.148.352.482.482 0 0 1-.352.148H8.648l-.398 3.773a.29.29 0 0 1-.082.161.219.219 0 0 1-.16.066H8c-.141 0-.224-.07-.25-.211L7.156 10.5H4a.482.482 0 0 1-.352-.148A.482.482 0 0 1 3.5 10c0-.641.204-1.217.613-1.73.409-.513.871-.77 1.387-.77v-4a.96.96 0 0 1-.703-.297A.96.96 0 0 1 4.5 2.5a.96.96 0 0 1 .297-.703A.96.96 0 0 1 5.5 1.5h5a.96.96 0 0 1 .703.297.96.96 0 0 1 .297.703.96.96 0 0 1-.297.703.96.96 0 0 1-.703.297v4c.516 0 .978.257 1.387.77.409.513.613 1.089.613 1.73z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport PinIcon from '../../../components/icons-components/PinIcon';\nimport { WorkspaceContextShape } from '../../../components/workspace/context';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  openComponent: WorkspaceContextShape['openComponent'];\n}\n\nexport default class ComponentPin extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.openComponent({\n      branchLike: this.props.branchLike,\n      key: this.props.component.key,\n      name: this.props.component.path,\n      qualifier: this.props.component.qualifier\n    });\n  };\n\n  render() {\n    return (\n      <a\n        className=\"link-no-underline\"\n        href=\"#\"\n        onClick={this.handleClick}\n        title={translate('component_viewer.open_in_workspace')}>\n        <PinIcon />\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\nimport ComponentMeasure from './ComponentMeasure';\nimport ComponentLink from './ComponentLink';\nimport ComponentPin from './ComponentPin';\nimport { WorkspaceContext } from '../../../components/workspace/context';\n\nconst TOP_OFFSET = 200;\nconst BOTTOM_OFFSET = 10;\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  canBrowse?: boolean;\n  component: T.ComponentMeasure;\n  isLeak: boolean;\n  metrics: T.Metric[];\n  previous?: T.ComponentMeasure;\n  rootComponent: T.ComponentMeasure;\n  selected?: boolean;\n}\n\nexport default class Component extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    this.handleUpdate();\n  }\n\n  componentDidUpdate() {\n    this.handleUpdate();\n  }\n\n  handleUpdate() {\n    const { selected } = this.props;\n\n    // scroll viewport so the current selected component is visible\n    if (selected) {\n      setTimeout(() => {\n        this.handleScroll();\n      }, 0);\n    }\n  }\n\n  handleScroll() {\n    if (this.node) {\n      const position = this.node.getBoundingClientRect();\n      const { top, bottom } = position;\n      if (bottom > window.innerHeight - BOTTOM_OFFSET) {\n        window.scrollTo(0, bottom - window.innerHeight + window.pageYOffset + BOTTOM_OFFSET);\n      } else if (top < TOP_OFFSET) {\n        window.scrollTo(0, top + window.pageYOffset - TOP_OFFSET);\n      }\n    }\n  }\n\n  render() {\n    const {\n      branchLike,\n      canBrowse = false,\n      component,\n      isLeak,\n      metrics,\n      previous,\n      rootComponent,\n      selected = false\n    } = this.props;\n\n    let componentAction = null;\n\n    if (!component.refKey || component.qualifier === 'SVW') {\n      switch (component.qualifier) {\n        case 'FIL':\n        case 'UTS':\n          componentAction = (\n            <WorkspaceContext.Consumer>\n              {({ openComponent }) => (\n                <ComponentPin\n                  branchLike={branchLike}\n                  component={component}\n                  openComponent={openComponent}\n                />\n              )}\n            </WorkspaceContext.Consumer>\n          );\n          break;\n        default:\n          componentAction = <ComponentLink branchLike={branchLike} component={component} />;\n      }\n    }\n\n    return (\n      <tr className={classNames({ selected })} ref={node => (this.node = node)}>\n        <td className=\"blank\" />\n        <td className=\"thin nowrap\">\n          <span className=\"spacer-right\">{componentAction}</span>\n        </td>\n        <td className=\"code-name-cell\">\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={canBrowse}\n            component={component}\n            previous={previous}\n            rootComponent={rootComponent}\n          />\n        </td>\n\n        {metrics.map(metric => (\n          <td className={classNames('thin nowrap text-right', { leak: isLeak })} key={metric.key}>\n            <div className=\"code-components-cell\">\n              <ComponentMeasure component={component} metric={metric} />\n            </div>\n          </td>\n        ))}\n        <td className={classNames('blank', { leak: isLeak })} />\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function ComponentsEmpty({ isLeak }: { isLeak: boolean }) {\n  return (\n    <tr>\n      <td />\n      <td className=\"note\" colSpan={2}>\n        {translate('no_results')}\n      </td>\n      <td className={classNames({ leak: isLeak })} colSpan={10} />\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  baseComponent?: T.ComponentMeasure;\n  isLeak: boolean;\n  metrics: string[];\n  rootComponent: T.ComponentMeasure;\n}\n\nconst SHORT_NAME_METRICS = [\n  'duplicated_lines_density',\n  'new_lines',\n  'new_coverage',\n  'new_duplicated_lines_density'\n];\n\nexport default function ComponentsHeader({ baseComponent, isLeak, metrics, rootComponent }: Props) {\n  const isPortfolio = ['VW', 'SVW'].includes(rootComponent.qualifier);\n  let columns: string[] = [];\n  if (isPortfolio) {\n    columns = [\n      translate('metric_domain.Releasability'),\n      translate('metric_domain.Reliability'),\n      translate('metric_domain.Security'),\n      translate('metric_domain.Maintainability'),\n      translate('metric', 'ncloc', 'name')\n    ];\n  } else {\n    columns = metrics.map(metric =>\n      translate('metric', metric, SHORT_NAME_METRICS.includes(metric) ? 'short_name' : 'name')\n    );\n  }\n\n  return (\n    <thead>\n      <tr className=\"code-components-header\">\n        <th className=\"thin nowrap\" colSpan={2} />\n        <th />\n        {baseComponent &&\n          columns.map((column, index) => (\n            <th\n              className={classNames('thin', 'nowrap', 'text-right', {\n                'code-components-cell': index > 0,\n                leak: isLeak\n              })}\n              key={column}>\n              {column}\n            </th>\n          ))}\n        <th className={classNames({ leak: isLeak })} />\n      </tr>\n    </thead>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nlet bucket: { [key: string]: T.ComponentMeasure } = {};\nlet childrenBucket: {\n  [key: string]: {\n    children: T.ComponentMeasure[];\n    page: number;\n    total: number;\n  };\n} = {};\nlet breadcrumbsBucket: { [key: string]: T.Breadcrumb[] } = {};\n\nexport function addComponent(component: T.ComponentMeasure): void {\n  bucket[component.key] = component;\n}\n\nexport function getComponent(componentKey: string): T.ComponentMeasure {\n  return bucket[componentKey];\n}\n\nexport function addComponentChildren(\n  componentKey: string,\n  children: T.ComponentMeasure[],\n  total: number,\n  page: number\n): void {\n  const previous = getComponentChildren(componentKey);\n  if (previous) {\n    children = [...previous.children, ...children];\n  }\n  childrenBucket[componentKey] = { children, total, page };\n}\n\nexport function getComponentChildren(\n  componentKey: string\n): {\n  children: T.ComponentMeasure[];\n  page: number;\n  total: number;\n} {\n  return childrenBucket[componentKey];\n}\n\nexport function addComponentBreadcrumbs(componentKey: string, breadcrumbs: T.Breadcrumb[]): void {\n  breadcrumbsBucket[componentKey] = breadcrumbs;\n}\n\nexport function getComponentBreadcrumbs(componentKey: string): T.Breadcrumb[] {\n  return breadcrumbsBucket[componentKey];\n}\n\nexport function clearBucket(): void {\n  bucket = {};\n  childrenBucket = {};\n  breadcrumbsBucket = {};\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport {\n  addComponent,\n  getComponent as getComponentFromBucket,\n  addComponentChildren,\n  getComponentChildren,\n  addComponentBreadcrumbs,\n  getComponentBreadcrumbs\n} from './bucket';\nimport { getChildren, getComponent, getBreadcrumbs } from '../../api/components';\nimport { getBranchLikeQuery, isShortLivingBranch, isPullRequest } from '../../helpers/branches';\n\nconst METRICS = [\n  'ncloc',\n  'bugs',\n  'vulnerabilities',\n  'code_smells',\n  'coverage',\n  'duplicated_lines_density'\n];\n\nconst APPLICATION_METRICS = ['alert_status', ...METRICS];\n\nconst PORTFOLIO_METRICS = [\n  'releasability_rating',\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'ncloc'\n];\n\nconst LEAK_METRICS = [\n  'new_lines',\n  'bugs',\n  'vulnerabilities',\n  'code_smells',\n  'new_coverage',\n  'new_duplicated_lines_density'\n];\n\nconst PAGE_SIZE = 100;\n\nfunction requestChildren(\n  componentKey: string,\n  metrics: string[],\n  page: number,\n  branchLike?: T.BranchLike\n): Promise<T.ComponentMeasure[]> {\n  return getChildren(componentKey, metrics, {\n    p: page,\n    ps: PAGE_SIZE,\n    ...getBranchLikeQuery(branchLike)\n  }).then(r => {\n    if (r.paging.total > r.paging.pageSize * r.paging.pageIndex) {\n      return requestChildren(componentKey, metrics, page + 1, branchLike).then(moreComponents => {\n        return [...r.components, ...moreComponents];\n      });\n    }\n    return r.components;\n  });\n}\n\nfunction requestAllChildren(\n  componentKey: string,\n  metrics: string[],\n  branchLike?: T.BranchLike\n): Promise<T.ComponentMeasure[]> {\n  return requestChildren(componentKey, metrics, 1, branchLike);\n}\n\ninterface Children {\n  components: T.ComponentMeasure[];\n  page: number;\n  total: number;\n}\n\ninterface ExpandRootDirFunc {\n  (children: Children): Promise<Children>;\n}\n\nfunction expandRootDir(metrics: string[], branchLike?: T.BranchLike): ExpandRootDirFunc {\n  return function({ components, total, ...other }) {\n    const rootDir = components.find(\n      (component: T.ComponentMeasure) => component.qualifier === 'DIR' && component.name === '/'\n    );\n    if (rootDir) {\n      return requestAllChildren(rootDir.key, metrics, branchLike).then(rootDirComponents => {\n        const nextComponents = without([...rootDirComponents, ...components], rootDir);\n        const nextTotal = total + rootDirComponents.length - /* root dir */ 1;\n        return { components: nextComponents, total: nextTotal, ...other };\n      });\n    } else {\n      return Promise.resolve({ components, total, ...other });\n    }\n  };\n}\n\nfunction prepareChildren(r: any): Children {\n  return {\n    components: r.components,\n    total: r.paging.total,\n    page: r.paging.pageIndex\n  };\n}\n\nexport function showLeakMeasure(branchLike?: T.BranchLike) {\n  return isShortLivingBranch(branchLike) || isPullRequest(branchLike);\n}\n\nfunction skipRootDir(breadcrumbs: T.ComponentMeasure[]) {\n  return breadcrumbs.filter(component => {\n    return !(component.qualifier === 'DIR' && component.name === '/');\n  });\n}\n\nfunction storeChildrenBase(children: T.ComponentMeasure[]) {\n  children.forEach(addComponent);\n}\n\nfunction storeChildrenBreadcrumbs(parentComponentKey: string, children: T.Breadcrumb[]) {\n  const parentBreadcrumbs = getComponentBreadcrumbs(parentComponentKey);\n  if (parentBreadcrumbs) {\n    children.forEach(child => {\n      const breadcrumbs = [...parentBreadcrumbs, child];\n      addComponentBreadcrumbs(child.key, breadcrumbs);\n    });\n  }\n}\n\nexport function getCodeMetrics(qualifier: string, branchLike?: T.BranchLike) {\n  if (['VW', 'SVW'].includes(qualifier)) {\n    return [...PORTFOLIO_METRICS];\n  }\n  if (qualifier === 'APP') {\n    return [...APPLICATION_METRICS];\n  }\n  if (showLeakMeasure(branchLike)) {\n    return [...LEAK_METRICS];\n  }\n  return [...METRICS];\n}\n\nfunction retrieveComponentBase(componentKey: string, qualifier: string, branchLike?: T.BranchLike) {\n  const existing = getComponentFromBucket(componentKey);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  const metrics = getCodeMetrics(qualifier, branchLike);\n\n  return getComponent({\n    component: componentKey,\n    metricKeys: metrics.join(),\n    ...getBranchLikeQuery(branchLike)\n  }).then(component => {\n    addComponent(component);\n    return component;\n  });\n}\n\nexport function retrieveComponentChildren(\n  componentKey: string,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<{ components: T.ComponentMeasure[]; page: number; total: number }> {\n  const existing = getComponentChildren(componentKey);\n  if (existing) {\n    return Promise.resolve({\n      components: existing.children,\n      total: existing.total,\n      page: existing.page\n    });\n  }\n\n  const metrics = getCodeMetrics(qualifier, branchLike);\n  if (['VW', 'SVW'].includes(qualifier)) {\n    metrics.push('alert_status');\n  }\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    s: 'qualifier,name',\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(expandRootDir(metrics, branchLike))\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n\nfunction retrieveComponentBreadcrumbs(\n  component: string,\n  branchLike?: T.BranchLike\n): Promise<T.Breadcrumb[]> {\n  const existing = getComponentBreadcrumbs(component);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  return getBreadcrumbs({ component, ...getBranchLikeQuery(branchLike) })\n    .then(skipRootDir)\n    .then(breadcrumbs => {\n      addComponentBreadcrumbs(component, breadcrumbs);\n      return breadcrumbs;\n    });\n}\n\nexport function retrieveComponent(\n  componentKey: string,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<{\n  breadcrumbs: T.Breadcrumb[];\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasure[];\n  page: number;\n  total: number;\n}> {\n  return Promise.all([\n    retrieveComponentBase(componentKey, qualifier, branchLike),\n    retrieveComponentChildren(componentKey, qualifier, branchLike),\n    retrieveComponentBreadcrumbs(componentKey, branchLike)\n  ]).then(r => {\n    return {\n      breadcrumbs: r[2],\n      component: r[0],\n      components: r[1].components,\n      page: r[1].page,\n      total: r[1].total\n    };\n  });\n}\n\nexport function loadMoreChildren(\n  componentKey: string,\n  page: number,\n  qualifier: string,\n  branchLike?: T.BranchLike\n): Promise<Children> {\n  const metrics = getCodeMetrics(qualifier, branchLike);\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    p: page,\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(expandRootDir(metrics, branchLike))\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Component from './Component';\nimport ComponentsEmpty from './ComponentsEmpty';\nimport ComponentsHeader from './ComponentsHeader';\nimport { isDefined } from '../../../helpers/types';\nimport { getCodeMetrics, showLeakMeasure } from '../utils';\n\ninterface Props {\n  baseComponent?: T.ComponentMeasure;\n  branchLike?: T.BranchLike;\n  components: T.ComponentMeasure[];\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  selected?: T.ComponentMeasure;\n}\n\nexport default function Components(props: Props) {\n  const { baseComponent, branchLike, components, rootComponent, selected } = props;\n  const metricKeys = getCodeMetrics(rootComponent.qualifier, branchLike);\n  const metrics = metricKeys.map(metric => props.metrics[metric]).filter(isDefined);\n  const isLeak = Boolean(baseComponent && showLeakMeasure(branchLike));\n  return (\n    <table className=\"data boxed-padding zebra\">\n      {baseComponent && (\n        <ComponentsHeader\n          baseComponent={baseComponent}\n          isLeak={isLeak}\n          metrics={metricKeys}\n          rootComponent={rootComponent}\n        />\n      )}\n      {baseComponent && (\n        <tbody>\n          <Component\n            branchLike={branchLike}\n            component={baseComponent}\n            isLeak={isLeak}\n            key={baseComponent.key}\n            metrics={metrics}\n            rootComponent={rootComponent}\n          />\n          <tr className=\"blank\">\n            <td colSpan={3}>&nbsp;</td>\n            <td className={classNames({ leak: isLeak })} colSpan={10}>\n              {' '}\n              &nbsp;{' '}\n            </td>\n          </tr>\n        </tbody>\n      )}\n      <tbody>\n        {components.length ? (\n          components.map((component, index, list) => (\n            <Component\n              branchLike={branchLike}\n              canBrowse={true}\n              component={component}\n              isLeak={isLeak}\n              key={component.key}\n              metrics={metrics}\n              previous={index > 0 ? list[index - 1] : undefined}\n              rootComponent={rootComponent}\n              selected={component === selected}\n            />\n          ))\n        ) : (\n          <ComponentsEmpty isLeak={isLeak} />\n        )}\n\n        <tr className=\"blank\">\n          <td colSpan={3} />\n          <td className={classNames({ leak: isLeak })} colSpan={10} />\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  breadcrumbs: T.Breadcrumb[];\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default function Breadcrumbs({ branchLike, breadcrumbs, rootComponent }: Props) {\n  return (\n    <ul className=\"code-breadcrumbs\">\n      {breadcrumbs.map((component, index) => (\n        <li key={component.key}>\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={index < breadcrumbs.length - 1}\n            component={component}\n            rootComponent={rootComponent}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Components from './Components';\nimport { getTree } from '../../../api/components';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { withRouter, Router, Location } from '../../../components/hoc/withRouter';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  location: Location;\n  router: Pick<Router, 'push'>;\n}\n\ninterface State {\n  query: string;\n  loading: boolean;\n  results?: T.ComponentMeasure[];\n  selectedIndex?: number;\n}\n\nclass Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    query: '',\n    loading: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if the url has change, reset the current state\n    if (nextProps.location !== this.props.location) {\n      this.setState({\n        query: '',\n        loading: false,\n        results: undefined,\n        selectedIndex: undefined\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSelectNext() {\n    const { selectedIndex, results } = this.state;\n    if (results && selectedIndex !== undefined && selectedIndex < results.length - 1) {\n      this.setState({ selectedIndex: selectedIndex + 1 });\n    }\n  }\n\n  handleSelectPrevious() {\n    const { selectedIndex, results } = this.state;\n    if (results && selectedIndex !== undefined && selectedIndex > 0) {\n      this.setState({ selectedIndex: selectedIndex - 1 });\n    }\n  }\n\n  handleSelectCurrent() {\n    const { branchLike, component } = this.props;\n    const { results, selectedIndex } = this.state;\n    if (results && selectedIndex !== undefined) {\n      const selected = results[selectedIndex];\n\n      if (selected.refKey) {\n        this.props.router.push(getProjectUrl(selected.refKey));\n      } else {\n        this.props.router.push({\n          pathname: '/code',\n          query: { id: component.key, selected: selected.key, ...getBranchLikeQuery(branchLike) }\n        });\n      }\n    }\n  }\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.handleSelectCurrent();\n        break;\n      case 38:\n        event.preventDefault();\n        this.handleSelectPrevious();\n        break;\n      case 40:\n        event.preventDefault();\n        this.handleSelectNext();\n        break;\n      default: // do nothing\n    }\n  };\n\n  handleSearch = (query: string) => {\n    if (this.mounted) {\n      const { branchLike, component } = this.props;\n      this.setState({ loading: true });\n\n      const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n      const qualifiers = isPortfolio ? 'SVW,TRK' : 'BRC,UTS,FIL';\n\n      getTree({\n        component: component.key,\n        q: query,\n        s: 'qualifier,name',\n        qualifiers,\n        ...getBranchLikeQuery(branchLike)\n      })\n        .then(r => {\n          if (this.mounted) {\n            this.setState({\n              results: r.components,\n              selectedIndex: r.components.length > 0 ? 0 : undefined,\n              loading: false\n            });\n          }\n        })\n        .catch(() => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n          }\n        });\n    }\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query });\n    if (query.length === 0) {\n      this.setState({ results: undefined });\n    } else {\n      this.handleSearch(query);\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n    const { loading, selectedIndex, results } = this.state;\n    const selected = selectedIndex !== undefined && results ? results[selectedIndex] : undefined;\n    const containerClassName = classNames('code-search', {\n      'code-search-with-results': Boolean(results)\n    });\n    const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n\n    return (\n      <div className={containerClassName} id=\"code-search\">\n        <SearchBox\n          minLength={3}\n          onChange={this.handleQueryChange}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate(\n            isPortfolio ? 'code.search_placeholder.portfolio' : 'code.search_placeholder'\n          )}\n          value={this.state.query}\n        />\n        {loading && <i className=\"spinner spacer-left\" />}\n\n        {results && (\n          <div className=\"boxed-group spacer-top\">\n            <div className=\"big-spacer-top\" />\n            <Components\n              branchLike={this.props.branchLike}\n              components={results}\n              metrics={{}}\n              rootComponent={component}\n              selected={selected}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Search);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport Components from './Components';\nimport Breadcrumbs from './Breadcrumbs';\nimport Search from './Search';\nimport { addComponent, addComponentBreadcrumbs, clearBucket } from '../bucket';\nimport { retrieveComponentChildren, retrieveComponent, loadMoreChildren } from '../utils';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMetrics } from '../../../store/rootReducer';\nimport { isSameBranchLike } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport '../code.css';\n\ninterface StateToProps {\n  metrics: { [metric: string]: T.Metric };\n}\n\ninterface DispatchToProps {\n  fetchMetrics: () => void;\n}\n\ninterface OwnProps {\n  branchLike?: T.BranchLike;\n  component: T.Component;\n  location: { query: { [x: string]: string } };\n}\n\ntype Props = StateToProps & DispatchToProps & OwnProps;\n\ninterface State {\n  baseComponent?: T.ComponentMeasure;\n  breadcrumbs: T.Breadcrumb[];\n  components?: T.ComponentMeasure[];\n  loading: boolean;\n  page: number;\n  searchResults?: T.ComponentMeasure[];\n  sourceViewer?: T.ComponentMeasure;\n  total: number;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    breadcrumbs: [],\n    total: 0,\n    page: 0\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchMetrics();\n    this.handleComponentChange();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.handleComponentChange();\n    } else if (prevProps.location !== this.props.location) {\n      this.handleUpdate();\n    }\n  }\n\n  componentWillUnmount() {\n    clearBucket();\n    this.mounted = false;\n  }\n\n  handleComponentChange() {\n    const { branchLike, component } = this.props;\n\n    // we already know component's breadcrumbs,\n    addComponentBreadcrumbs(component.key, component.breadcrumbs);\n\n    this.setState({ loading: true });\n    retrieveComponentChildren(component.key, component.qualifier, branchLike).then(() => {\n      addComponent(component);\n      if (this.mounted) {\n        this.handleUpdate();\n      }\n    }, this.stopLoading);\n  }\n\n  loadComponent(componentKey: string) {\n    this.setState({ loading: true });\n\n    retrieveComponent(componentKey, this.props.component.qualifier, this.props.branchLike).then(\n      r => {\n        if (this.mounted) {\n          if (['FIL', 'UTS'].includes(r.component.qualifier)) {\n            this.setState({\n              loading: false,\n              sourceViewer: r.component,\n              breadcrumbs: r.breadcrumbs,\n              searchResults: undefined\n            });\n          } else {\n            this.setState({\n              loading: false,\n              baseComponent: r.component,\n              components: r.components,\n              breadcrumbs: r.breadcrumbs,\n              total: r.total,\n              page: r.page,\n              sourceViewer: undefined,\n              searchResults: undefined\n            });\n          }\n        }\n      },\n      this.stopLoading\n    );\n  }\n\n  handleUpdate() {\n    const { component, location } = this.props;\n    const { selected } = location.query;\n    const finalKey = selected || component.key;\n\n    this.loadComponent(finalKey);\n  }\n\n  handleLoadMore = () => {\n    const { baseComponent, components, page } = this.state;\n    if (!baseComponent || !components) {\n      return;\n    }\n    loadMoreChildren(\n      baseComponent.key,\n      page + 1,\n      this.props.component.qualifier,\n      this.props.branchLike\n    ).then(r => {\n      if (this.mounted) {\n        this.setState({\n          components: [...components, ...r.components],\n          page: r.page,\n          total: r.total\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { branchLike, component } = this.props;\n    const { loading, baseComponent, components, breadcrumbs, total, sourceViewer } = this.state;\n    const shouldShowBreadcrumbs = breadcrumbs.length > 1;\n\n    const componentsClassName = classNames('boxed-group', 'spacer-top', {\n      'new-loading': loading\n    });\n\n    const defaultTitle =\n      baseComponent && ['APP', 'VW', 'SVW'].includes(baseComponent.qualifier)\n        ? translate('projects.page')\n        : translate('code.page');\n\n    return (\n      <div className=\"page page-limited\">\n        <Suggestions suggestions=\"code\" />\n        <Helmet title={sourceViewer !== undefined ? sourceViewer.name : defaultTitle} />\n\n        <Search branchLike={branchLike} component={component} />\n\n        <div className=\"code-components\">\n          {shouldShowBreadcrumbs && (\n            <Breadcrumbs\n              branchLike={branchLike}\n              breadcrumbs={breadcrumbs}\n              rootComponent={component}\n            />\n          )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <div className={componentsClassName}>\n                <Components\n                  baseComponent={baseComponent}\n                  branchLike={branchLike}\n                  components={components}\n                  metrics={this.props.metrics}\n                  rootComponent={component}\n                />\n              </div>\n            )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <ListFooter count={components.length} loadMore={this.handleLoadMore} total={total} />\n            )}\n\n          {sourceViewer !== undefined && (\n            <div className=\"spacer-top\">\n              <SourceViewer branchLike={branchLike} component={sourceViewer.key} />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateToProps => ({\n  metrics: getMetrics(state)\n});\n\nconst mapDispatchToProps: DispatchToProps = { fetchMetrics };\n\nexport default connect<StateToProps, DispatchToProps, Props>(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n      {props.loading && (\n        <DeferredSpinner className=\"vertical-bottom spacer-left position-absolute\" />\n      )}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.level {\\n  display: inline-block;\\n  width: auto;\\n  min-width: 80px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  letter-spacing: 0.02em;\\n  font-size: 13px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.level-small {\\n  width: auto;\\n  min-width: 64px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 12px;\\n}\\n\\n.level-muted {\\n  background-color: #bdbdbd !important;\\n}\\n\\na > .level {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .level:hover {\\n  opacity: 0.8;\\n}\\n\\n.level-OK {\\n  background-color: #00aa00;\\n}\\n\\n.level-WARN {\\n  background-color: #ed7d20;\\n}\\n\\n.level-ERROR {\\n  background-color: #d4333f;\\n}\\n\\n.level-NONE {\\n  background-color: #b4b4b4;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.rating {\\n  display: inline-block;\\n  width: 24px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  font-size: 16px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.rating-muted {\\n  background-color: #bdbdbd !important;\\n  color: #fff !important;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35) !important;\\n}\\n\\na > .rating {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .rating:hover {\\n  opacity: 0.8;\\n}\\n\\n.rating-A {\\n  line-height: 23px;\\n  background-color: #00aa00;\\n}\\n\\na > .rating-A {\\n  border-bottom-color: #00aa00;\\n}\\n\\n.rating-B {\\n  background-color: #b0d513;\\n}\\n\\na .rating-B {\\n  border-bottom-color: #b0d513;\\n}\\n\\n.rating-C {\\n  background-color: #eabe06;\\n}\\n\\na .rating-C {\\n  border-bottom-color: #eabe06;\\n}\\n\\n.rating-D {\\n  background-color: #ed7d20;\\n}\\n\\na .rating-D {\\n  border-bottom-color: #ed7d20;\\n}\\n\\n.rating-E {\\n  background-color: #e00;\\n}\\n\\na .rating-E {\\n  border-bottom-color: #e00;\\n}\\n\\n.rating-small {\\n  width: 18px;\\n  height: 18px;\\n  line-height: 18px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function LongLivingBranchIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"translate(5, 0)\">\n        <path\n          d=\"M4.5 8c0-.9-.6-1.7-1.5-1.9V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C.5 3 1.1 3.8 2 4v2.1C1.1 6.3.5 7.1.5 8s.6 1.7 1.5 2v2.1c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9V10c.9-.3 1.5-1 1.5-2zm-3-5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm0 5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1zm2 6c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .5 1 1z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function LinkIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\">\n        <path\n          d=\"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../lazyLoad';\n\nconst SourceViewer = lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'));\nexport default SourceViewer;\n"],"sourceRoot":""}