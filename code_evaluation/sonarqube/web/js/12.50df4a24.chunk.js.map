{"version":3,"sources":["webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/main/js/apps/projectsManagement/ChangeDefaultVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./node_modules/lodash/inRange.js","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/apps/create/organization/utils.ts","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationAdvantages.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/components/hoc/withCurrentUser.tsx","webpack:///./src/main/js/apps/organizations/actions.ts","webpack:///./src/main/js/helpers/strings.ts","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/apps/organizations/forSingleOrganization.tsx","webpack:///./src/main/js/components/icons-components/VisibleIcon.tsx","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/apps/create/components/CardPlan.css?2aa3","webpack:///./src/main/js/apps/create/components/CardPlan.css","webpack:///./src/main/js/apps/create/components/BillingFormShim.tsx","webpack:///./src/main/js/api/billing.ts","webpack:///../sonar-docs/src/tooltips/project/visibility-private.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-paid-org.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public-admin.md","webpack:///../sonar-docs/src/tooltips/project/visibility-public.md","webpack:///./src/main/js/components/icons-components/RecommendedIcon.tsx","webpack:///./src/main/js/apps/create/components/CardPlan.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationModal.tsx","webpack:///./src/main/js/apps/create/components/UpgradeOrganizationBox.tsx","webpack:///./src/main/js/components/intl/DateTooltipFormatter.tsx","webpack:///./node_modules/process/browser.js"],"names":["ApplyTemplate","_super","_this","apply","this","arguments","mounted","state","done","loading","fetchPermissionTemplates","Object","_api_permissions__WEBPACK_IMPORTED_MODULE_1__","props","organization","then","_a","permissionTemplates","setState","handleSubmit","permissionTemplate","projectKey","project","key","templateId","onApply","Promise","reject","undefined","handlePermissionTemplateChange","value","__extends","prototype","componentDidMount","componentWillUnmount","render","header","_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","name","react__WEBPACK_IMPORTED_MODULE_0__","_components_controls_SimpleModal__WEBPACK_IMPORTED_MODULE_3__","onClose","onSubmit","onCloseClick","onFormSubmit","submitting","id","className","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_7__","variant","htmlFor","_components_controls_Select__WEBPACK_IMPORTED_MODULE_4__","clearable","onChange","options","map","label","_components_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_5__","disabled","onClick","VisibilitySelector","handlePublicClick","event","preventDefault","currentTarget","blur","handlePrivateClick","href","classnames__WEBPACK_IMPORTED_MODULE_1__","is-checked","visibility","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","canTurnToPrivate","CreateProjectForm","call","handleInputChange","_b","handleVisibilityChange","handleFormSubmit","data","_api_components__WEBPACK_IMPORTED_MODULE_3__","response","createdProject","onProjectCreated","projectVisibility","componentDidUpdate","setImmediate","closeButton","focus","_components_controls_Modal__WEBPACK_IMPORTED_MODULE_6__","contentLabel","onRequestClose","_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","_components_ui_Alert__WEBPACK_IMPORTED_MODULE_10__","react_intl__WEBPACK_IMPORTED_MODULE_2__","defaultMessage","values","react_router__WEBPACK_IMPORTED_MODULE_1__","to","_helpers_urls__WEBPACK_IMPORTED_MODULE_9__","_components_ui_buttons__WEBPACK_IMPORTED_MODULE_7__","innerRef","node","autoFocus","maxLength","required","type","_components_common_VisibilitySelector__WEBPACK_IMPORTED_MODULE_5__","canUpdateProjectsVisibilityToPrivate","actions","admin","_create_components_UpgradeOrganizationBox__WEBPACK_IMPORTED_MODULE_4__","insideModal","onOrganizationUpgrade","Function","Timeout","clearFn","_id","_clearFn","exports","setTimeout","window","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","clearImmediate","global","process","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","indexOf","slice","length","addEventListener","attachEvent","callback","args","Array","i","task","run","self","ChangeDefaultVisibilityForm","handleConfirmClick","onConfirm","handleVisibilityClick","dataset","index_js_exposed","Modal","l10n","data-visibility","classnames","style","paddingLeft","Alert","buttons","Header","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","Header_extends","system","hasProvisionPermission","onProjectCreate","projectsManagement_ChangeDefaultVisibilityForm","onVisibilityChange","BulkApplyTemplateModal","analyzedBefore","parameters","selection","projects","join","dates","onProvisionedOnly","provisioned","qualifiers","qualifier","q","query","permissions","renderWarning","total","renderSelect","Select","t","BulkApplyTemplateModal_extends","loadPermissionTemplates","DeleteModal","components","DeleteModal_extends","QUALIFIERS_ORDER","Search","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","sortBy_default","option","onCheck","checked","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","Checkbox","renderQualifierOption","QualifierIcon","renderQualifierFilter","ready","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","HelpTooltip","overlay","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","Search_extends","SearchBox","minLength","onSearch","projectsManagement_BulkApplyTemplateModal","projectsManagement_DeleteModal","RestoreAccessModal","all","grantPermission","onRestoreAccess","permission","login","currentUser","RestoreAccessModal_extends","index_es","browse","administer","ProjectRowActions","applyTemplateModal","restoreAccessModal","fetchPermissions","nav","component","navResponse","hasAccess","Boolean","configuration","showPermissions","handleDropdownOpen","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","ProjectRowActions_extends","ActionsDropdown","onOpen","urls","projectsManagement_RestoreAccessModal","ProjectRow","handleProjectCheck","onProjectCheck","ProjectRow_extends","selected","react_router_es","pathname","PrivacyBadgeContainer","tooltipProps","lastAnalysisDate","DateTooltipFormatter","date","projectsManagement_ProjectRowActions","Projects","onProjectSelected","onProjectDeselected","Projects_extends","new-loading","projectsManagement_ProjectRow","includes","PAGE_SIZE","App","requestProjects","p","page","ps","r","concat","paging","loadMore","newQualifier","newVisibility","handleDateChanged","uniq_default","without_default","openCreateProjectForm","createProjectForm","closeCreateProjectForm","debounce_default","App_extends","Suggestions","suggestions","Helmet_default","a","title","projectsManagement_Header","projectsManagement_Search","projectsManagement_Projects","ListFooter","count","AppContainer_AppContainer","AppContainer","handleOrganizationUpgrade","fetchOrganization","AppContainer_extends","appState","defaultOrganization","isDefault","projectsManagement_App","provision","__webpack_exports__","forSingleOrganization","es","ownProps","rootReducer","dispatch","organizations_actions","currentVisibility","organizations","__assign","catch","_onVisibilityChange","DocMarkdownBlock","_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","bind","DocTooltip","open","content","default","removeEventListener","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1__","childProps","overlayProps","isTooltip","children","nativeMax","max","nativeMin","min","module","number","start","end","baseInRange","toFinite","toNumber","d","hasAdvancedALMIntegration","isBitbucket","isGithub","isVSTS","isPersonal","sanitizeAlmId","_users__WEBPACK_IMPORTED_MODULE_0__","user","externalProvider","almKey","startsWith","personal","Step","ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP","ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP","formatPrice","price","noSign","priceFormatted","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","replace","_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","parseQuery","lodash_memoize__WEBPACK_IMPORTED_MODULE_0___default","urlQuery","almInstallId","_helpers_query__WEBPACK_IMPORTED_MODULE_3__","jwt","_helpers_strings__WEBPACK_IMPORTED_MODULE_5__","iss","serializeQuery","installation_id","_helpers_almIntegrations__WEBPACK_IMPORTED_MODULE_4__","clientKey","UpgradeOrganizationAdvantages","_components_icons_components_CheckIcon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","TRIAL_DURATION_DAYS","Advantage","fill","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","subscription","userOrganizations","some","org","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","url","assign","users","groups","withCurrentUser","WrappedComponent","wrappedDisplayName","displayName","Wrapper","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","_api_organizations__WEBPACK_IMPORTED_MODULE_0__","navigation","organizationWithPermissions","_store_organizations__WEBPACK_IMPORTED_MODULE_1__","updateOrganization","changes","_store_globalMessages__WEBPACK_IMPORTED_MODULE_2__","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","deleteOrganization","latinize","slugify","decodeJwt","diacriticsMap","str","text","trim","toLowerCase","token","segments","split","base64","JSON","parse","atob","base","letters","forEach","defaultDiacritic","letter","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","ComposedComponent","ForSingleOrganization","customOrganizations","router","other","__rest","params","organizationKey","_store_rootReducer__WEBPACK_IMPORTED_MODULE_3__","react_router__WEBPACK_IMPORTED_MODULE_2__","VisibleIcon","size","Icon","onSonarCloud","icon","theme","badge","badge-info","badge-icon","resolve","getDoc","Tooltip","hmr","transform","insertInto","locals","push","BillingFormShim","BillingForm","SonarBilling","getSubscriptionPlans","subscriptionPlans","RecommendedIcon","CardPlan_CardPlan","recommended","startingPrice","isActionable","aria-checked","card-plan-actionable","role","tabIndex","utils","FreeCardPlan","almName","hasWarning","showInfo","showWarning","alm","PaidCardPlan","isRecommended","target","UpgradeOrganizationModal","medium","noBackdrop","shouldCloseOnOverlayClick","simple","onCommit","onUpgradeDone","processingUpgrade","renderFormFields","renderNextCharge","renderRecap","renderSubmitButton","DeferredSpinner","UpgradeOrganizationBox_UpgradeOrganizationBox","UpgradeOrganizationBox","upgradeOrganizationModal","fetchSubscriptionPlans","billing","handleUpgradeClick","handleUpgradeOrganizationModalClose","UpgradeOrganizationBox_extends","CardPlan","components_UpgradeOrganizationModal","_DateFormatter__WEBPACK_IMPORTED_MODULE_1__","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_2__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_3__","_helpers_dates__WEBPACK_IMPORTED_MODULE_4__","parsedDate","long","formattedDate","mouseEnterDelay","dateTime","toISOString","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","marker","runClearTimeout","Item","array","noop","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"js/12.50df4a24.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, applyTemplateToProject } from '../../../../api/permissions';\nimport DeferredSpinner from '../../../../components/common/DeferredSpinner';\nimport SimpleModal from '../../../../components/controls/SimpleModal';\nimport Select from '../../../../components/controls/Select';\nimport { SubmitButton, ResetButtonLink } from '../../../../components/ui/buttons';\nimport { translateWithParameters, translate } from '../../../../helpers/l10n';\nimport { Alert } from '../../../../components/ui/Alert';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  handlePublicClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('public');\n  };\n\n  handlePrivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onChange('private');\n  };\n\n  render() {\n    return (\n      <div className={this.props.className}>\n        <a\n          className=\"link-base-color link-no-underline\"\n          href=\"#\"\n          id=\"visibility-public\"\n          onClick={this.handlePublicClick}>\n          <i\n            className={classNames('icon-radio', {\n              'is-checked': this.props.visibility === 'public'\n            })}\n          />\n          <span className=\"spacer-left\">{translate('visibility.public')}</span>\n        </a>\n\n        {this.props.canTurnToPrivate ? (\n          <a\n            className=\"link-base-color link-no-underline huge-spacer-left\"\n            href=\"#\"\n            id=\"visibility-private\"\n            onClick={this.handlePrivateClick}>\n            <i\n              className={classNames('icon-radio', {\n                'is-checked': this.props.visibility === 'private'\n              })}\n            />\n            <span className=\"spacer-left\">{translate('visibility.private')}</span>\n          </a>\n        ) : (\n          <span className=\"huge-spacer-left text-muted cursor-not-allowed\" id=\"visibility-private\">\n            <i\n              className={classNames('icon-radio', {\n                'is-checked': this.props.visibility === 'private'\n              })}\n            />\n            <span className=\"spacer-left\">{translate('visibility.private')}</span>\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport { createProject } from '../../api/components';\nimport UpgradeOrganizationBox from '../create/components/UpgradeOrganizationBox';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { getProjectUrl } from '../../helpers/urls';\nimport { Alert } from '../../components/ui/Alert';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: T.Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <Alert variant=\"success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </Alert>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n              </div>\n              {organization.actions &&\n                organization.actions.admin &&\n                !organization.canUpdateProjectsVisibilityToPrivate && (\n                  <div className=\"spacer-top display-flex-space-around\">\n                    <UpgradeOrganizationBox\n                      insideModal={true}\n                      onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n                      organization={organization}\n                    />\n                  </div>\n                )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibility: T.Visibility;\n}\n\nexport default class ChangeDefaultVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as T.Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const visibility = event.currentTarget.dataset.visibility as T.Visibility;\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { organization } = this.props;\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {['public', 'private'].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <p>\n                {visibility === 'private' && !organization.canUpdateProjectsVisibilityToPrivate ? (\n                  <span className=\"text-muted cursor-not-allowed\">\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </span>\n                ) : (\n                  <a\n                    className=\"link-base-color link-no-underline\"\n                    data-visibility={visibility}\n                    href=\"#\"\n                    onClick={this.handleVisibilityClick}>\n                    <i\n                      className={classNames('icon-radio', 'spacer-right', {\n                        'is-checked': this.state.visibility === visibility\n                      })}\n                    />\n                    {translate('visibility', visibility)}\n                  </a>\n                )}\n              </p>\n              <p className=\"text-muted spacer-top\" style={{ paddingLeft: 22 }}>\n                {translate('visibility', visibility, 'description.short')}\n              </p>\n            </div>\n          ))}\n\n          {organization.canUpdateProjectsVisibilityToPrivate && (\n            <Alert variant=\"warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </Alert>\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangeDefaultVisibilityForm from './ChangeDefaultVisibilityForm';\nimport { EditButton, Button } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() &&\n            organization.projectVisibility && (\n              <span className=\"big-spacer-right\">\n                <span className=\"text-middle\">\n                  {translate('organization.default_visibility_of_new_projects')}{' '}\n                  <strong>{translate('visibility', organization.projectVisibility)}</strong>\n                </span>\n                <EditButton\n                  className=\"js-change-visibility spacer-left button-small\"\n                  onClick={this.handleChangeVisibilityClick}\n                />\n              </span>\n            )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {!isSonarCloud() &&\n          this.state.visibilityForm && (\n            <ChangeDefaultVisibilityForm\n              onClose={this.closeVisiblityForm}\n              onConfirm={this.props.onVisibilityChange}\n              organization={organization}\n            />\n          )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getPermissionTemplates, bulkApplyTemplate } from '../../api/permissions';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport Modal from '../../components/controls/Modal';\nimport Select from '../../components/controls/Select';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </Alert>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading &&\n            !done &&\n            permissionTemplates && (\n              <Button disabled={submitting} onClick={this.handleConfirmClick}>\n                {translate('apply')}\n              </Button>\n            )}\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { bulkDeleteProjects } from '../../api/components';\nimport Modal from '../../components/controls/Modal';\nimport { Button, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { Alert } from '../../components/ui/Alert';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </Alert>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <Button\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport HelpTooltip from '../../components/controls/HelpTooltip';\nimport DateInput from '../../components/controls/DateInput';\nimport Select from '../../components/controls/Select';\nimport SearchBox from '../../components/controls/SearchBox';\nimport { Button } from '../../components/ui/buttons';\nimport { Project } from '../../api/components';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nconst QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.total === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.total === 0}\n                    onClick={this.handleDeleteClick}>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { grantPermissionToUser } from '../../api/permissions';\nimport Modal from '../../components/controls/Modal';\nimport { SubmitButton, ResetButtonLink } from '../../components/ui/buttons';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser({\n      projectKey: this.props.project.key,\n      login: this.props.currentUser.login,\n      permission,\n      organization: this.props.project.organization\n    });\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RestoreAccessModal from './RestoreAccessModal';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport { getComponentShow, Project } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport ActionsDropdown, { ActionsDropdownItem } from '../../components/controls/ActionsDropdown';\nimport { translate } from '../../helpers/l10n';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\n\nexport interface Props {\n  currentUser: { login: string };\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: false });\n    // call `getComponentNavigation` to check if user has the \"Administer\" permission\n    // call `getComponentShow` to check if user has the \"Browse\" permission\n    Promise.all([\n      getComponentNavigation({ component: this.props.project.key }),\n      getComponentShow({ component: this.props.project.key })\n    ]).then(\n      ([navResponse]) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            navResponse.configuration && navResponse.configuration.showPermissions\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ hasAccess: false, loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {hasAccess === true && (\n            <ActionsDropdownItem to={getComponentPermissionsUrl(this.props.project.key)}>\n              {translate('edit_permissions')}\n            </ActionsDropdownItem>\n          )}\n\n          {hasAccess === false && (\n            <ActionsDropdownItem\n              className=\"js-restore-access\"\n              onClick={this.handleRestoreAccessClick}>\n              {translate('global_permissions.restore_access')}\n            </ActionsDropdownItem>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport ProjectRowActions from './ProjectRowActions';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport Checkbox from '../../components/controls/Checkbox';\nimport QualifierIcon from '../../components/icons-components/QualifierIcon';\nimport DateTooltipFormatter from '../../components/intl/DateTooltipFormatter';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap\">\n          <Link\n            className=\"link-with-icon\"\n            to={{ pathname: '/dashboard', query: { id: project.key } }}>\n            <QualifierIcon qualifier={project.qualifier} /> <span>{project.name}</span>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer\n            organization={organization}\n            qualifier={project.qualifier}\n            tooltipProps={{ projectKey: project.key }}\n            visibility={project.visibility}\n          />\n        </td>\n\n        <td className=\"nowrap\">\n          <span className=\"note\">{project.key}</span>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateTooltipFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\">—</span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ProjectRow from './ProjectRow';\nimport { translate } from '../../helpers/l10n';\nimport { Project } from '../../api/components';\n\ninterface Props {\n  currentUser: { login: string };\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { debounce, uniq, without } from 'lodash';\nimport Header from './Header';\nimport Search from './Search';\nimport Projects from './Projects';\nimport CreateProjectForm from './CreateProjectForm';\nimport ListFooter from '../../components/controls/ListFooter';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { getComponents, Project } from '../../api/components';\nimport { toNotSoISOString } from '../../helpers/dates';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  currentUser: { login: string };\n  hasProvisionPermission?: boolean;\n  onOrganizationUpgrade: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\nconst PAGE_SIZE = 50;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(\n      r => {\n        if (this.mounted) {\n          let projects: Project[] = r.components;\n          if (this.state.page > 1) {\n            projects = [...this.state.projects, ...projects];\n          }\n          this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadMore = () => {\n    this.setState(({ page }) => ({ ready: false, page: page + 1 }), this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: T.Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: uniq([...selection, project]) }));\n  };\n\n  onProjectDeselected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: without(selection, project) }));\n  };\n\n  onAllSelected = () => {\n    this.setState(({ projects }) => ({ selection: projects.map(project => project.key) }));\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport App from './App';\nimport forSingleOrganization from '../organizations/forSingleOrganization';\nimport { getAppState, getOrganizationByKey, getCurrentUser, Store } from '../../store/rootReducer';\nimport { receiveOrganizations } from '../../store/organizations';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { fetchOrganization } from '../organizations/actions';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: T.LoggedInUser;\n  organization?: T.Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n  organization: T.Organization;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchOrganization(this.props.organization.key);\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n    const { actions = {} } = organization;\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={actions.provision}\n        onOrganizationUpgrade={this.handleOrganizationUpgrade}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as T.LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: T.Organization, visibility: T.Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default forSingleOrganization(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(AppContainer)\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { lazyLoad } from '../lazyLoad';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: { [k: string]: string };\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.props.doc.then(\n      ({ default: content }) => {\n        this.setState({ content });\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={this.state.content}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string) {\n  return almKey && almKey.startsWith('bitbucket');\n}\n\nexport function isGithub(almKey?: string) {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string) {\n  return almKey === 'microsoft';\n}\n\nexport function isPersonal(organization?: T.AlmOrganization) {\n  return Boolean(organization && organization.personal);\n}\n\nexport function sanitizeAlmId(almKey?: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport {\n  RawQuery,\n  parseAsOptionalString,\n  cleanQuery,\n  serializeString\n} from '../../../helpers/query';\nimport { isBitbucket, isGithub } from '../../../helpers/almIntegrations';\nimport { decodeJwt } from '../../../helpers/strings';\n\nexport const ORGANIZATION_IMPORT_BINDING_IN_PROGRESS_TIMESTAMP =\n  'sonarcloud.import_org.binding_in_progress';\n\nexport const ORGANIZATION_IMPORT_REDIRECT_TO_PROJECT_TIMESTAMP =\n  'sonarcloud.import_org.redirect_to_projects';\n\nexport enum Step {\n  OrganizationDetails,\n  Plan\n}\n\nexport function formatPrice(price?: number, noSign?: boolean) {\n  const priceFormatted = formatMeasure(price, 'FLOAT')\n    .replace(/[.|,]0$/, '')\n    .replace(/([.|,]\\d)$/, '$10');\n  return noSign ? priceFormatted : translateWithParameters('billing.price_format', priceFormatted);\n}\n\nexport interface Query {\n  almInstallId?: string;\n  almKey?: string;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: RawQuery = {}): Query => {\n    let almInstallId = undefined;\n    let almKey = undefined;\n\n    if (urlQuery['installation_id']) {\n      almKey = 'github';\n      almInstallId = parseAsOptionalString(urlQuery['installation_id']);\n    } else if (urlQuery['clientKey']) {\n      almKey = 'bitbucket';\n      almInstallId = parseAsOptionalString(urlQuery['clientKey']);\n    } else if (urlQuery['jwt']) {\n      const jwt = decodeJwt(urlQuery['jwt']);\n      if (jwt && jwt.iss) {\n        almKey = 'bitbucket';\n        almInstallId = jwt.iss;\n      }\n    }\n    return { almInstallId, almKey };\n  }\n);\n\nexport const serializeQuery = (query: Query): RawQuery =>\n  cleanQuery({\n    installation_id: isGithub(query.almKey) ? serializeString(query.almInstallId) : undefined,\n    clientKey: isBitbucket(query.almKey) ? serializeString(query.almInstallId) : undefined\n  });\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CheckIcon from '../../../components/icons-components/CheckIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport * as theme from '../../../app/theme';\n\nconst TRIAL_DURATION_DAYS = 14;\n\nexport default function UpgradeOrganizationAdvantages() {\n  return (\n    <ul className=\"note\">\n      <Advantage>{translate('billing.upgrade_box.unlimited_private_projects')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.strict_control_private_data')}</Advantage>\n      <Advantage>{translate('billing.upgrade_box.cancel_anytime')}</Advantage>\n      <Advantage>\n        <strong>\n          {translateWithParameters('billing.upgrade_box.free_trial_x', TRIAL_DURATION_DAYS)}\n        </strong>\n      </Advantage>\n    </ul>\n  );\n}\n\nexport function Advantage({ children }: { children: React.ReactNode }) {\n  return (\n    <li className=\"display-flex-center little-spacer-bottom\">\n      <CheckIcon className=\"spacer-right\" fill={theme.lightGreen} />\n      {children}\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { BaseSearchProjectsParameters } from './components';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Store, getCurrentUser } from '../../store/rootReducer';\n\nexport function withCurrentUser<P>(\n  WrappedComponent: React.ComponentClass<P & { currentUser: T.CurrentUser }>\n) {\n  const wrappedDisplayName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n\n  class Wrapper extends React.Component<P & { currentUser: T.CurrentUser }> {\n    static displayName = `withCurrentUser(${wrappedDisplayName})`;\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { currentUser: getCurrentUser(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport * as api from '../../api/organizations';\nimport * as actions from '../../store/organizations';\nimport { addGlobalSuccessMessage } from '../../store/globalMessages';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\nexport const fetchOrganization = (key: string) => (dispatch: Dispatch) => {\n  return Promise.all([api.getOrganization(key), api.getOrganizationNavigation(key)]).then(\n    ([organization, navigation]) => {\n      if (organization) {\n        const organizationWithPermissions = { ...organization, ...navigation };\n        dispatch(actions.receiveOrganizations([organizationWithPermissions]));\n      }\n    }\n  );\n};\n\nexport const createOrganization = (organization: T.OrganizationBase) => (\n  dispatch: Dispatch<any>\n) => {\n  return api.createOrganization(organization).then((organization: T.Organization) => {\n    dispatch(actions.createOrganization(organization));\n    dispatch(\n      addGlobalSuccessMessage(translateWithParameters('organization.created', organization.name))\n    );\n    return organization;\n  });\n};\n\nexport const updateOrganization = (key: string, changes: T.OrganizationBase) => (\n  dispatch: Dispatch<any>\n) => {\n  return api.updateOrganization(key, changes).then(() => {\n    dispatch(actions.updateOrganization(key, changes));\n    dispatch(addGlobalSuccessMessage(translate('organization.updated')));\n  });\n};\n\nexport const deleteOrganization = (key: string) => (dispatch: Dispatch<any>) => {\n  return api.deleteOrganization(key).then(() => {\n    dispatch(actions.deleteOrganization(key));\n    dispatch(addGlobalSuccessMessage(translate('organization.deleted')));\n  });\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\ndefaultDiacriticsRemovalap.forEach(defaultDiacritic =>\n  defaultDiacritic.letters.split('').forEach(letter => {\n    diacriticsMap[letter] = defaultDiacritic.base;\n  })\n);\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport function latinize(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n\n// Inspired from https://github.com/SonarSource/sonar-enterprise/blob/master/sonar-core/src/main/java/org/sonar/core/util/Slug.java\nexport function slugify(text: string) {\n  return latinize(text.trim().toLowerCase())\n    .replace(/&/g, '-and-') // Replace & with 'and'\n    .replace(/[^\\w-]+/g, '-') // Replace all non-word chars with dash\n    .replace(/\\s+/g, '-') // Replace whitespaces with dash\n    .replace(/[·/_,:;]/g, '-') // Replace special chars with dash\n    .replace(/--+/g, '-') // Replace multiple dash with single dash\n    .replace(/^-+/, '') // Remove heading dash\n    .replace(/-+$/, ''); // Remove trailing dash\n}\n\nexport function decodeJwt(token: string) {\n  const segments = token.split('.');\n  const base64Url = segments.length > 1 ? segments[1] : segments[0];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  return JSON.parse(window.atob(base64));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\nexport function getComponentNavigation(\n  data: { component: string } & T.BranchParameters\n): Promise<any> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport { areThereCustomOrganizations, Store } from '../../store/rootReducer';\n\ntype ReactComponent<P> = React.ComponentClass<P> | React.StatelessComponent<P>;\n\nexport default function forSingleOrganization<P>(ComposedComponent: ReactComponent<P>) {\n  interface StateProps {\n    customOrganizations: boolean | undefined;\n  }\n\n  class ForSingleOrganization extends React.Component<StateProps & WithRouterProps> {\n    static displayName = `forSingleOrganization(${ComposedComponent.displayName})}`;\n\n    render() {\n      const { customOrganizations, router, ...other } = this.props;\n\n      if (!other.params.organizationKey && customOrganizations) {\n        router.replace('/not_found');\n        return null;\n      }\n\n      return <ComposedComponent {...other} />;\n    }\n  }\n\n  const mapStateToProps = (state: Store) => ({\n    customOrganizations: areThereCustomOrganizations(state)\n  });\n\n  return connect(mapStateToProps)(withRouter(ForSingleOrganization));\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VisibleIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M13.524 8.403q-1.093-1.697-2.74-2.539 0.439 0.748 0.439 1.618 0 1.331-0.946 2.276t-2.276 0.946-2.276-0.946-0.946-2.276q0-0.87 0.439-1.618-1.647 0.842-2.74 2.539 0.957 1.474 2.399 2.348t3.125 0.874 3.125-0.874 2.399-2.348zM8.345 5.641q0-0.144-0.101-0.245t-0.245-0.101q-0.899 0-1.543 0.644t-0.644 1.543q0 0.144 0.101 0.245t0.245 0.101 0.245-0.101 0.101-0.245q0-0.619 0.439-1.057t1.057-0.439q0.144 0 0.245-0.101t0.101-0.245zM14.444 8.403q0 0.245-0.144 0.496-1.007 1.654-2.708 2.65t-3.593 0.996-3.593-1-2.708-2.647q-0.144-0.252-0.144-0.496t0.144-0.496q1.007-1.647 2.708-2.647t3.593-1 3.593 1 2.708 2.647q0.144 0.252 0.144 0.496z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport * as theme from '../../app/theme';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport { isCurrentUserMemberOf, isPaidOrganization } from '../../helpers/organizations';\nimport {\n  getCurrentUser,\n  getOrganizationByKey,\n  getMyOrganizations,\n  Store\n} from '../../store/rootReducer';\nimport VisibleIcon from '../icons-components/VisibleIcon';\nimport DocTooltip from '../docs/DocTooltip';\n\ninterface StateToProps {\n  currentUser: T.CurrentUser;\n  organization?: T.Organization;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps {\n  className?: string;\n  organization: T.Organization | string | undefined;\n  qualifier: string;\n  tooltipProps?: { projectKey: string };\n  visibility: T.Visibility;\n}\n\ninterface Props extends OwnProps, StateToProps {\n  organization: T.Organization | undefined;\n}\n\nexport function PrivacyBadge({\n  className,\n  currentUser,\n  organization,\n  qualifier,\n  userOrganizations,\n  tooltipProps,\n  visibility\n}: Props) {\n  const onSonarCloud = isSonarCloud();\n  if (\n    visibility !== 'private' &&\n    (!onSonarCloud || !isCurrentUserMemberOf(currentUser, organization, userOrganizations))\n  ) {\n    return null;\n  }\n\n  let icon = null;\n  if (isPaidOrganization(organization) && visibility === 'public') {\n    icon = <VisibleIcon className=\"little-spacer-right\" fill={theme.blue} />;\n  }\n\n  const badge = (\n    <div\n      className={classNames('outline-badge', className, {\n        'badge-info': Boolean(icon),\n        'badge-icon': Boolean(icon)\n      })}>\n      {icon}\n      {translate('visibility', visibility)}\n    </div>\n  );\n\n  if (onSonarCloud && organization) {\n    return (\n      <DocTooltip\n        className={className}\n        doc={getDoc(visibility, icon, organization)}\n        overlayProps={{ ...tooltipProps, organization: organization.key }}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      {badge}\n    </Tooltip>\n  );\n}\n\nconst mapStateToProps = (state: Store, { organization }: OwnProps) => {\n  if (typeof organization === 'string') {\n    organization = getOrganizationByKey(state, organization);\n  }\n  return {\n    currentUser: getCurrentUser(state),\n    organization,\n    userOrganizations: getMyOrganizations(state)\n  };\n};\n\nexport default connect(mapStateToProps)(PrivacyBadge);\n\nfunction getDoc(visibility: T.Visibility, icon: JSX.Element | null, organization: T.Organization) {\n  let doc;\n  const { actions = {} } = organization;\n  if (visibility === 'private') {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-private.md');\n  } else if (icon) {\n    if (actions.admin) {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org-admin.md');\n    } else {\n      doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-paid-org.md');\n    }\n  } else if (actions.admin) {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public-admin.md');\n  } else {\n    doc = import(/* webpackMode: \"eager\" */ 'Docs/tooltips/project/visibility-public.md');\n  }\n  return doc;\n}\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./CardPlan.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n\\n.card-plan {\\n  display: flex;\\n  flex-direction: column;\\n  width: 450px;\\n  height: 210px;\\n  background-color: #fff;\\n  border: solid 1px #e6e6e6;\\n  border-radius: 3px;\\n  box-sizing: border-box;\\n  margin-right: 16px;\\n  transition: all 0.2s ease;\\n}\\n\\n.card-plan.highlight {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n}\\n\\n.card-plan:last-child {\\n  margin-right: 0;\\n}\\n\\n.card-plan:focus {\\n  outline: none;\\n}\\n\\n.card-plan-actionable {\\n  cursor: pointer;\\n}\\n\\n.card-plan-actionable:not(.disabled):hover {\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n  transform: translateY(-2px);\\n}\\n\\n.card-plan-actionable.selected {\\n  border-color: #236a97;\\n}\\n\\n.card-plan-actionable.selected .card-plan-recommended {\\n  border: solid 1px #236a97;\\n  border-top: none;\\n}\\n\\n.card-plan-actionable.disabled {\\n  cursor: not-allowed;\\n  background-color: #ebebeb;\\n  border-color: #ddd;\\n}\\n\\n.card-plan-actionable.disabled h2,\\n.card-plan-actionable.disabled ul {\\n  color: #bbb;\\n}\\n\\n.card-plan-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px 16px 0;\\n}\\n\\n.card-plan-price {\\n  font-size: 16px;\\n}\\n\\n.card-plan-body {\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  padding: 0 16px 16px;\\n}\\n\\n.card-plan-body .alert {\\n  margin-bottom: 0;\\n}\\n\\n.card-plan-recommended {\\n  position: relative;\\n  padding: 6px 16px;\\n  left: -1px;\\n  bottom: -1px;\\n  width: 450px;\\n  color: #fff;\\n  background-color: #4b9fd5;\\n  border-radius: 0 0 3px 3px;\\n  box-sizing: border-box;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface ChildrenProps {\n  onSubmit: React.FormEventHandler;\n  processingUpgrade: boolean;\n  renderFormFields: () => React.ReactNode;\n  renderNextCharge: () => React.ReactNode;\n  renderRecap: () => React.ReactNode;\n  renderSubmitButton: (submitText?: string) => React.ReactNode;\n  renderSubmitGroup: (submitText?: string) => React.ReactNode;\n}\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  initialCountry?: string;\n  currentUser: T.CurrentUser;\n  onCommit: () => void;\n  onFailToUpgrade?: () => void;\n  organizationKey: string | (() => Promise<string>);\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\nexport default class BillingFormShim extends React.Component<Props> {\n  render() {\n    const { BillingForm } = (window as any).SonarBilling;\n    return <BillingForm {...this.props} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function getSubscriptionPlans(): Promise<T.SubscriptionPlan[]> {\n  return getJSON('/api/billing/show_subscription_plans').then(\n    ({ subscriptionPlans }) => subscriptionPlans,\n    throwGlobalError\n  );\n}\n","module.exports = \"This project is private. Only the members of this organization are able to browse it and its source code.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Go to your project's [Administration > Permissions](/#sonarcloud#/project_roles?id=#projectKey#) to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the project administrator to make it private.\\n\\n---\\n\\nSee also: [Organization Visibility](/organizations/organization-visibility/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Subscribe to a paid plan to get unlimited private projects in [Administration > Billing](/#sonarcloud#/organizations/#organization#/extension/billing/billing).\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","module.exports = \"This project is public, which means anyone is able to browse its source code. Contact the organization administrator if you want to make it private.\\n\\n---\\n\\nSee also: [Pricing](/sonarcloud-pricing/)\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function RecommendedIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.089 13.199l-1.742-3.736c-0.962 1.401-2.464 2.398-4.203 2.701l1.459 3.128c0.186 0.4 0.764 0.373 0.914-0.040l0.748-2.054 0.154-0.072 2.054 0.748c0.412 0.151 0.804-0.276 0.618-0.675zM8.040 0.384c-3.003 0-5.446 2.443-5.446 5.446s2.443 5.446 5.446 5.446c3.003 0 5.446-2.443 5.446-5.446s-2.443-5.446-5.446-5.446zM10.689 5.429l-0.966 0.941 0.228 1.33c0.070 0.406-0.358 0.711-0.718 0.522l-1.194-0.628-1.194 0.628c-0.363 0.19-0.788-0.118-0.718-0.522l0.228-1.33-0.966-0.941c-0.293-0.286-0.131-0.786 0.274-0.844l1.335-0.194 0.597-1.209c0.181-0.367 0.707-0.368 0.888 0l0.597 1.209 1.335 0.194c0.405 0.059 0.568 0.558 0.274 0.844zM2.732 9.463l-1.742 3.736c-0.187 0.4 0.208 0.825 0.618 0.674l2.054-0.748 0.154 0.072 0.748 2.054c0.15 0.412 0.727 0.441 0.914 0.040l1.459-3.128c-1.739-0.302-3.241-1.3-4.203-2.701z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport RecommendedIcon from '../../../components/icons-components/RecommendedIcon';\nimport { Alert } from '../../../components/ui/Alert';\nimport { formatPrice } from '../organization/utils';\nimport { translate } from '../../../helpers/l10n';\nimport './CardPlan.css';\n\ninterface Props {\n  className?: string;\n  disabled?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  startingPrice?: number;\n}\n\ninterface CardProps extends Props {\n  children: React.ReactNode;\n  recommended?: string;\n  title: string;\n}\n\nexport default function CardPlan(props: CardProps) {\n  const { className, disabled, onClick, recommended, selected, startingPrice } = props;\n  const isActionable = Boolean(onClick);\n  return (\n    <div\n      aria-checked={selected}\n      className={classNames(\n        'card-plan',\n        { 'card-plan-actionable': isActionable, disabled, selected },\n        className\n      )}\n      onClick={isActionable && !disabled ? onClick : undefined}\n      role=\"radio\"\n      tabIndex={0}>\n      <h2 className=\"card-plan-header big-spacer-bottom\">\n        <span className=\"display-flex-center\">\n          {isActionable && (\n            <i className={classNames('icon-radio', 'spacer-right', { 'is-checked': selected })} />\n          )}\n          {props.title}\n        </span>\n        {startingPrice !== undefined &&\n          (startingPrice ? (\n            <FormattedMessage\n              defaultMessage={translate('billing.price_from_x')}\n              id=\"billing.price_from_x\"\n              values={{\n                price: <span className=\"card-plan-price\">{formatPrice(startingPrice)}</span>\n              }}\n            />\n          ) : (\n            <span className=\"card-plan-price\">{formatPrice(0)}</span>\n          ))}\n      </h2>\n      <div className=\"card-plan-body\">{props.children}</div>\n      {recommended && (\n        <div className=\"card-plan-recommended\">\n          <RecommendedIcon className=\"spacer-right\" />\n          <FormattedMessage\n            defaultMessage={recommended}\n            id={recommended}\n            values={{ recommended: <strong>{translate('recommended')}</strong> }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface FreeProps extends Props {\n  almName?: string;\n  hasWarning: boolean;\n}\n\nexport function FreeCardPlan({ almName, hasWarning, ...props }: FreeProps) {\n  const showInfo = almName && props.disabled;\n  const showWarning = almName && hasWarning && !props.disabled;\n\n  return (\n    <CardPlan startingPrice={0} title={translate('billing.free_plan.title')} {...props}>\n      <>\n        <div className=\"spacer-left\">\n          <ul className=\"big-spacer-left note\">\n            <li className=\"little-spacer-bottom\">\n              {translate('billing.free_plan.all_projects_analyzed_public')}\n            </li>\n            <li>{translate('billing.free_plan.anyone_can_browse_source_code')}</li>\n          </ul>\n        </div>\n        {showWarning && (\n          <Alert variant=\"warning\">\n            <FormattedMessage\n              defaultMessage={translate('billing.free_plan.private_repo_warning')}\n              id=\"billing.free_plan.private_repo_warning\"\n              values={{ alm: almName }}\n            />\n          </Alert>\n        )}\n        {showInfo && (\n          <Alert variant=\"info\">\n            <FormattedMessage\n              defaultMessage={translate('billing.free_plan.not_available_info')}\n              id=\"billing.free_plan.not_available_info\"\n              values={{ alm: almName }}\n            />\n          </Alert>\n        )}\n      </>\n    </CardPlan>\n  );\n}\n\ninterface PaidProps extends Props {\n  isRecommended: boolean;\n}\n\nexport function PaidCardPlan({ isRecommended, ...props }: PaidProps) {\n  return (\n    <CardPlan\n      recommended={isRecommended ? translate('billing.paid_plan.recommended') : undefined}\n      title={translate('billing.paid_plan.title')}\n      {...props}>\n      <>\n        <UpgradeOrganizationAdvantages />\n        <div className=\"big-spacer-left\">\n          <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n            {translate('billing.pricing.learn_more')}\n          </Link>\n        </div>\n      </>\n    </CardPlan>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport BillingFormShim from './BillingFormShim';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Modal from '../../../components/controls/Modal';\nimport { ResetButtonLink } from '../../../components/ui/buttons';\nimport { getExtensionStart } from '../../../app/components/extensions/utils';\nimport { translate } from '../../../helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\n\nconst BillingForm = withCurrentUser(BillingFormShim);\n\ninterface Props {\n  insideModal?: boolean;\n  onUpgradeDone: () => void;\n  onClose: () => void;\n  organization: T.Organization;\n  subscriptionPlans: T.SubscriptionPlan[];\n}\n\ninterface State {\n  ready: boolean;\n}\n\nexport default class UpgradeOrganizationModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { ready: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    getExtensionStart('billing/billing').then(\n      () => {\n        if (this.mounted) {\n          this.setState({ ready: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const header = translate('billing.upgrade_box.upgrade_to_paid_plan');\n\n    if (!this.state.ready) {\n      return null;\n    }\n\n    return (\n      <Modal\n        contentLabel={header}\n        medium={true}\n        noBackdrop={this.props.insideModal}\n        onRequestClose={this.props.onClose}\n        shouldCloseOnOverlayClick={false}\n        simple={true}>\n        <div className=\"modal-simple-head\">\n          <h2>{header}</h2>\n        </div>\n        <BillingForm\n          onCommit={this.props.onUpgradeDone}\n          organizationKey={this.props.organization.key}\n          subscriptionPlans={this.props.subscriptionPlans}>\n          {({\n            onSubmit,\n            processingUpgrade,\n            renderFormFields,\n            renderNextCharge,\n            renderRecap,\n            renderSubmitButton\n          }) => (\n            <form id=\"organization-paid-plan-form\" onSubmit={onSubmit}>\n              <div className=\"modal-simple-body modal-container\">\n                <div className=\"huge-spacer-bottom\">\n                  <p className=\"spacer-bottom\">\n                    <FormattedMessage\n                      defaultMessage={translate('billing.upgrade.org_x_advantages')}\n                      id=\"billing.coupon.description\"\n                      values={{\n                        org: <strong>{this.props.organization.name}</strong>\n                      }}\n                    />\n                  </p>\n                  <UpgradeOrganizationAdvantages />\n                </div>\n                {renderFormFields()}\n                <div className=\"big-spacer-top\">{renderRecap()}</div>\n              </div>\n              <footer className=\"modal-simple-foot-action\">\n                <span className=\"note\">{renderNextCharge()}</span>\n                <div>\n                  <DeferredSpinner className=\"spacer-right\" loading={processingUpgrade} />\n                  {renderSubmitButton()}\n                  <ResetButtonLink onClick={this.props.onClose}>\n                    {translate('cancel')}\n                  </ResetButtonLink>\n                </div>\n              </footer>\n            </form>\n          )}\n        </BillingForm>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport UpgradeOrganizationAdvantages from './UpgradeOrganizationAdvantages';\nimport UpgradeOrganizationModal from './UpgradeOrganizationModal';\nimport CardPlan from './CardPlan';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, hasMessage } from '../../../helpers/l10n';\nimport { getSubscriptionPlans } from '../../../api/billing';\n\ninterface Props {\n  className?: string;\n  insideModal?: boolean;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  subscriptionPlans: T.SubscriptionPlan[];\n  upgradeOrganizationModal: boolean;\n}\n\nexport default class UpgradeOrganizationBox extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { subscriptionPlans: [], upgradeOrganizationModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchSubscriptionPlans();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchSubscriptionPlans = () => {\n    return getSubscriptionPlans().then(subscriptionPlans => {\n      if (this.mounted) {\n        this.setState({ subscriptionPlans });\n      }\n    });\n  };\n\n  handleUpgradeClick = () => {\n    this.setState({ upgradeOrganizationModal: true });\n  };\n\n  handleUpgradeOrganizationModalClose = () => {\n    if (this.mounted) {\n      this.setState({ upgradeOrganizationModal: false });\n    }\n  };\n\n  handleOrganizationUpgrade = () => {\n    this.props.onOrganizationUpgrade();\n    this.handleUpgradeOrganizationModalClose();\n  };\n\n  render() {\n    if (!hasMessage('billing.upgrade_box.header')) {\n      return null;\n    }\n\n    const { subscriptionPlans, upgradeOrganizationModal } = this.state;\n    const startingPrice = subscriptionPlans[0] && subscriptionPlans[0].price;\n\n    return (\n      <>\n        <CardPlan\n          className={this.props.className}\n          startingPrice={startingPrice}\n          title={translate('billing.upgrade_box.header')}>\n          <>\n            <UpgradeOrganizationAdvantages />\n            <div className=\"big-spacer-left\">\n              <Button className=\"js-upgrade-organization\" onClick={this.handleUpgradeClick}>\n                {translate('billing.paid_plan.upgrade')}\n              </Button>\n              <Link className=\"spacer-left\" target=\"_blank\" to=\"/about/pricing\">\n                {translate('billing.pricing.learn_more')}\n              </Link>\n            </div>\n          </>\n        </CardPlan>\n        {upgradeOrganizationModal && (\n          <UpgradeOrganizationModal\n            insideModal={this.props.insideModal}\n            onClose={this.handleUpgradeOrganizationModalClose}\n            onUpgradeDone={this.handleOrganizationUpgrade}\n            organization={this.props.organization}\n            subscriptionPlans={subscriptionPlans}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateFormatter from './DateFormatter';\nimport DateTimeFormatter from './DateTimeFormatter';\nimport Tooltip from '../controls/Tooltip';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  date: Date | string | number;\n}\n\nexport default function DateTooltipFormatter({ className, date }: Props) {\n  const parsedDate = parseDate(date);\n  return (\n    <DateFormatter date={parsedDate} long={true}>\n      {formattedDate => (\n        <Tooltip mouseEnterDelay={0.5} overlay={<DateTimeFormatter date={parsedDate} />}>\n          <time className={className} dateTime={parsedDate.toISOString()}>\n            {formattedDate}\n          </time>\n        </Tooltip>\n      )}\n    </DateFormatter>\n  );\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"],"sourceRoot":""}