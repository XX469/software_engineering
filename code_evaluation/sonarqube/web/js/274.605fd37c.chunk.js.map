{"version":3,"sources":["webpack:///./src/main/js/components/common/LocationIndex.css?97f1","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/issue/Issue.css?0f03","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?faa2","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./src/main/js/components/SourceViewer/styles.css?c905","webpack:///./src/main/js/components/SourceViewer/styles.css","webpack:///./src/main/js/components/controls/Modal.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/lodash/_baseInRange.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./node_modules/lodash/inRange.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/ui/Level.css?5a2b","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Rating.css?38ca","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.tsx","webpack:///./src/main/js/components/icons-components/FavoriteIcon.tsx","webpack:///./src/main/js/components/ui/DuplicationsRating.css?4de2","webpack:///./src/main/js/components/ui/DuplicationsRating.css","webpack:///./src/main/js/components/controls/FavoriteBase.tsx","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/icons-components/StatusIcon.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./src/main/js/components/icons-components/ListIcon.tsx","webpack:///./src/main/js/components/icons-components/EllipsisIcon.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayMeasure.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlay.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeader.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineOptionsPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineNumber.tsx","webpack:///./src/main/js/components/SourceViewer/components/SCMPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineSCM.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCoverage.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplications.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplicationBlock.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesIndicator.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesList.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/highlight.ts","webpack:///./src/main/js/components/SourceViewer/components/LineCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/Line.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/issueLocations.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/DuplicationPopup.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/loadIssues.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/indexing.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewerBase.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/getCoverageStatus.tsx","webpack:///./node_modules/lodash/times.js"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","d","__webpack_exports__","LocationMessage","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","props","className","selected","children","IssueChangelogDiff","_a","message","diff","key","index_js_exposed","Object","l10n","oldValue","newValue","measures","_super","ChangelogPopup","_this","apply","this","arguments","mounted","state","changelogs","__extends","prototype","componentDidMount","loadChangelog","componentWillUnmount","issues","issue","then","setState","render","author","Dropdown","placement","popups","BottomRight","DateTimeFormatter","date","creationDate","map","item","idx","userName","Avatar","hash","avatar","name","size","diffs","IssueChangelog","toggleChangelog","open","togglePopup","handleClick","handleClose","IssueChangelog_extends","Toggler","onRequestClose","isOpen","overlay","popups_ChangelogPopup","Tooltip","mouseEnterDelay","buttons","onClick","DateFromNow","DropdownIcon","IssueMessage","openRule","rule","organization","IssueMessage_extends","aria-label","EllipsisIcon","engine","manualVulnerability","SelectListItem","handleSelect","event","preventDefault","onSelect","handleHover","onHover","SelectListItem_extends","renderLink","classnames_default","active","href","onFocus","onMouseOver","title","SelectList","call","attachShortcuts","previousKeyScope","keymaster","previousFilter","currentKeyScope","uniqueId_default","tagName","target","srcElement","isInput","includes","keyCode","selectNextElement","selectPreviousElement","detachShortcuts","items","indexOf","length","renderChild","child","type","common_SelectListItem","currentItem","SelectList_extends","componentDidUpdate","prevProps","hasChildren","count","SimilarIssuesPopup","property","onFilter","SimilarIssuesPopup_extends","tags","tag","subProject","filter","noPadding","common_SelectList","IssueTypeIcon","query","SeverityHelper","severity","StatusHelper","resolution","status","assignee","assigneeAvatar","assigneeName","path","ruleName","TagsIcon","QualifierIcon","qualifier","projectName","subProjectName","componentQualifier","componentLongName","SimilarIssuesFilter","handleFilter","SimilarIssuesFilter_extends","popups_SimilarIssuesPopup","FilterIcon","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","reduce","sum","locations","locationsBadge","LocationIndex","displayLocations","displayLocationsCount","issueUrl","urls","project","__assign","branches","branchLike","types","context","Consumer","components_IssueMessage","externalRuleEngine","fromHotspot","components_IssueChangelog","currentPopup","textRange","endLine","displayLocationsLink","es","to","LinkIcon","components_SimilarIssuesFilter","LIST_SIZE","SetAssigneePopup_SetAssigneePopup","SetAssigneePopup","searchMembers","organizations","projectOrganization","q","ps","handleSearchResult","searchUsers","users","response","currentUser","login","handleSearchChange","defaultUsersArray","system","helpers_users","concat","SetAssigneePopup_extends","SearchBox","autoFocus","minLength","onChange","placeholder","value","map_default","user","style","marginLeft","popups_SetAssigneePopup","react_redux_es","rootReducer","IssueAssign","toggleAssign","IssueAssign_extends","renderAssignee","canAssign","closeOnEscape","onAssign","actions_updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","helpers_issues","components","rules","CommentPopup","handleCommentChange","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","metaKey","ctrlKey","stopPropagation","comment","markdown","CommentPopup_extends","onKeyDown","rows","disabled","MarkdownTips","IssueCommentAction","addComment","text","issueKey","IssueCommentAction_extends","popups_CommentPopup","commentPlaceholder","SEVERITY","SetSeverityPopup","SeverityIcon","IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","IssueSeverity_extends","canSetSeverity","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup","searchResult","onSearch","Math","min","selectedTags","setTags","onUnselect","without_default","SetIssueTagsPopup_extends","availableTags","difference_default","TagsSelector","listSize","IssueTags","toggleSetTags","IssueTags_assign","join","IssueTags_extends","canSetTags","popups_SetIssueTagsPopup","TagsList","allowUpdate","SetTransitionPopup","transitions","transition","IssueTransition","setTransition","toggleSetTransition","IssueTransition_extends","hasTransitions","TYPES","SetTypePopup","IssueType","toggleSetType","setType","IssueType_extends","canSetType","IssueActionsBar","popup","apiCall","IssueActionsBar_assign","_b","handleTransition","IssueActionsBar_extends","actions","canComment","isSecurityHotspot","components_IssueType","components_IssueSeverity","components_IssueTransition","components_IssueAssign","effort","components_IssueCommentAction","components_IssueTags","CommentDeletePopup","onDelete","IssueCommentLine","openPopup","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","popupName","force","prevState","closePopups","IssueCommentLine_extends","authorName","authorAvatar","dangerouslySetInnerHTML","__html","htmlText","createdAt","updatable","IssueView","handleCheck","onCheck","isClickable","node","toUpperCase","parentElement","editComment","deleteComment","IssueView_extends","hasCheckbox","issueClass","issue-with-checkbox","data-issue","role","tabIndex","components_IssueActionsBar","comments","components_IssueCommentLine","icon-checkbox-checked","checked","Issue_Issue","Issue","onPopupToggle","handleAssignement","Issue_extends","bindShortcuts","componentWillUpdate","nextProps","unbindShortcuts","issue_IssueView","defaultProps","arrayMap","baseIntersection","baseRest","castArrayLikeObject","intersection","arrays","mapped","SetCache","arrayIncludes","arrayIncludesWith","baseUnary","cacheHas","nativeMin","iteratee","comparator","othLength","othIndex","caches","Array","maxLength","Infinity","result","array","index","seen","outer","computed","cache","isArrayLikeObject","Modal","react_modal__WEBPACK_IMPORTED_MODULE_1__","classnames__WEBPACK_IMPORTED_MODULE_2__","modal-medium","medium","modal-large","large","modal-simple","simple","overlayClassName","modal-no-backdrop","noBackdrop","toNumber","INFINITY","MAX_INTEGER","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","fill","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","formatterOption","year","month","day","longFormatterOption","DateFormatter","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","baseIteratee","baseMap","isArray","collection","nativeMax","max","number","start","end","hour","minute","Rating","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","muted","_c","small","formatted","rating-small","rating-muted","collapsePath","limit","tokens","split","head","tail","middle","slice","cut","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","substr","Level","level","level-small","level-muted","baseInRange","toFinite","baseAssignValue","createAggregator","hasOwnProperty","groupBy","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","periods","find","period","getPeriod","dateFormatter","parameter","modeParam","mode","Measure","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","decimals","metricKey","metricType","formattedValue","tooltip","Number","rating","KNOWN_RATINGS","enhanceMeasure","measure","metrics","metric","leak","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","CoverageRating","_lazyLoad__WEBPACK_IMPORTED_MODULE_1__","DonutChart","Promise","all","e","bind","SIZE_TO_WIDTH_MAPPING","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","data","numberValue","width","thickness","height","DuplicationsRating","duplications-rating-small","duplications-rating-big","duplications-rating-huge","duplications-rating-muted","isNaN","duplications-rating-A","lodash_inRange__WEBPACK_IMPORTED_MODULE_0___default","duplications-rating-B","duplications-rating-C","duplications-rating-D","duplications-rating-E","react__WEBPACK_IMPORTED_MODULE_1__","FavoriteIcon","_Icon__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","favorite","is-filled","color","FavoriteBase","toggleFavorite","removeFavorite","addFavorite","componentWillReceiveProps","classnames","Favorite","component","other","__rest","controls_FavoriteBase","request","favorites_addFavorite","favorites_removeFavorite","leading","clickAttributes","is-leading","statusIcons","icons_components_Icon","theme","confirmed","reopened","resolved","closed","StatusIcon","Icon","ListIcon","MeasuresOverlayMeasure","data-metric","MeasuresOverlay","loading","showAllMeasures","fetchData","fetchMeasures","fetchIssues","facets","api_metrics","metricKeys","helpers_measures","api_measures","sourceViewerFile","withMetrics","keyBy_default","api_issues","componentKeys","severitiesFacet","f","tagsFacet","typesFacet","values","handleAllMeasuresClick","currentTarget","blur","renderMeasure","renderLines","lines","ncloc","comment_lines","comment_lines_density","cognitive_complexity","complexity","function_complexity","renderBigMeasure","renderIssues","violations","sqale_index","sortBy_default","constants","val","renderCoverage","coverage","uncovered_lines","lines_to_cover","uncovered_conditions","conditions_to_cover","renderDuplications","duplications","duplicated_lines_density","duplicated_blocks","duplicated_lines","renderTests","tests","test_success_density","test_failures","test_errors","skipped_tests","test_execution_time","renderDomain","domain","renderAllMeasures","domains","groupBy_default","domainKeys","keys","odd","_","even","contentLabel","onClose","SourceViewerHeader","measuresOverlay","handleShowMeasuresClick","handleMeasuresOverlayClose","openInWorkspace","openComponent","SourceViewerHeader_extends","uuid","isUnitTest","rawSourcesLink","querystring_es3","SourceViewerHeader_assign","helpers_path","canMarkAsFavorite","fav","pathname","id","overlayPlacement","components_MeasuresOverlay","fileUuids","duplicationDensity","LineOptionsPopup","componentKey","line","permalink","LineOptionsPopup_assign","RightTop","LineNumber","handleTogglePopup","closePopup","LineNumber_extends","popupOpen","lineNumber","data-line-number","SCMPopup","hasAuthor","scmAuthor","scmDate","spacer-top","scmRevision","LineSCM","LineSCM_extends","previousLine","hasPopup","cell","s","p","changed","isSCMChanged","data-author","LineCoverage","coverageStatus","conditions","coveredConditions","getStatusTooltip","LineDuplications","LineDuplications_extends","source-line-duplicated","duplicated","LineDuplicationBlock","LineDuplicationBlock_extends","data-index","renderDuplicationPopup","LineIssuesIndicator","LineIssuesIndicator_extends","hasIssues","source-line-with-issues","mostImportantIssue","LineIssuesList","issuePopup","displayIssueLocationsCount","displayIssueLocationsLink","onIssueChange","onIssueClick","onIssuePopupToggle","selectedIssue","ISSUE_LOCATION_CLASS","splitByTokens","code","rootClassName","container","document","createElement","innerHTML","forEach","childNodes","nodeType","fullClassName","innerTokens","nodeValue","markers","part","from","acc","highlightIssueLocations","issueLocations","location","nextTokens","markerAdded","startLine","token","s1","e1","s2","e2","x","p1","p2","p3","highlight_assign","newClassName","uniq_default","LineCode","handleSymbolClick","match","onSymbolClick","LineCode_extends","attachEvents","highlightedLocationMessage","activeMarkerNode","scroll","detachEvents","codeNode","symbols","querySelectorAll","addEventListener","renderMarker","onLocationSelect","ref","highlightedSymbols","onIssueSelect","secondaryIssueLocations","showIssues","symbol","symbolRegExp","RegExp","test","highlightSymbol","has-issues","renderedTokens","leadingMarker","displayLocationMarkers","marker","Line","isPopupOpen","linePopup","handleIssuesIndicatorClick","openIssues","onIssuesClose","onIssueUnselect","onIssuesOpen","Line_extends","displayCoverage","duplicationsCount","source-line-highlighted","highlighted","source-line-filtered","isNew","source-line-filtered-dark","source-line-last","last","components_LineNumber","onLinePopupToggle","components_LineSCM","displayDuplications","components_LineDuplications","loadDuplications","times_default","components_LineDuplicationBlock","displayIssues","displayAllIssues","components_LineIssuesIndicator","components_LineCode","getLinearLocations","startOffset","endOffset","EMPTY_ARRAY","ZERO_LINE","SourceViewerCode","getDuplicationsForLine","duplicationsByLine","getIssuesForLine","issuesByLine","getIssueLocationsForLine","issueLocationsByLine","getSecondaryIssueLocationsForLine","highlightedLocations","linearLocations","l","SourceViewerCode_assign","renderLine","sources","issuesForLine","symbolsForLine","symbolsByLine","optimizedHighlightedSymbols","intersection_default","optimizedSelectedIssue","optimizedSecondaryIssueLocations","optimizedLocationMessage","some","components_Line","highlightedLine","hasSourcesAfter","openIssuesByLine","SourceViewerCode_extends","hasFileIssues","hasSourcesBefore","loadingSourcesBefore","loadSourcesBefore","loadingSourcesAfter","loadSourcesAfter","DuplicationPopup","isDifferentComponent","a","b","Boolean","handleFileClick","dataset","shouldLink","DuplicationPopup_extends","renderDuplication","file","data-key","data-line","duplicatedFiles","groupedBlocks","blocks","fileRef","inRemovedComponent","Alert","variant","duplication","block","PAGE_SIZE","loadPageAndNext","toLine","page","pageSize","loadIssues_assign","r","loadPage","lastIssue","nextIssues","loadIssues_loadIssues","_fromLine","additionalFields","buildQuery","resolve","locationsByLine","flatten_default","LINES","SourceViewerBase_SourceViewerBase","SourceViewerBase","loadSources","reject","aroundLine","firstSourceLine","loadIssues","uniqBy_default","computeCoverageStatus","SourceViewerBase_assign","lastSourceLine","fromLine","duplicationIndex","_ref","files","handleLinePopupToggle","samePopup","closeLinePopup","handleIssuePopupToggle","handleIssueSelect","handleIssueUnselect","handleOpenIssues","handleCloseIssues","handleIssueChange","newIssues","candidate","foundOne","outOfBounds","shouldDisplay","isOk","components_DuplicationPopup","notAccessible","notExist","sourceRemoved","SourceViewerBase_extends","fetchComponent","isLineOutsideOfRange","fetchSources","selectedIssue_1","reloadIssues","lineHits","firstLine","lastList","loadComponent","finalSources_1","onLoaded","onFailLoadSources","finalSources_2","renderCode","SourceViewer_SourceViewerCode","source-duplications-expanded","SourceViewer_SourceViewerHeader","defaultLoadComponent","defaultLoadSources","leakPeriodDate","n"],"mappings":"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","file":"js/274.605fd37c.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-index {\\n  position: relative;\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding-left: 6px;\\n  padding-right: 6px;\\n  border-radius: 2px;\\n  background-color: #d18582;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  transition: background-color 0.3s ease;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.location-index.selected {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index.muted {\\n  background-color: #ccc;\\n}\\n\\n.location-index.is-leading {\\n  position: absolute;\\n  margin: 1px 0 0 -4px !important;\\n  transform: translateX(-100%);\\n}\\n\\n.location-index[tabindex] {\\n  cursor: pointer;\\n}\\n\\n.location-index[tabindex]:hover,\\na:hover > .location-index {\\n  background-color: #bc5e5e;\\n}\\n\\n.location-index[tabindex]:focus {\\n  outline: none;\\n}\\n\\n.source-line-code-inner .location-index {\\n  line-height: 16px;\\n  margin: 1px;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n.source-line-code-inner .location-index + .location-index {\\n  margin-left: 0;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.issue {\\n  position: relative;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  background-color: #ffeaea;\\n  box-shadow: inset 0px 0px 0px 1px #ffeaea;\\n  transition: all 0.3s ease, border 0 ease;\\n}\\n\\n.issue.selected {\\n  box-shadow: none;\\n  border: 1px solid #dd4040 !important;\\n}\\n\\n.issue + .issue,\\n.issue-container + .issue-container {\\n  margin-top: 5px;\\n}\\n\\n.issue.selected + .issue {\\n  border-top-color: transparent;\\n}\\n\\n.issue-row {\\n  display: flex;\\n  margin-bottom: 5px;\\n}\\n\\n.issue-row-meta {\\n  flex-grow: 0;\\n  padding-right: 5px;\\n  white-space: nowrap;\\n}\\n\\n.issue-message {\\n  flex-grow: 1;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  line-height: 1.5;\\n  font-size: 13px;\\n  font-weight: 600;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n\\n.issue-message .button-link {\\n  height: 16px;\\n}\\n\\n.issue-rule {\\n  vertical-align: top;\\n  margin-top: 2px;\\n  padding: 0 3px;\\n  background: rgba(75, 159, 213, 0.3);\\n  opacity: 0.5;\\n}\\n\\n.issue-rule:hover {\\n  background: rgba(75, 159, 213, 0.3);\\n}\\n\\n.issue-actions {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  padding-left: 8px;\\n}\\n\\n.issue-meta-list {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.issue-meta {\\n  line-height: 16px;\\n  font-size: 12px;\\n}\\n\\n.issue-meta + .issue-meta {\\n  margin-left: 8px;\\n}\\n\\n.issue-meta-label {\\n  display: inline-block;\\n  vertical-align: top;\\n  max-width: 180px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-changelog {\\n  width: 450px;\\n  max-height: 320px;\\n  overflow: auto;\\n  white-space: normal;\\n}\\n\\n.issue-comments {\\n  margin-top: 5px;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment {\\n  display: flex;\\n}\\n\\n.issue-comment + .issue-comment {\\n  margin-top: 4px;\\n}\\n\\n.issue-comment-author {\\n  flex-shrink: 0;\\n  max-width: 130px;\\n  line-height: 18px;\\n  color: #777;\\n  font-weight: 600;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-age {\\n  flex-shrink: 0;\\n  line-height: 18px;\\n  white-space: nowrap;\\n  color: #777;\\n}\\n\\n.issue-comment-text {\\n  flex: 1;\\n  min-width: 0;\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  line-height: 18px;\\n  line-height: 1.5;\\n  overflow: hidden;\\n  outline: none;\\n  word-break: break-all;\\n}\\n\\n.issue-comment-actions {\\n  flex-shrink: 0;\\n  padding-left: 5px;\\n  line-height: 18px;\\n  white-space: nowrap;\\n}\\n\\n.issue-comment-bubble-popup {\\n  width: 440px;\\n  font-size: 12px;\\n}\\n\\n.issue-comment-form-text textarea {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.issue-comment-form-footer {\\n  margin-top: 5px;\\n  line-height: 22px;\\n}\\n\\n.issue-comment-form-footer:before,\\n.issue-comment-form-footer:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.issue-comment-form-footer:after {\\n  clear: both;\\n}\\n\\n.issue-comment-form-actions {\\n  float: right;\\n}\\n\\n.issue-comment-form-tips {\\n  float: left;\\n}\\n\\n.issue-with-checkbox {\\n  padding-left: 24px;\\n}\\n\\n.issue-with-checkbox .issue-checkbox-container {\\n  display: block;\\n}\\n\\n.issue-checkbox-container {\\n  display: none;\\n  position: absolute;\\n  width: 29px;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  border: none;\\n}\\n\\n.issue-checkbox-container:hover {\\n  background-color: rgba(0, 0, 0, 0.05);\\n}\\n\\n.issue-checkbox {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin: -8px 0 0 -8px;\\n}\\n\\n.issue:not(.selected) .location-index {\\n  background-color: #ccc;\\n}\\n\\n.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog) {\\n  max-height: 120px;\\n  overflow: auto;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.location-message {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 16px;\\n  padding: 0 6px;\\n  border-radius: 2px;\\n  background-color: #9e9e9e;\\n  color: #fff;\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 12px;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.location-message.selected {\\n  background-color: #475760;\\n}\\n\\n.location-index + .location-message {\\n  margin-left: 4px;\\n}\\n\\n.location-index > .location-message {\\n  position: absolute;\\n  bottom: calc(100% + 4px);\\n  left: 0;\\n}\\n\\n.location-index > .location-message::after {\\n  position: absolute;\\n  bottom: -5px;\\n  left: 4px;\\n  width: 0;\\n  height: 0;\\n  border-top: 5px solid #475760;\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n  content: '';\\n}\\n\\n.source-line-code .location-message {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\nexport interface ChangelogDiff {\n  key: string;\n  newValue?: string;\n  oldValue?: string;\n}\n\ninterface Props {\n  diff: ChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_long_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_long_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_short_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getIssueChangelog } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport IssueChangelogDiff, { ChangelogDiff } from '../components/IssueChangelogDiff';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Changelog {\n  avatar?: string;\n  creationDate: string;\n  diffs: ChangelogDiff[];\n  user: string;\n  userName: string;\n}\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelogs: Changelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    changelogs: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      changelogs => {\n        if (this.mounted) {\n          this.setState({ changelogs });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelogs.map((item, idx) => (\n                <tr key={idx}>\n                  <td className=\"thin text-left text-top nowrap\">\n                    <DateTimeFormatter date={item.creationDate} />\n                  </td>\n                  <td className=\"text-left text-top\">\n                    {item.userName && (\n                      <p>\n                        <Avatar\n                          className=\"little-spacer-right\"\n                          hash={item.avatar}\n                          name={item.userName}\n                          size={16}\n                        />\n                        {item.userName}\n                      </p>\n                    )}\n                    {item.diffs.map(diff => (\n                      <IssueChangelogDiff diff={diff} key={diff.key} />\n                    ))}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChangelogPopup from '../popups/ChangelogPopup';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Toggler from '../../controls/Toggler';\nimport Tooltip from '../../controls/Tooltip';\nimport { Button } from '../../ui/buttons';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EllipsisIcon from '../../icons-components/EllipsisIcon';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { Button } from '../../ui/buttons';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\ninterface Props {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  openRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  rule: string;\n}\n\nexport default class IssueMessage extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.openRule({\n      key: this.props.rule,\n      organization: this.props.organization\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"issue-message\">\n        {this.props.message}\n        <Button\n          aria-label={translate('issue.rule_details')}\n          className=\"button-link issue-rule little-spacer-left\"\n          onClick={this.handleClick}>\n          <EllipsisIcon />\n        </Button>\n        {this.props.engine && (\n          <Tooltip\n            overlay={translateWithParameters('issue.from_external_rule_engine', this.props.engine)}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {this.props.engine}\n            </div>\n          </Tooltip>\n        )}\n        {this.props.manualVulnerability && (\n          <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n            <div className=\"outline-badge badge-tiny-height spacer-left vertical-text-top\">\n              {translate('issue.manual_vulnerability')}\n            </div>\n          </Tooltip>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames({ active: this.props.active === this.props.item })}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport TagsIcon from '../../icons-components/TagsIcon';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport Avatar from '../../ui/Avatar';\nimport { translate } from '../../../helpers/l10n';\nimport { fileFromPath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper resolution={undefined} status={issue.status} />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {issue.assignee != null ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={issue.assigneeName || issue.assignee}\n                  size={16}\n                />\n                {issue.assigneeName || issue.assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport FilterIcon from '../../icons-components/FilterIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <Button\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"js-issue-filter button-link issue-action issue-action-with-options\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </Button>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\nimport LinkIcon from '../../icons-components/LinkIcon';\nimport LocationIndex from '../../common/LocationIndex';\nimport Tooltip from '../../controls/Tooltip';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { WorkspaceContext } from '../../workspace/context';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            openRule={openRule}\n            organization={issue.organization}\n            rule={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { map } from 'lodash';\nimport { connect } from 'react-redux';\nimport Avatar from '../../ui/Avatar';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SearchBox from '../../controls/SearchBox';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { translate } from '../../../helpers/l10n';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface User {\n  avatar?: string;\n  email?: string;\n  login: string;\n  name: string;\n}\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: User[];\n}\n\nconst LIST_SIZE = 10;\n\nclass SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: User[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = (response: { users: T.OrganizationMember[] }) => {\n    this.setState({\n      users: response.users,\n      currentUser: response.users.length > 0 ? response.users[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span\n                  className=\"vertical-middle\"\n                  style={{ marginLeft: !user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'assignee' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'>;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    return (\n      <span>\n        {issue.assignee && (\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n        )}\n        <span className=\"issue-meta-label\">\n          {issue.assignee ? issue.assigneeName || issue.assignee : translate('unassigned')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseIssueFromResponse } from '../../helpers/issues';\nimport { IssueResponse } from '../../api/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport MarkdownTips from '../../common/MarkdownTips';\nimport { Button, ResetButtonLink } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport Toggler from '../../controls/Toggler';\nimport { Button } from '../../ui/buttons';\nimport CommentPopup from '../popups/CommentPopup';\nimport { addIssueComment } from '../../../api/issues';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <Button\n            className=\"button-link issue-action js-issue-comment\"\n            onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </Button>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\nimport { setIssueSeverity, IssueResponse } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport { Button } from '../../ui/buttons';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference, without } from 'lodash';\nimport TagsSelector from '../../tags/TagsSelector';\nimport { searchIssueTags } from '../../../api/issues';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\nimport { setIssueTags } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport TagsList from '../../tags/TagsList';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <Button\n              className={'js-issue-edit-tags button-link issue-action issue-action-with-options'}\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  onSelect: (transition: string) => void;\n  transitions: string[];\n}\n\nexport default function SetTransitionPopup({ onSelect, transitions }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          return (\n            <SelectListItem\n              item={transition}\n              key={transition}\n              title={translate('issue.transition', transition, 'description')}>\n              {translate('issue.transition', transition)}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\nimport { setIssueTransition } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { Button } from '../../ui/buttons';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'resolution' | 'status' | 'transitions'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup onSelect={this.setTransition} transitions={issue.transitions} />\n            }>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { DropdownOverlay } from '../../controls/Dropdown';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SetTypePopup from '../popups/SetTypePopup';\nimport { setIssueType, IssueResponse } from '../../../api/issues';\nimport Toggler from '../../controls/Toggler';\nimport DropdownIcon from '../../icons-components/DropdownIcon';\nimport { Button } from '../../ui/buttons';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <Button\n              className=\"button-link issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </Button>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\nimport { updateIssue } from '../actions';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport { IssueResponse } from '../../../api/issues';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder: string | undefined) => {\n    this.setState({ commentPlaceholder: placeholder || '' });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'));\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueAssign\n                canAssign={canAssign}\n                isOpen={this.props.currentPopup === 'assign' && canAssign}\n                issue={issue}\n                onAssign={this.props.onAssign}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          {!isSecurityHotspot &&\n            issue.effort && (\n              <li className=\"issue-meta\">\n                <span className=\"issue-meta-label\">\n                  {translateWithParameters('issue.x_effort', issue.effort)}\n                </span>\n              </li>\n            )}\n          {canComment && (\n            <IssueCommentAction\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../../ui/buttons';\nimport { translate } from '../../../helpers/l10n';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Avatar from '../../ui/Avatar';\nimport Toggler from '../../controls/Toggler';\nimport { EditButton, DeleteButton } from '../../ui/buttons';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\nimport DateFromNow from '../../intl/DateFromNow';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={comment.authorName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={comment.authorName || comment.author}\n            size={16}\n          />\n          {comment.authorName || comment.author}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: comment.htmlText }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport IssueTitleBar from './components/IssueTitleBar';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport { updateIssue } from './actions';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string, event: { shiftKey?: boolean }) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key, event);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments &&\n          issue.comments.length > 0 && (\n            <div className=\"issue-comments\">\n              {issue.comments.map(comment => (\n                <IssueCommentLine\n                  comment={comment}\n                  key={comment.key}\n                  onDelete={this.deleteComment}\n                  onEdit={this.editComment}\n                />\n              ))}\n            </div>\n          )}\n        {hasCheckbox && (\n          <a className=\"js-toggle issue-checkbox-container\" href=\"#\" onClick={this.handleCheck}>\n            <i\n              className={classNames('issue-checkbox', 'icon-checkbox', {\n                'icon-checkbox-checked': this.props.checked\n              })}\n            />\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport IssueView from './IssueView';\nimport { updateIssue } from './actions';\nimport { setIssueAssignee } from '../../api/issues';\nimport './Issue.css';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string, event: { shiftKey?: boolean }) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    displayLocationsCount: true,\n    displayLocationsLink: true,\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', (event: KeyboardEvent) => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key, event);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.source-viewer {\\n  width: 100%;\\n  min-height: 200px;\\n  border: 1px solid #cdcdcd;\\n  box-sizing: border-box;\\n  background-color: #fff;\\n  overflow: hidden;\\n}\\n\\n.source-table {\\n  width: 100%;\\n  border: none;\\n  border-collapse: collapse;\\n}\\n\\n.source-line:hover .source-line-number,\\n.source-line:hover .source-line-issues,\\n.source-line:hover .source-line-coverage,\\n.source-line:hover .source-line-duplications,\\n.source-line:hover .source-line-duplications-extra,\\n.source-line:hover .source-line-scm {\\n  border-color: #e9e9e9;\\n  background-color: #e9e9e9;\\n}\\n\\n.source-line:hover .source-line-code {\\n  background-color: #f5f5f5;\\n}\\n\\n.source-line-highlighted .source-line-number,\\n.source-line-highlighted:hover .source-line-number,\\n.source-line-highlighted .source-line-issues,\\n.source-line-highlighted:hover .source-line-issues,\\n.source-line-highlighted .source-line-coverage,\\n.source-line-highlighted:hover .source-line-coverage,\\n.source-line-highlighted .source-line-duplications,\\n.source-line-highlighted:hover .source-line-duplications,\\n.source-line-highlighted .source-line-duplications-extra,\\n.source-line-highlighted:hover .source-line-duplications-extra,\\n.source-line-highlighted .source-line-scm,\\n.source-line-highlighted:hover .source-line-scm {\\n  border-color: #c4dfec !important;\\n  background-color: #c4dfec;\\n}\\n\\n.source-line-highlighted .source-line-code,\\n.source-line-highlighted:hover .source-line-code {\\n  background-color: #d9edf7;\\n}\\n\\n.source-line-filtered .source-line-code {\\n  background-color: #fbf3d5 !important;\\n}\\n\\n.source-line-filtered.source-line-highlighted .source-line-code,\\n.source-line-filtered.source-line-highlighted:hover .source-line-code {\\n  background-color: #cdd9c4 !important;\\n}\\n\\n.source-line-filtered:hover .source-line-code {\\n  background-color: #f1e8cb !important;\\n}\\n\\n.source-line-filtered.source-line-filtered-dark .source-line-code {\\n  background-color: #f9ebb7 !important;\\n}\\n\\n.source-line-filtered.source-line-filtered-dark:hover .source-line-code {\\n  background-color: #eaddb2 !important;\\n}\\n\\n.source-line-last .source-line-code {\\n  padding-bottom: 160px;\\n}\\n\\n.source-viewer pre {\\n  height: 18px;\\n  padding: 0;\\n}\\n\\n.source-viewer pre,\\n.source-line-number,\\n.source-line-scm {\\n  line-height: 18px;\\n  font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;\\n  font-size: 12px;\\n}\\n\\n.source-line-code {\\n  position: relative;\\n  padding: 0 10px;\\n}\\n\\n.source-line-code pre {\\n  float: left;\\n}\\n\\n.source-line-code .issue-list {\\n  margin-left: -10px;\\n  margin-right: -10px;\\n}\\n\\n.source-line-code-inner:before,\\n.source-line-code-inner:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.source-line-code-inner:after {\\n  clear: both;\\n}\\n\\n.source-line-code-issue {\\n  display: inline-block;\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);\\n  background-repeat: repeat-x;\\n  background-size: 4px;\\n  background-position: bottom;\\n}\\n\\n.source-meta {\\n  position: relative;\\n  vertical-align: top;\\n  width: 1px;\\n  background-clip: padding-box;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.source-meta:focus {\\n  outline: none;\\n}\\n\\n.source-meta[role='button'] {\\n  cursor: pointer;\\n}\\n\\n.source-meta + .source-meta {\\n  border-left: 1px solid #f3f3f3;\\n}\\n\\n.source-line-number {\\n  min-width: 18px;\\n  padding: 0 10px;\\n  background-color: #f3f3f3;\\n  color: #777;\\n  text-align: right;\\n}\\n\\n.source-line-number:before {\\n  content: attr(data-line-number);\\n}\\n\\n.source-line-issues {\\n  position: relative;\\n  padding: 0 2px;\\n  background-color: #f3f3f3;\\n}\\n\\n.source-line-issues-counter {\\n  position: absolute;\\n  top: -1px;\\n  right: -1px;\\n  line-height: 8px;\\n  font-size: 8px;\\n}\\n\\n.source-line-coverage {\\n  background-color: #f3f3f3;\\n}\\n\\n.source-line-duplications,\\n.source-line-duplications-extra {\\n  background-color: #f3f3f3;\\n}\\n\\n.source-line-duplications-extra {\\n  display: none;\\n}\\n\\n.source-duplications-expanded .source-line-duplications {\\n  display: none;\\n}\\n\\n.source-duplications-expanded .source-line-duplications-extra {\\n  display: table-cell;\\n}\\n\\n.source-line-scm {\\n  padding: 0 5px;\\n  background-color: #f3f3f3;\\n}\\n\\n.source-line-scm-inner {\\n  max-width: 40px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.source-line-scm-inner:before {\\n  content: attr(data-author);\\n}\\n\\n.source-line-bar {\\n  width: 5px;\\n  height: 18px;\\n}\\n\\n.source-line-bar[role='button'] {\\n  cursor: pointer;\\n}\\n\\n.source-line-bar:focus {\\n  outline: none;\\n}\\n\\n.source-line-covered {\\n  background-color: #00aa00 !important;\\n}\\n\\n.source-line-uncovered {\\n  background-color: #d4333f !important;\\n}\\n\\n.source-line-partially-covered {\\n  background-color: #ed7d20 !important;\\n  background-image: repeating-linear-gradient(\\n    45deg,\\n    rgba(255, 255, 255, 0.5) 4px,\\n    transparent 4px,\\n    transparent 8px,\\n    rgba(255, 255, 255, 0.5) 8px,\\n    rgba(255, 255, 255, 0.5) 12px,\\n    transparent 12px,\\n    transparent 16px,\\n    rgba(255, 255, 255, 0.5) 16px,\\n    rgba(255, 255, 255, 0.5) 20px\\n  ) !important;\\n}\\n\\n.source-line-duplicated {\\n  background-color: #797979 !important;\\n}\\n\\n.source-viewer-header {\\n  position: relative;\\n  padding: 2px 10px 4px;\\n  border-bottom: 1px solid #e6e6e6;\\n  background-color: #f3f3f3;\\n}\\n\\n.source-viewer-header:before,\\n.source-viewer-header:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.source-viewer-header:after {\\n  clear: both;\\n}\\n\\n.source-viewer-header-bar + .source-viewer-header-bar {\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.source-viewer-header-component {\\n  float: left;\\n  padding-top: 4px;\\n}\\n\\n.source-viewer-header-component-project {\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.source-viewer-header-component-name {\\n  font-weight: 600;\\n}\\n\\n.source-viewer-header-favorite {\\n  position: relative;\\n  top: -2px;\\n  margin-left: 4px;\\n  border-bottom: none;\\n}\\n\\n.source-viewer-header-measures {\\n  float: right;\\n}\\n\\n.source-viewer-header-measures-scope {\\n  position: relative;\\n  float: left;\\n}\\n\\n.source-viewer-header-measure {\\n  display: inline-block;\\n  vertical-align: middle;\\n  padding: 3px 0;\\n  font-size: 13px;\\n}\\n\\n.source-viewer-header-measure .rating {\\n  font-size: 18px;\\n}\\n\\n.source-viewer-header-measure + .source-viewer-header-measure {\\n  margin-left: 25px;\\n}\\n\\n.source-viewer-header-measure-label {\\n  display: block;\\n  margin-top: 4px;\\n  line-height: 12px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.source-viewer-header-measure-value {\\n  display: block;\\n  line-height: 18px;\\n  color: #444;\\n  font-size: 16px;\\n}\\n\\n.source-viewer-header-actions {\\n  float: right;\\n  display: block;\\n  margin-left: 25px;\\n  padding: 8px 5px;\\n}\\n\\n.source-viewer-header-actions svg {\\n  margin-top: 2px;\\n}\\n\\n.source-viewer-header-more-actions {\\n  position: absolute;\\n  z-index: 7500;\\n  right: 0;\\n  top: 100%;\\n  padding: 10px;\\n  border: 1px solid #e6e6e6;\\n  border-right: none;\\n  background-color: #fff;\\n  line-height: 1.8;\\n}\\n\\n.source-viewer-code {\\n  overflow-x: auto;\\n}\\n\\n.source-viewer-measures-overlay {\\n  width: 1100px;\\n  left: 50%;\\n  right: auto;\\n  margin-left: -550px;\\n  padding: 20px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.source-viewer-measures-overlay .modal-foot {\\n  width: 1100px;\\n  left: 50%;\\n  right: auto;\\n  margin-left: -550px;\\n}\\n\\n.source-viewer-measures-component {\\n  float: none;\\n  margin: 0 10px 30px;\\n}\\n\\n.source-viewer-measures-modal {\\n  background-color: #f3f3f3;\\n}\\n\\n.source-viewer-measures {\\n  margin: 0 -10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.source-viewer-measures:before,\\n.source-viewer-measures:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.source-viewer-measures:after {\\n  clear: both;\\n}\\n\\n.source-viewer-measures + .source-viewer-measures {\\n  margin-top: 40px;\\n}\\n\\n.source-viewer-measures-secondary .source-viewer-measures-card {\\n  background-color: rgba(255, 255, 255, 0.6);\\n}\\n\\n.source-viewer-measures-section {\\n  float: left;\\n  width: 25%;\\n  margin: -20px 0;\\n}\\n\\n.source-viewer-measures-section-big {\\n  width: 50%;\\n}\\n\\n.source-viewer-measures-section-full {\\n  width: 100%;\\n}\\n\\n.source-viewer-measures-section + .source-viewer-measures-section-full {\\n  margin-top: 20px;\\n}\\n\\n.source-viewer-measures-card {\\n  margin: 20px 10px;\\n  padding: 10px;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n}\\n\\n.source-viewer-measures-card-overflow {\\n  overflow: auto;\\n}\\n\\n.source-viewer-measures-card-fixed-height {\\n  max-height: 36vh;\\n  overflow-y: scroll;\\n}\\n\\n.source-viewer-tests-list {\\n  width: 100%;\\n  font-size: 13px;\\n}\\n\\n.source-viewer-test-status,\\n.source-viewer-test-duration,\\n.source-viewer-test-covered-lines {\\n  width: 1px;\\n}\\n\\n.source-viewer-test-status,\\n.source-viewer-test-duration,\\n.source-viewer-test-covered-lines,\\n.source-viewer-test-covered-name {\\n  vertical-align: middle;\\n  padding: 3px;\\n}\\n\\n.source-viewer-test-name {\\n  padding-left: 10px;\\n  word-break: break-all;\\n}\\n\\n.source-viewer-test-covered-lines {\\n  text-align: right;\\n}\\n\\n.source-viewer-issue-location {\\n  max-width: 200px;\\n  margin-right: 10px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.source-viewer-flow-location + .source-viewer-flow-location {\\n  z-index: 504;\\n}\\n\\n.source-line-issue-locations {\\n  float: right;\\n  margin-right: -10px;\\n}\\n\\n.source-line-issue-locations:empty {\\n  display: none;\\n}\\n\\n.source-viewer-more-code {\\n  padding: 40px 0;\\n  border-bottom: 1px solid #e6e6e6;\\n  background-color: #f3f3f3;\\n  text-align: center;\\n}\\n\\n.source-viewer-more-code .spinner {\\n  top: -1px;\\n}\\n\\n.source-table + .source-viewer-more-code {\\n  border-bottom: none;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.source-viewer-bubble-popup {\\n  font-family: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\\n  font-size: 13px;\\n  text-align: left;\\n  -webkit-user-select: text;\\n     -moz-user-select: text;\\n      -ms-user-select: text;\\n          user-select: text;\\n}\\n\\n.issue-location {\\n  display: inline-block;\\n  vertical-align: top;\\n  line-height: 18px;\\n  height: 18px;\\n  box-sizing: border-box;\\n  background-color: #ffeaea;\\n  transition: background-color 0.3s ease;\\n}\\n\\n.issue-location.highlighted {\\n  border-color: #e1e1f2;\\n  background-color: #e1e1f2;\\n}\\n\\n.issue-location.selected {\\n  border-color: #f4b1b0;\\n  background-color: #f4b1b0;\\n}\\n\\n.measures + .measures {\\n  margin-top: 15px;\\n  padding-top: 15px;\\n  border-top: 1px solid #e6e6e6;\\n}\\n\\n.measures-chart {\\n  display: inline-block;\\n  vertical-align: middle;\\n  width: 70px;\\n  margin-right: 20px;\\n  text-align: center;\\n}\\n\\n.measures-chart .rating {\\n  font-size: 32px;\\n}\\n\\n.measure {\\n  line-height: 1.3333333333333;\\n}\\n\\n.measure-name {\\n  display: block;\\n  font-size: 13px;\\n}\\n\\n.measure-value {\\n  color: #236a97;\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n\\n.measure-big {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.measure-big .measure-name {\\n  margin-top: 2px;\\n  font-size: 15px;\\n  font-weight: 400;\\n}\\n\\n.measure-big .measure-value {\\n  font-size: 22px;\\n}\\n\\n.measure-big .rating {\\n  font-size: 22px;\\n}\\n\\n.measure-big + .measure-big {\\n  margin-left: 20px;\\n}\\n\\n.measure-one-line:before,\\n.measure-one-line:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.measure-one-line:after {\\n  clear: both;\\n}\\n\\n.measure-one-line .measure-name {\\n  float: left;\\n}\\n\\n.measure-one-line .measure-value {\\n  float: right;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as ReactModal from 'react-modal';\nimport * as classNames from 'classnames';\n\nReactModal.setAppElement('#content');\n\ninterface OwnProps {\n  medium?: boolean;\n  noBackdrop?: boolean;\n  large?: boolean;\n  simple?: true;\n}\n\ntype MandatoryProps = Pick<ReactModal.Props, 'contentLabel'>;\n\ntype Props = Partial<ReactModal.Props> & MandatoryProps & OwnProps;\n\nexport default function Modal(props: Props) {\n  return (\n    <ReactModal\n      className={classNames('modal', {\n        'modal-medium': props.medium,\n        'modal-large': props.large,\n        'modal-simple': props.simple\n      })}\n      isOpen={true}\n      overlayClassName={classNames('modal-overlay', { 'modal-no-backdrop': props.noBackdrop })}\n      {...props}\n    />\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nmodule.exports = baseInRange;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","var baseInRange = require('./_baseInRange'),\n    toFinite = require('./toFinite'),\n    toNumber = require('./toNumber');\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toFinite(start);\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toFinite(end);\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nmodule.exports = inRange;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.level {\\n  display: inline-block;\\n  width: auto;\\n  min-width: 80px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  letter-spacing: 0.02em;\\n  font-size: 13px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.level-small {\\n  width: auto;\\n  min-width: 64px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 12px;\\n}\\n\\n.level-muted {\\n  background-color: #bdbdbd !important;\\n}\\n\\na > .level {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .level:hover {\\n  opacity: 0.8;\\n}\\n\\n.level-OK {\\n  background-color: #00aa00;\\n}\\n\\n.level-WARN {\\n  background-color: #ed7d20;\\n}\\n\\n.level-ERROR {\\n  background-color: #d4333f;\\n}\\n\\n.level-NONE {\\n  background-color: #b4b4b4;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.rating {\\n  display: inline-block;\\n  width: 24px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  font-size: 16px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.rating-muted {\\n  background-color: #bdbdbd !important;\\n  color: #fff !important;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35) !important;\\n}\\n\\na > .rating {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .rating:hover {\\n  opacity: 0.8;\\n}\\n\\n.rating-A {\\n  line-height: 23px;\\n  background-color: #00aa00;\\n}\\n\\na > .rating-A {\\n  border-bottom-color: #00aa00;\\n}\\n\\n.rating-B {\\n  background-color: #b0d513;\\n}\\n\\na .rating-B {\\n  border-bottom-color: #b0d513;\\n}\\n\\n.rating-C {\\n  background-color: #eabe06;\\n}\\n\\na .rating-C {\\n  border-bottom-color: #eabe06;\\n}\\n\\n.rating-D {\\n  background-color: #ed7d20;\\n}\\n\\na .rating-D {\\n  border-bottom-color: #ed7d20;\\n}\\n\\n.rating-E {\\n  background-color: #e00;\\n}\\n\\na .rating-E {\\n  border-bottom-color: #e00;\\n}\\n\\n.rating-small {\\n  width: 18px;\\n  height: 18px;\\n  line-height: 18px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{'–'}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\n\nconst DonutChart = lazyLoad(() => import('../charts/DonutChart'));\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({ muted = false, size = 'normal', value }: Props) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? theme.gray71 : theme.green },\n      { value: 100 - numberValue, fill: muted ? theme.barBackgroundColor : theme.red }\n    ];\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return <DonutChart data={data} height={width} thickness={thickness} width={width} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { inRange } from 'lodash';\nimport './DuplicationsRating.css';\n\ninterface Props {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | null | undefined;\n}\n\nexport default function DuplicationsRating({ muted = false, size = 'normal', value }: Props) {\n  const className = classNames('duplications-rating', {\n    'duplications-rating-small': size === 'small',\n    'duplications-rating-big': size === 'big',\n    'duplications-rating-huge': size === 'huge',\n    'duplications-rating-muted': muted || value == null || isNaN(value),\n    'duplications-rating-A': inRange(value || 0, 0, 3),\n    'duplications-rating-B': inRange(value || 0, 3, 5),\n    'duplications-rating-C': inRange(value || 0, 5, 10),\n    'duplications-rating-D': inRange(value || 0, 10, 20),\n    'duplications-rating-E': (value || 0) >= 20\n  });\n\n  return <div className={className} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  favorite: boolean;\n}\n\nexport default function FavoriteIcon({ className, favorite, fill = theme.orange, size }: Props) {\n  return (\n    <Icon\n      className={classNames('icon-outline', { 'is-filled': favorite }, className)}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\">\n        <path d=\"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" />\n      </g>\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.duplications-rating {\\n  position: relative;\\n  display: inline-flex;\\n  vertical-align: top;\\n  justify-content: center;\\n  align-items: center;\\n  width: 24px;\\n  height: 24px;\\n  border: 3px solid #ed7d20;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n}\\n\\n.duplications-rating-small {\\n  width: 16px;\\n  height: 16px;\\n  border-width: 2px;\\n}\\n\\n.duplications-rating-big {\\n  width: 40px;\\n  height: 40px;\\n  border-width: 3px;\\n}\\n\\n.duplications-rating-huge {\\n  width: 60px;\\n  height: 60px;\\n  border-width: 4px;\\n  border-radius: 30px;\\n}\\n\\n.duplications-rating-muted {\\n  border-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating-muted:after {\\n  background-color: #bdbdbd !important;\\n}\\n\\n.duplications-rating:after {\\n  border-radius: 24px;\\n  content: '';\\n}\\n\\n.duplications-rating-A {\\n  border-color: #00aa00;\\n}\\n\\n.duplications-rating-A:after {\\n  display: none;\\n}\\n\\n.duplications-rating-B {\\n  border-color: #b0d513;\\n}\\n\\n.duplications-rating-B:after {\\n  width: 6px;\\n  height: 6px;\\n  background-color: #b0d513;\\n}\\n\\n.duplications-rating-small.duplications-rating-B:after {\\n  width: 2px;\\n  height: 2px;\\n}\\n\\n.duplications-rating-big.duplications-rating-B:after {\\n  width: 12px;\\n  height: 12px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-B:after {\\n  width: 18px;\\n  height: 18px;\\n}\\n\\n.duplications-rating-C {\\n  border-color: #eabe06;\\n}\\n\\n.duplications-rating-C:after {\\n  width: 8px;\\n  height: 8px;\\n  background-color: #eabe06;\\n}\\n\\n.duplications-rating-small.duplications-rating-C:after {\\n  width: 6px;\\n  height: 6px;\\n}\\n\\n.duplications-rating-big.duplications-rating-C:after {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-C:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-D {\\n  border-color: #ed7d20;\\n}\\n\\n.duplications-rating-D:after {\\n  width: 12px;\\n  height: 12px;\\n  background-color: #ed7d20;\\n}\\n\\n.duplications-rating-small.duplications-rating-D:after {\\n  width: 8px;\\n  height: 8px;\\n}\\n\\n.duplications-rating-big.duplications-rating-D:after {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-D:after {\\n  width: 36px;\\n  height: 36px;\\n}\\n\\n.duplications-rating-E {\\n  border-color: #d4333f;\\n}\\n\\n.duplications-rating-E:after {\\n  width: 14px;\\n  height: 14px;\\n  background-color: #d4333f;\\n}\\n\\n.duplications-rating-small.duplications-rating-E:after {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.duplications-rating-big.duplications-rating-E:after {\\n  width: 28px;\\n  height: 28px;\\n}\\n\\n.duplications-rating-huge.duplications-rating-E:after {\\n  width: 42px;\\n  height: 42px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport FavoriteIcon from '../icons-components/FavoriteIcon';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  addFavorite: () => Promise<void>;\n  className?: string;\n  favorite: boolean;\n  qualifier: string;\n  removeFavorite: () => Promise<void>;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class FavoriteBase extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { favorite: this.props.favorite };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.favorite !== this.props.favorite || nextProps.favorite !== this.state.favorite) {\n      this.setState({ favorite: nextProps.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.state.favorite) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  };\n\n  addFavorite() {\n    this.props.addFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  removeFavorite() {\n    this.props.removeFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: false });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const tooltip = this.state.favorite\n      ? translate('favorite.current', this.props.qualifier)\n      : translate('favorite.check', this.props.qualifier);\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('display-inline-block', 'link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.toggleFavorite}>\n          <FavoriteIcon favorite={this.state.favorite} />\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteBase from './FavoriteBase';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n}\n\nexport default function Favorite({ component, ...other }: Props) {\n  return (\n    <FavoriteBase\n      {...other}\n      addFavorite={() => addFavorite(component)}\n      removeFavorite={() => removeFavorite(component)}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON } from '../helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\ninterface Props {\n  className?: string;\n  status: string;\n}\n\nconst statusIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  open: OpenStatusIcon,\n  confirmed: ConfirmedStatusIcon,\n  reopened: ReopenedStatusIcon,\n  resolved: ResolvedStatusIcon,\n  closed: ClosedStatusIcon\n};\n\nexport default function StatusIcon(props: Props) {\n  const status = props.status.toLowerCase();\n  const Icon = statusIcons[status];\n  return Icon ? <Icon className={props.className} /> : null;\n}\n\nfunction OpenStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ConfirmedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10 8c0 .552-.195 1.023-.586 1.414-.39.39-.862.586-1.414.586a1.926 1.926 0 0 1-1.414-.586A1.928 1.928 0 0 1 6 8c0-.552.195-1.023.586-1.414C6.976 6.196 7.448 6 8 6c.552 0 1.023.195 1.414.586.39.39.586.862.586 1.414zM8 3.75c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57.77 0 1.482-.19 2.133-.57a4.242 4.242 0 0 0 1.547-1.547c.38-.65.57-1.362.57-2.133 0-.77-.19-1.482-.57-2.133a4.25 4.25 0 0 0-1.547-1.547A4.153 4.153 0 0 0 8 3.75zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ReopenedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 12.25v-8.5c-.77 0-1.482.19-2.133.57A4.25 4.25 0 0 0 4.32 5.867c-.38.65-.57 1.362-.57 2.133 0 .77.19 1.482.57 2.133.38.65.896 1.167 1.547 1.547.65.38 1.362.57 2.133.57zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.blue }}\n      />\n    </Icon>\n  );\n}\n\nfunction ResolvedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M12.03 6.734a.49.49 0 0 0-.14-.36l-.71-.702a.48.48 0 0 0-.352-.15.474.474 0 0 0-.35.15l-3.19 3.18-1.765-1.766a.479.479 0 0 0-.35-.15.479.479 0 0 0-.353.15l-.71.703a.482.482 0 0 0-.14.358c0 .14.046.258.14.352l2.828 2.828c.098.1.216.15.35.15.142 0 .26-.05.36-.15l4.243-4.242a.475.475 0 0 0 .14-.352l-.001.001zM14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n\nfunction ClosedStatusIcon({ className, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 8c0 1.09-.268 2.092-.805 3.012a5.96 5.96 0 0 1-2.183 2.183A5.863 5.863 0 0 1 8 14a5.863 5.863 0 0 1-3.012-.805 5.96 5.96 0 0 1-2.183-2.183A5.863 5.863 0 0 1 2 8c0-1.09.268-2.092.805-3.012a5.96 5.96 0 0 1 2.183-2.183A5.863 5.863 0 0 1 8 2c1.09 0 2.092.268 3.012.805a5.96 5.96 0 0 1 2.183 2.183C13.732 5.908 14 6.91 14 8z\"\n        style={{ fill: theme.baseFontColor }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from '../icons-components/StatusIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ListIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function EllipsisIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../measure/Measure';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { getLocalizedMetricName } from '../../../helpers/l10n';\n\nexport interface MeasureWithMetric {\n  metric: T.Metric;\n  value?: string;\n}\n\ninterface Props {\n  measure: MeasureWithMetric;\n}\n\nexport default function MeasuresOverlayMeasure({ measure }: Props) {\n  return (\n    <div\n      className=\"measure measure-one-line\"\n      data-metric={measure.metric.key}\n      key={measure.metric.key}>\n      <span className=\"measure-name\">\n        {['bugs', 'vulnerabilities', 'code_smells'].includes(measure.metric.key) && (\n          <IssueTypeIcon className=\"little-spacer-right\" query={measure.metric.key} />\n        )}\n        {getLocalizedMetricName(measure.metric)}\n      </span>\n      <span className=\"measure-value\">\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          small={true}\n          value={measure.value}\n        />\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { keyBy, sortBy, groupBy } from 'lodash';\nimport MeasuresOverlayMeasure from './MeasuresOverlayMeasure';\nimport { Button } from '../../ui/buttons';\nimport { getFacets } from '../../../api/issues';\nimport { getMeasures } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport Modal from '../../controls/Modal';\nimport Measure from '../../measure/Measure';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport CoverageRating from '../../ui/CoverageRating';\nimport DuplicationsRating from '../../ui/DuplicationsRating';\nimport IssueTypeIcon from '../../ui/IssueTypeIcon';\nimport { SEVERITIES, ISSUE_TYPES } from '../../../helpers/constants';\nimport { translate, getLocalizedMetricName } from '../../../helpers/l10n';\nimport {\n  formatMeasure,\n  getDisplayMetrics,\n  enhanceMeasuresWithMetrics\n} from '../../../helpers/measures';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport TagsIcon from '../../icons-components/TagsIcon';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  onClose: () => void;\n  sourceViewerFile: T.SourceViewerFile;\n}\n\ninterface Measures {\n  [metricKey: string]: T.MeasureEnhanced;\n}\n\ninterface State {\n  loading: boolean;\n  measures: Measures;\n  severitiesFacet?: T.FacetValue[];\n  showAllMeasures: boolean;\n  tagsFacet?: T.FacetValue[];\n  typesFacet?: T.FacetValue<T.IssueType>[];\n}\n\nexport default class MeasuresOverlay extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true, measures: {}, showAllMeasures: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData = () => {\n    Promise.all([this.fetchMeasures(), this.fetchIssues()]).then(\n      ([measures, facets]) => {\n        if (this.mounted) {\n          this.setState({ loading: false, measures, ...facets });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  fetchMeasures = () => {\n    return getAllMetrics().then(metrics => {\n      const metricKeys = getDisplayMetrics(metrics).map(metric => metric.key);\n\n      // eslint-disable-next-line promise/no-nesting\n      return getMeasures({\n        component: this.props.sourceViewerFile.key,\n        metricKeys: metricKeys.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      }).then(measures => {\n        const withMetrics = enhanceMeasuresWithMetrics(measures, metrics).filter(\n          measure => measure.metric\n        );\n        return keyBy(withMetrics, measure => measure.metric.key);\n      });\n    });\n  };\n\n  fetchIssues = () => {\n    return getFacets(\n      {\n        componentKeys: this.props.sourceViewerFile.key,\n        resolved: 'false',\n        ...getBranchLikeQuery(this.props.branchLike)\n      },\n      ['types', 'severities', 'tags']\n    ).then(({ facets }) => {\n      const severitiesFacet = facets.find(f => f.property === 'severities');\n      const tagsFacet = facets.find(f => f.property === 'tags');\n      const typesFacet = facets.find(f => f.property === 'types');\n      return {\n        severitiesFacet: severitiesFacet && severitiesFacet.values,\n        tagsFacet: tagsFacet && tagsFacet.values,\n        typesFacet: typesFacet && (typesFacet.values as T.FacetValue<T.IssueType>[])\n      };\n    });\n  };\n\n  handleAllMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ showAllMeasures: true });\n  };\n\n  renderMeasure = (measure: T.MeasureEnhanced | undefined) => {\n    return measure ? <MeasuresOverlayMeasure key={measure.metric.key} measure={measure} /> : null;\n  };\n\n  renderLines = () => {\n    const { measures } = this.state;\n\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(measures.lines)}\n              {this.renderMeasure(measures.ncloc)}\n              {this.renderMeasure(measures.comment_lines)}\n              {this.renderMeasure(measures.comment_lines_density)}\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(measures.cognitive_complexity)}\n              {this.renderMeasure(measures.complexity)}\n              {this.renderMeasure(measures.function_complexity)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderBigMeasure = (measure: T.MeasureEnhanced | undefined) => {\n    return measure ? (\n      <div className=\"measure measure-big\" data-metric={measure.metric.key}>\n        <span className=\"measure-value\">\n          <Measure\n            metricKey={measure.metric.key}\n            metricType={measure.metric.type}\n            value={measure.value}\n          />\n        </span>\n        <span className=\"measure-name\">{getLocalizedMetricName(measure.metric, true)}</span>\n      </div>\n    ) : null;\n  };\n\n  renderIssues = () => {\n    const { measures, severitiesFacet, tagsFacet, typesFacet } = this.state;\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            {this.renderBigMeasure(measures.violations)}\n            {this.renderBigMeasure(measures.sqale_index)}\n          </div>\n          {measures.violations &&\n            !!measures.violations.value && (\n              <>\n                {typesFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {sortBy(typesFacet, f => ISSUE_TYPES.indexOf(f.val)).map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <IssueTypeIcon className=\"little-spacer-right\" query={f.val} />\n                            {translate('issue.type', f.val)}\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {severitiesFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {sortBy(severitiesFacet, f => SEVERITIES.indexOf(f.val)).map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <SeverityHelper severity={f.val} />\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                {tagsFacet && (\n                  <div className=\"measures\">\n                    <div className=\"measures-list\">\n                      {tagsFacet.map(f => (\n                        <div className=\"measure measure-one-line\" key={f.val}>\n                          <span className=\"measure-name\">\n                            <TagsIcon className=\"little-spacer-right\" />\n                            {f.val}\n                          </span>\n                          <span className=\"measure-value\">\n                            {formatMeasure(f.count, 'SHORT_INT')}\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </>\n            )}\n        </div>\n      </div>\n    );\n  };\n\n  renderCoverage = () => {\n    const { coverage } = this.state.measures;\n    if (!coverage) {\n      return null;\n    }\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <CoverageRating size=\"big\" value={coverage.value} />\n            </div>\n            <div className=\"measure measure-big\" data-metric={coverage.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={coverage.metric.key}\n                  metricType={coverage.metric.type}\n                  value={coverage.value}\n                />\n              </span>\n              <span className=\"measure-name\">{getLocalizedMetricName(coverage.metric)}</span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(this.state.measures.uncovered_lines)}\n              {this.renderMeasure(this.state.measures.lines_to_cover)}\n              {this.renderMeasure(this.state.measures.uncovered_conditions)}\n              {this.renderMeasure(this.state.measures.conditions_to_cover)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDuplications = () => {\n    const { duplicated_lines_density: duplications } = this.state.measures;\n    if (!duplications) {\n      return null;\n    }\n    return (\n      <div className=\"source-viewer-measures-section\">\n        <div className=\"source-viewer-measures-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <DuplicationsRating\n                muted={duplications.value === undefined}\n                size=\"big\"\n                value={Number(duplications.value || 0)}\n              />\n            </div>\n            <div className=\"measure measure-big\" data-metric={duplications.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={duplications.metric.key}\n                  metricType={duplications.metric.type}\n                  value={duplications.value}\n                />\n              </span>\n              <span className=\"measure-name\">\n                {getLocalizedMetricName(duplications.metric, true)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            <div className=\"measures-list\">\n              {this.renderMeasure(this.state.measures.duplicated_blocks)}\n              {this.renderMeasure(this.state.measures.duplicated_lines)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderTests = () => {\n    const { measures } = this.state;\n    return (\n      <div className=\"source-viewer-measures\">\n        <div className=\"source-viewer-measures-section\">\n          <div className=\"source-viewer-measures-card\">\n            <div className=\"measures\">\n              <div className=\"measures-list\">\n                {this.renderMeasure(measures.tests)}\n                {this.renderMeasure(measures.test_success_density)}\n                {this.renderMeasure(measures.test_failures)}\n                {this.renderMeasure(measures.test_errors)}\n                {this.renderMeasure(measures.skipped_tests)}\n                {this.renderMeasure(measures.test_execution_time)}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDomain = (domain: string, measures: T.MeasureEnhanced[]) => {\n    return (\n      <div className=\"source-viewer-measures-card\" key={domain}>\n        <div className=\"measures\">\n          <div className=\"measures-list\">\n            <div className=\"measure measure-one-line measure-big\">\n              <span className=\"measure-name\">{domain}</span>\n            </div>\n            {sortBy(measures.filter(measure => measure.value !== undefined), measure =>\n              getLocalizedMetricName(measure.metric)\n            ).map(measure => this.renderMeasure(measure))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderAllMeasures = () => {\n    const domains = groupBy(Object.values(this.state.measures), measure => measure.metric.domain);\n    const domainKeys = Object.keys(domains);\n    const odd = domainKeys.filter((_, index) => index % 2 === 1);\n    const even = domainKeys.filter((_, index) => index % 2 === 0);\n    return (\n      <div className=\"source-viewer-measures source-viewer-measures-secondary js-all-measures\">\n        <div className=\"source-viewer-measures-section source-viewer-measures-section-big\">\n          {odd.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n        <div className=\"source-viewer-measures-section source-viewer-measures-section-big\">\n          {even.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { branchLike, sourceViewerFile } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <Modal contentLabel=\"\" large={true} onRequestClose={this.props.onClose}>\n        <div className=\"modal-container source-viewer-measures-modal\">\n          <div className=\"source-viewer-header-component source-viewer-measures-component\">\n            <div className=\"source-viewer-header-component-project\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n              <Link to={getBranchLikeUrl(sourceViewerFile.project, branchLike)}>\n                {sourceViewerFile.projectName}\n              </Link>\n\n              {sourceViewerFile.subProject && (\n                <>\n                  <QualifierIcon className=\"big-spacer-left little-spacer-right\" qualifier=\"BRC\" />\n                  <Link to={getBranchLikeUrl(sourceViewerFile.subProject, branchLike)}>\n                    {sourceViewerFile.subProjectName}\n                  </Link>\n                </>\n              )}\n            </div>\n\n            <div className=\"source-viewer-header-component-name\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier={sourceViewerFile.q} />\n              {sourceViewerFile.path}\n            </div>\n          </div>\n\n          {loading ? (\n            <i className=\"spinner\" />\n          ) : (\n            <>\n              {sourceViewerFile.q === 'UTS' ? (\n                this.renderTests()\n              ) : (\n                <div className=\"source-viewer-measures\">\n                  {this.renderLines()}\n                  {this.renderIssues()}\n                  {this.renderCoverage()}\n                  {this.renderDuplications()}\n                </div>\n              )}\n            </>\n          )}\n\n          <div className=\"spacer-top\">\n            {this.state.showAllMeasures ? (\n              this.renderAllMeasures()\n            ) : (\n              <a className=\"js-show-all-measures\" href=\"#\" onClick={this.handleAllMeasuresClick}>\n                {translate('component_viewer.show_all_measures')}\n              </a>\n            )}\n          </div>\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"button-link\" onClick={this.props.onClose}>\n            {translate('close')}\n          </Button>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport MeasuresOverlay from './components/MeasuresOverlay';\nimport QualifierIcon from '../icons-components/QualifierIcon';\nimport Dropdown from '../controls/Dropdown';\nimport Favorite from '../controls/Favorite';\nimport ListIcon from '../icons-components/ListIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { PopupPlacement } from '../ui/popups';\nimport { WorkspaceContextShape } from '../workspace/context';\nimport {\n  getPathUrlAsString,\n  getBranchLikeUrl,\n  getComponentIssuesUrl,\n  getBaseUrl\n} from '../../helpers/urls';\nimport { collapsedDirFromPath, fileFromPath } from '../../helpers/path';\nimport { translate } from '../../helpers/l10n';\nimport { getBranchLikeQuery, isMainBranch } from '../../helpers/branches';\nimport { formatMeasure } from '../../helpers/measures';\nimport { omitNil } from '../../helpers/request';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  openComponent: WorkspaceContextShape['openComponent'];\n  sourceViewerFile: T.SourceViewerFile;\n}\n\ninterface State {\n  measuresOverlay: boolean;\n}\n\nexport default class SourceViewerHeader extends React.PureComponent<Props, State> {\n  state: State = { measuresOverlay: false };\n\n  handleShowMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ measuresOverlay: true });\n  };\n\n  handleMeasuresOverlayClose = () => {\n    this.setState({ measuresOverlay: false });\n  };\n\n  openInWorkspace = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const { key } = this.props.sourceViewerFile;\n    this.props.openComponent({ branchLike: this.props.branchLike, key });\n  };\n\n  render() {\n    const {\n      key,\n      measures,\n      path,\n      project,\n      projectName,\n      q,\n      subProject,\n      subProjectName,\n      uuid\n    } = this.props.sourceViewerFile;\n    const isUnitTest = q === 'UTS';\n    const workspace = false;\n    const rawSourcesLink =\n      getBaseUrl() +\n      '/api/sources/raw?' +\n      stringify(omitNil({ key, ...getBranchLikeQuery(this.props.branchLike) }));\n\n    // TODO favorite\n    return (\n      <div className=\"source-viewer-header\">\n        <div className=\"source-viewer-header-component\">\n          <div className=\"component-name\">\n            <div className=\"component-name-parent\">\n              <a\n                className=\"link-with-icon\"\n                href={getPathUrlAsString(getBranchLikeUrl(project, this.props.branchLike))}>\n                <QualifierIcon qualifier=\"TRK\" /> <span>{projectName}</span>\n              </a>\n            </div>\n\n            {subProject != null && (\n              <div className=\"component-name-parent\">\n                <a\n                  className=\"link-with-icon\"\n                  href={getPathUrlAsString(getBranchLikeUrl(subProject, this.props.branchLike))}>\n                  <QualifierIcon qualifier=\"BRC\" /> <span>{subProjectName}</span>\n                </a>\n              </div>\n            )}\n\n            <div className=\"component-name-path\">\n              <QualifierIcon qualifier={q} /> <span>{collapsedDirFromPath(path)}</span>\n              <span className=\"component-name-file\">{fileFromPath(path)}</span>\n              {this.props.sourceViewerFile.canMarkAsFavorite &&\n                (!this.props.branchLike || isMainBranch(this.props.branchLike)) && (\n                  <Favorite\n                    className=\"component-name-favorite\"\n                    component={key}\n                    favorite={this.props.sourceViewerFile.fav || false}\n                    qualifier={this.props.sourceViewerFile.q}\n                  />\n                )}\n            </div>\n          </div>\n        </div>\n\n        <Dropdown\n          className=\"source-viewer-header-actions\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a className=\"js-measures\" href=\"#\" onClick={this.handleShowMeasuresClick}>\n                  {translate('component_viewer.show_details')}\n                </a>\n              </li>\n              <li>\n                <a\n                  className=\"js-new-window\"\n                  href={getPathUrlAsString({\n                    pathname: '/component',\n                    query: { id: key, ...getBranchLikeQuery(this.props.branchLike) }\n                  })}\n                  target=\"_blank\">\n                  {translate('component_viewer.new_window')}\n                </a>\n              </li>\n              {!workspace && (\n                <li>\n                  <a className=\"js-workspace\" href=\"#\" onClick={this.openInWorkspace}>\n                    {translate('component_viewer.open_in_workspace')}\n                  </a>\n                </li>\n              )}\n              <li>\n                <a className=\"js-raw-source\" href={rawSourcesLink} target=\"_blank\">\n                  {translate('component_viewer.show_raw_source')}\n                </a>\n              </li>\n            </ul>\n          }\n          overlayPlacement={PopupPlacement.BottomRight}>\n          <ButtonIcon className=\"js-actions\">\n            <ListIcon />\n          </ButtonIcon>\n        </Dropdown>\n\n        {this.state.measuresOverlay && (\n          <MeasuresOverlay\n            branchLike={this.props.branchLike}\n            onClose={this.handleMeasuresOverlayClose}\n            sourceViewerFile={this.props.sourceViewerFile}\n          />\n        )}\n\n        <div className=\"source-viewer-header-measures\">\n          {isUnitTest && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.tests, 'SHORT_INT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.tests.name')}\n              </span>\n            </div>\n          )}\n\n          {!isUnitTest && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.lines, 'SHORT_INT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.lines.name')}\n              </span>\n            </div>\n          )}\n\n          <div className=\"source-viewer-header-measure\">\n            <span className=\"source-viewer-header-measure-value\">\n              <Link\n                to={getComponentIssuesUrl(project, {\n                  resolved: 'false',\n                  fileUuids: uuid,\n                  ...getBranchLikeQuery(this.props.branchLike)\n                })}>\n                {measures.issues != null ? formatMeasure(measures.issues, 'SHORT_INT') : 0}\n              </Link>\n            </span>\n            <span className=\"source-viewer-header-measure-label\">\n              {translate('metric.violations.name')}\n            </span>\n          </div>\n\n          {measures.coverage != null && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.coverage, 'PERCENT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('metric.coverage.name')}\n              </span>\n            </div>\n          )}\n\n          {measures.duplicationDensity != null && (\n            <div className=\"source-viewer-header-measure\">\n              <span className=\"source-viewer-header-measure-value\">\n                {formatMeasure(measures.duplicationDensity, 'PERCENT')}\n              </span>\n              <span className=\"source-viewer-header-measure-label\">\n                {translate('duplications')}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport { PopupPlacement } from '../../ui/popups';\nimport { translate } from '../../../helpers/l10n';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  componentKey: string;\n  line: T.SourceLine;\n}\n\nexport default function LineOptionsPopup({ branchLike, componentKey, line }: Props) {\n  const permalink = {\n    pathname: '/component',\n    query: { id: componentKey, line: line.line, ...getBranchLikeQuery(branchLike) }\n  };\n  return (\n    <DropdownOverlay placement={PopupPlacement.RightTop}>\n      <div className=\"source-viewer-bubble-popup nowrap\">\n        <Link className=\"js-get-permalink\" to={permalink}>\n          {translate('component_viewer.get_permalink')}\n        </Link>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LineOptionsPopup from './LineOptionsPopup';\nimport Toggler from '../../controls/Toggler';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  componentKey: string;\n  line: T.SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n}\n\nexport default class LineNumber extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { branchLike, componentKey, line, popupOpen } = this.props;\n    const { line: lineNumber } = line;\n    const hasLineNumber = !!lineNumber;\n    return hasLineNumber ? (\n      <td\n        className=\"source-meta source-line-number\"\n        data-line-number={lineNumber}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={\n            <LineOptionsPopup branchLike={branchLike} componentKey={componentKey} line={line} />\n          }\n        />\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-number\" />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport DateFormatter from '../../intl/DateFormatter';\nimport { PopupPlacement } from '../../ui/popups';\n\ninterface Props {\n  line: T.SourceLine;\n}\n\nexport default function SCMPopup({ line }: Props) {\n  const hasAuthor = line.scmAuthor !== '';\n  return (\n    <DropdownOverlay placement={PopupPlacement.RightTop}>\n      <div className=\"source-viewer-bubble-popup abs-width-400\">\n        {hasAuthor && <div>{line.scmAuthor}</div>}\n        {line.scmDate && (\n          <div className={classNames({ 'spacer-top': hasAuthor })}>\n            <DateFormatter date={line.scmDate} />\n          </div>\n        )}\n        {line.scmRevision && <div className=\"spacer-top\">{line.scmRevision}</div>}\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SCMPopup from './SCMPopup';\nimport Toggler from '../../controls/Toggler';\n\ninterface Props {\n  line: T.SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n  previousLine: T.SourceLine | undefined;\n}\n\nexport default class LineSCM extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { line, popupOpen, previousLine } = this.props;\n    const hasPopup = !!line.line;\n    const cell = isSCMChanged(line, previousLine) && (\n      <div className=\"source-line-scm-inner\" data-author={line.scmAuthor || '…'} />\n    );\n    return hasPopup ? (\n      <td\n        className=\"source-meta source-line-scm\"\n        data-line-number={line.line}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={<SCMPopup line={line} />}>\n          {cell}\n        </Toggler>\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-scm\" data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n\nfunction isSCMChanged(s: T.SourceLine, p: T.SourceLine | undefined) {\n  let changed = true;\n  if (p != null && s.scmRevision != null && p.scmRevision != null) {\n    changed = s.scmRevision !== p.scmRevision || s.scmDate !== p.scmDate;\n  }\n  return changed;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  line: T.SourceLine;\n}\n\nexport default function LineCoverage({ line }: Props) {\n  const className =\n    'source-meta source-line-coverage' +\n    (line.coverageStatus != null ? ` source-line-${line.coverageStatus}` : '');\n  return (\n    <td className={className} data-line-number={line.line}>\n      <Tooltip overlay={getStatusTooltip(line)} placement=\"right\">\n        <div className=\"source-line-bar\" />\n      </Tooltip>\n    </td>\n  );\n}\n\nfunction getStatusTooltip(line: T.SourceLine) {\n  if (line.coverageStatus === 'uncovered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.uncovered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.uncovered');\n    }\n  } else if (line.coverageStatus === 'covered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.covered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.covered');\n    }\n  } else if (line.coverageStatus === 'partially-covered') {\n    if (line.conditions) {\n      return translateWithParameters(\n        'source_viewer.tooltip.partially-covered.conditions',\n        line.coveredConditions || 0,\n        line.conditions\n      );\n    } else {\n      return translate('source_viewer.tooltip.partially-covered');\n    }\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../controls/Tooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  line: T.SourceLine;\n  onClick: (line: T.SourceLine) => void;\n}\n\nexport default class LineDuplications extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.line);\n  };\n\n  render() {\n    const { line } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications', {\n      'source-line-duplicated': line.duplicated\n    });\n\n    const cell = (\n      <td\n        className={className}\n        onClick={line.duplicated ? this.handleClick : undefined}\n        role={line.duplicated ? 'button' : undefined}\n        tabIndex={line.duplicated ? 0 : undefined}>\n        <div className=\"source-line-bar\" />\n      </td>\n    );\n\n    return line.duplicated ? (\n      <Tooltip overlay={translate('source_viewer.tooltip.duplicated_line')} placement=\"right\">\n        {cell}\n      </Tooltip>\n    ) : (\n      cell\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from '../../controls/Tooltip';\nimport Toggler from '../../controls/Toggler';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  duplicated: boolean;\n  index: number;\n  line: T.SourceLine;\n  onPopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  popupOpen: boolean;\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n}\n\nexport default class LineDuplicationBlock extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications'\n    });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications',\n      open\n    });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { duplicated, index, line, popupOpen } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications-extra', {\n      'source-line-duplicated': duplicated\n    });\n\n    return duplicated ? (\n      <td className={className} data-index={index} data-line-number={line.line}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={this.props.renderDuplicationPopup(index, line.line)}>\n          <Tooltip\n            overlay={popupOpen ? undefined : translate('source_viewer.tooltip.duplicated_block')}\n            placement=\"right\">\n            <div\n              className=\"source-line-bar\"\n              onClick={this.handleClick}\n              role=\"button\"\n              tabIndex={0}\n            />\n          </Tooltip>\n        </Toggler>\n      </td>\n    ) : (\n      <td className={className} data-index={index} data-line-number={line.line}>\n        <div className=\"source-line-bar\" />\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport SeverityIcon from '../../icons-components/SeverityIcon';\nimport { sortBySeverity } from '../../../helpers/issues';\n\ninterface Props {\n  issues: T.Issue[];\n  line: T.SourceLine;\n  onClick: () => void;\n}\n\nexport default class LineIssuesIndicator extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick();\n  };\n\n  render() {\n    const { issues, line } = this.props;\n    const hasIssues = issues.length > 0;\n    const className = classNames('source-meta', 'source-line-issues', {\n      'source-line-with-issues': hasIssues\n    });\n    const mostImportantIssue = hasIssues ? sortBySeverity(issues)[0] : null;\n\n    return (\n      <td\n        className={className}\n        data-line-number={line.line}\n        onClick={hasIssues ? this.handleClick : undefined}\n        role={hasIssues ? 'button' : undefined}\n        tabIndex={hasIssues ? 0 : undefined}>\n        {mostImportantIssue != null && <SeverityIcon severity={mostImportantIssue.severity} />}\n        {issues.length > 1 && <span className=\"source-line-issues-counter\">{issues.length}</span>}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../issue/Issue';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueClick: (issueKey: string) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  selectedIssue: string | undefined;\n}\n\nexport default function LineIssuesList(props: Props) {\n  const { issuePopup } = props;\n\n  return (\n    <div className=\"issue-list\">\n      {props.issues.map(issue => (\n        <Issue\n          branchLike={props.branchLike}\n          displayLocationsCount={props.displayIssueLocationsCount}\n          displayLocationsLink={props.displayIssueLocationsLink}\n          issue={issue}\n          key={issue.key}\n          onChange={props.onIssueChange}\n          onClick={props.onIssueClick}\n          onPopupToggle={props.onIssuePopupToggle}\n          openPopup={issuePopup && issuePopup.issue === issue.key ? issuePopup.name : undefined}\n          selected={props.selectedIssue === issue.key}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\n\nexport interface Token {\n  className: string;\n  markers: number[];\n  text: string;\n}\n\nconst ISSUE_LOCATION_CLASS = 'source-line-code-issue';\n\nexport function splitByTokens(code: string, rootClassName = ''): Token[] {\n  const container = document.createElement('div');\n  let tokens: Token[] = [];\n  container.innerHTML = code;\n  [].forEach.call(container.childNodes, (node: Element) => {\n    if (node.nodeType === 1) {\n      // ELEMENT NODE\n      const fullClassName = rootClassName ? rootClassName + ' ' + node.className : node.className;\n      const innerTokens = splitByTokens(node.innerHTML, fullClassName);\n      tokens = tokens.concat(innerTokens);\n    }\n    if (node.nodeType === 3 && node.nodeValue) {\n      // TEXT NODE\n      tokens.push({ className: rootClassName, markers: [], text: node.nodeValue });\n    }\n  });\n  return tokens;\n}\n\nexport function highlightSymbol(tokens: Token[], symbol: string): Token[] {\n  const symbolRegExp = new RegExp(`\\\\b${symbol}\\\\b`);\n  return tokens.map(\n    token =>\n      symbolRegExp.test(token.className)\n        ? { ...token, className: `${token.className} highlighted` }\n        : token\n  );\n}\n\n/**\n * Intersect two ranges\n * @param s1 Start position of the first range\n * @param e1 End position of the first range\n * @param s2 Start position of the second range\n * @param e2 End position of the second range\n */\nfunction intersect(s1: number, e1: number, s2: number, e2: number) {\n  return { from: Math.max(s1, s2), to: Math.min(e1, e2) };\n}\n\n/**\n * Get the substring of a string\n * @param str A string\n * @param from \"From\" offset\n * @param to \"To\" offset\n * @param acc Global offset to eliminate\n */\nfunction part(str: string, from: number, to: number, acc: number): string {\n  // we do not want negative number as the first argument of `substr`\n  return from >= acc ? str.substr(from - acc, to - from) : str.substr(0, to - from);\n}\n\n/**\n * Highlight issue locations in the list of tokens\n */\nexport function highlightIssueLocations(\n  tokens: Token[],\n  issueLocations: T.LinearIssueLocation[],\n  rootClassName: string = ISSUE_LOCATION_CLASS\n): Token[] {\n  issueLocations.forEach(location => {\n    const nextTokens: Token[] = [];\n    let acc = 0;\n    let markerAdded = location.line !== location.startLine;\n    tokens.forEach(token => {\n      const x = intersect(acc, acc + token.text.length, location.from, location.to);\n      const p1 = part(token.text, acc, x.from, acc);\n      const p2 = part(token.text, x.from, x.to, acc);\n      const p3 = part(token.text, x.to, acc + token.text.length, acc);\n      if (p1.length) {\n        nextTokens.push({ ...token, text: p1 });\n      }\n      if (p2.length) {\n        const newClassName =\n          token.className.indexOf(rootClassName) === -1\n            ? `${token.className} ${rootClassName}`\n            : token.className;\n        nextTokens.push({\n          className: newClassName,\n          markers:\n            !markerAdded && location.index != null\n              ? uniq([...token.markers, location.index])\n              : token.markers,\n          text: p2\n        });\n        markerAdded = true;\n      }\n      if (p3.length) {\n        nextTokens.push({ ...token, text: p3 });\n      }\n      acc += token.text.length;\n    });\n    tokens = nextTokens.slice();\n  });\n  return tokens;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport LineIssuesList from './LineIssuesList';\nimport LocationIndex from '../../common/LocationIndex';\nimport LocationMessage from '../../common/LocationMessage';\nimport {\n  highlightIssueLocations,\n  highlightSymbol,\n  splitByTokens,\n  Token\n} from '../helpers/highlight';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  line: T.SourceLine;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: Array<string>) => void;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: Array<{\n    from: number;\n    to: number;\n    line: number;\n    index: number;\n    startLine: number;\n  }>;\n  selectedIssue: string | undefined;\n  showIssues?: boolean;\n}\n\ninterface State {\n  tokens: Token[];\n}\n\nexport default class LineCode extends React.PureComponent<Props, State> {\n  activeMarkerNode?: HTMLElement | null;\n  codeNode?: HTMLElement | null;\n  symbols?: NodeListOf<HTMLElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tokens: splitByTokens(props.line.code || '')\n    };\n  }\n\n  componentDidMount() {\n    this.attachEvents();\n    if (this.props.highlightedLocationMessage && this.activeMarkerNode && this.props.scroll) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.line.code !== this.props.line.code) {\n      this.setState({\n        tokens: splitByTokens(nextProps.line.code || '')\n      });\n    }\n  }\n\n  componentWillUpdate() {\n    this.detachEvents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.attachEvents();\n    if (\n      this.props.highlightedLocationMessage &&\n      prevProps.highlightedLocationMessage !== this.props.highlightedLocationMessage &&\n      this.activeMarkerNode &&\n      this.props.scroll\n    ) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachEvents();\n  }\n\n  attachEvents() {\n    if (this.codeNode) {\n      this.symbols = this.codeNode.querySelectorAll('.sym');\n      if (this.symbols) {\n        for (let i = 0; i < this.symbols.length; i++) {\n          const symbol = this.symbols[i];\n          symbol.addEventListener('click', this.handleSymbolClick);\n        }\n      }\n    }\n  }\n\n  detachEvents() {\n    if (this.symbols) {\n      for (let i = 0; i < this.symbols.length; i++) {\n        const symbol = this.symbols[i];\n        symbol.addEventListener('click', this.handleSymbolClick);\n      }\n    }\n  }\n\n  handleSymbolClick = (event: MouseEvent) => {\n    event.preventDefault();\n    const keys = (event.currentTarget as HTMLElement).className.match(/sym-\\d+/g);\n    if (keys && keys.length > 0) {\n      this.props.onSymbolClick(keys);\n    }\n  };\n\n  renderMarker(index: number, message: string | undefined, selected: boolean, leading: boolean) {\n    const { onLocationSelect } = this.props;\n    const onClick = onLocationSelect ? () => onLocationSelect(index) : undefined;\n    const ref = selected ? (node: HTMLElement | null) => (this.activeMarkerNode = node) : undefined;\n    return (\n      <LocationIndex\n        key={`marker-${index}`}\n        leading={leading}\n        onClick={onClick}\n        selected={selected}>\n        <span ref={ref}>{index + 1}</span>\n        {message && <LocationMessage selected={true}>{message}</LocationMessage>}\n      </LocationIndex>\n    );\n  }\n\n  render() {\n    const {\n      highlightedLocationMessage,\n      highlightedSymbols,\n      issues,\n      issueLocations,\n      line,\n      onIssueSelect,\n      secondaryIssueLocations,\n      selectedIssue,\n      showIssues\n    } = this.props;\n\n    let tokens = [...this.state.tokens];\n\n    if (highlightedSymbols) {\n      highlightedSymbols.forEach(symbol => {\n        tokens = highlightSymbol(tokens, symbol);\n      });\n    }\n\n    if (issueLocations.length > 0) {\n      tokens = highlightIssueLocations(tokens, issueLocations);\n    }\n\n    if (secondaryIssueLocations) {\n      tokens = highlightIssueLocations(tokens, secondaryIssueLocations, 'issue-location');\n\n      if (highlightedLocationMessage) {\n        const location = secondaryIssueLocations.find(\n          location => location.index === highlightedLocationMessage.index\n        );\n        if (location) {\n          tokens = highlightIssueLocations(tokens, [location], 'selected');\n        }\n      }\n    }\n\n    const className = classNames('source-line-code', 'code', {\n      'has-issues': issues.length > 0\n    });\n\n    const renderedTokens: React.ReactNode[] = [];\n\n    // track if the first marker is displayed before the source code\n    // set `false` for the first token in a row\n    let leadingMarker = false;\n\n    tokens.forEach((token, index) => {\n      if (this.props.displayLocationMarkers && token.markers.length > 0) {\n        token.markers.forEach(marker => {\n          const selected =\n            highlightedLocationMessage !== undefined && highlightedLocationMessage.index === marker;\n          const message = selected ? highlightedLocationMessage!.text : undefined;\n          renderedTokens.push(this.renderMarker(marker, message, selected, leadingMarker));\n        });\n      }\n      renderedTokens.push(\n        <span className={token.className} key={index}>\n          {token.text}\n        </span>\n      );\n\n      // keep leadingMarker truthy if previous token has only whitespaces\n      leadingMarker = (index === 0 ? true : leadingMarker) && !token.text.trim().length;\n    });\n\n    return (\n      <td className={className} data-line-number={line.line}>\n        <div className=\"source-line-code-inner\">\n          <pre ref={node => (this.codeNode = node)}>{renderedTokens}</pre>\n        </div>\n        {showIssues &&\n          issues.length > 0 && (\n            <LineIssuesList\n              branchLike={this.props.branchLike}\n              displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n              displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n              issuePopup={this.props.issuePopup}\n              issues={issues}\n              onIssueChange={this.props.onIssueChange}\n              onIssueClick={onIssueSelect}\n              onIssuePopupToggle={this.props.onIssuePopupToggle}\n              selectedIssue={selectedIssue}\n            />\n          )}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { times } from 'lodash';\nimport LineNumber from './LineNumber';\nimport LineSCM from './LineSCM';\nimport LineCoverage from './LineCoverage';\nimport LineDuplications from './LineDuplications';\nimport LineDuplicationBlock from './LineDuplicationBlock';\nimport LineIssuesIndicator from './LineIssuesIndicator';\nimport LineCode from './LineCode';\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  componentKey: string;\n  displayAllIssues?: boolean;\n  displayCoverage: boolean;\n  displayDuplications: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayIssues: boolean;\n  displayLocationMarkers?: boolean;\n  duplications: number[];\n  duplicationsCount: number;\n  highlighted: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  last: boolean;\n  line: T.SourceLine;\n  linePopup: { index?: number; line: number; name: string } | undefined;\n  loadDuplications: (line: T.SourceLine) => void;\n  onLinePopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issueKey: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: T.SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: T.SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLocationSelect: ((x: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssues: boolean;\n  previousLine: T.SourceLine | undefined;\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: Array<{\n    from: number;\n    to: number;\n    line: number;\n    index: number;\n    startLine: number;\n  }>;\n  selectedIssue: string | undefined;\n}\n\nexport default class Line extends React.PureComponent<Props> {\n  isPopupOpen = (name: string, index?: number) => {\n    const { line, linePopup } = this.props;\n    return (\n      linePopup !== undefined &&\n      linePopup.index === index &&\n      linePopup.line === line.line &&\n      linePopup.name === name\n    );\n  };\n\n  handleIssuesIndicatorClick = () => {\n    if (this.props.openIssues) {\n      this.props.onIssuesClose(this.props.line);\n      this.props.onIssueUnselect();\n    } else {\n      this.props.onIssuesOpen(this.props.line);\n\n      const { issues } = this.props;\n      if (issues.length > 0) {\n        this.props.onIssueSelect(issues[0].key);\n      }\n    }\n  };\n\n  render() {\n    const { displayCoverage, duplications, duplicationsCount, issuePopup, line } = this.props;\n    const className = classNames('source-line', {\n      'source-line-highlighted': this.props.highlighted,\n      'source-line-filtered': line.isNew,\n      'source-line-filtered-dark':\n        displayCoverage &&\n        (line.coverageStatus === 'uncovered' || line.coverageStatus === 'partially-covered'),\n      'source-line-last': this.props.last\n    });\n\n    return (\n      <tr className={className} data-line-number={line.line}>\n        <LineNumber\n          branchLike={this.props.branchLike}\n          componentKey={this.props.componentKey}\n          line={line}\n          onPopupToggle={this.props.onLinePopupToggle}\n          popupOpen={this.isPopupOpen('line-number')}\n        />\n\n        <LineSCM\n          line={line}\n          onPopupToggle={this.props.onLinePopupToggle}\n          popupOpen={this.isPopupOpen('scm')}\n          previousLine={this.props.previousLine}\n        />\n\n        {this.props.displayCoverage && <LineCoverage line={line} />}\n\n        {this.props.displayDuplications && (\n          <LineDuplications line={line} onClick={this.props.loadDuplications} />\n        )}\n\n        {times(duplicationsCount, index => (\n          <LineDuplicationBlock\n            duplicated={duplications.includes(index)}\n            index={index}\n            key={index}\n            line={this.props.line}\n            onPopupToggle={this.props.onLinePopupToggle}\n            popupOpen={this.isPopupOpen('duplications', index)}\n            renderDuplicationPopup={this.props.renderDuplicationPopup}\n          />\n        ))}\n\n        {this.props.displayIssues &&\n          !this.props.displayAllIssues && (\n            <LineIssuesIndicator\n              issues={this.props.issues}\n              line={line}\n              onClick={this.handleIssuesIndicatorClick}\n            />\n          )}\n\n        <LineCode\n          branchLike={this.props.branchLike}\n          displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n          displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n          displayLocationMarkers={this.props.displayLocationMarkers}\n          highlightedLocationMessage={this.props.highlightedLocationMessage}\n          highlightedSymbols={this.props.highlightedSymbols}\n          issueLocations={this.props.issueLocations}\n          issuePopup={issuePopup}\n          issues={this.props.issues}\n          line={line}\n          onIssueChange={this.props.onIssueChange}\n          onIssuePopupToggle={this.props.onIssuePopupToggle}\n          onIssueSelect={this.props.onIssueSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          onSymbolClick={this.props.onSymbolClick}\n          scroll={this.props.scroll}\n          secondaryIssueLocations={this.props.secondaryIssueLocations}\n          selectedIssue={this.props.selectedIssue}\n          showIssues={this.props.openIssues || this.props.displayAllIssues}\n        />\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport function getLinearLocations(textRange: T.TextRange | undefined): T.LinearIssueLocation[] {\n  if (!textRange) {\n    return [];\n  }\n  const locations = [];\n\n  // go through all lines of the `textRange`\n  for (let line = textRange.startLine; line <= textRange.endLine; line++) {\n    // TODO fix 999999\n    const from = line === textRange.startLine ? textRange.startOffset : 0;\n    const to = line === textRange.endLine ? textRange.endOffset : 999999;\n    locations.push({ line, from, to });\n  }\n  return locations;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { intersection } from 'lodash';\nimport Line from './components/Line';\nimport { getLinearLocations } from './helpers/issueLocations';\nimport { translate } from '../../helpers/l10n';\nimport { Button } from '../ui/buttons';\n\nconst EMPTY_ARRAY: any[] = [];\n\nconst ZERO_LINE = {\n  code: '',\n  duplicated: false,\n  isNew: false,\n  line: 0\n};\n\ninterface Props {\n  branchLike: T.BranchLike | undefined;\n  componentKey: string;\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  duplications: T.Duplication[] | undefined;\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  hasSourcesBefore: boolean;\n  highlightedLine: number | undefined;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintain the location indexes\n  highlightedLocations: (T.FlowLocation | undefined)[] | undefined;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: T.LinearIssueLocation[] };\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[] | undefined;\n  issuesByLine: { [line: number]: T.Issue[] };\n  linePopup: { index?: number; line: number; name: string } | undefined;\n  loadDuplications: (line: T.SourceLine) => void;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  loadSourcesAfter: () => void;\n  loadSourcesBefore: () => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: T.SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: T.SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLinePopupToggle: (x: { index?: number; line: number; name: string; open?: boolean }) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssuesByLine: { [line: number]: boolean };\n  renderDuplicationPopup: (index: number, line: number) => JSX.Element;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue: string | undefined;\n  sources: T.SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nexport default class SourceViewerCode extends React.PureComponent<Props> {\n  getDuplicationsForLine = (line: T.SourceLine): number[] => {\n    return this.props.duplicationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssuesForLine = (line: T.SourceLine): T.Issue[] => {\n    return this.props.issuesByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssueLocationsForLine = (line: T.SourceLine): T.LinearIssueLocation[] => {\n    return this.props.issueLocationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getSecondaryIssueLocationsForLine = (line: T.SourceLine): T.LinearIssueLocation[] => {\n    const { highlightedLocations } = this.props;\n    if (!highlightedLocations) {\n      return EMPTY_ARRAY;\n    }\n    return highlightedLocations.reduce((locations, location, index) => {\n      const linearLocations: T.LinearIssueLocation[] = location\n        ? getLinearLocations(location.textRange)\n            .filter(l => l.line === line.line)\n            .map(l => ({ ...l, startLine: location.textRange.startLine, index }))\n        : [];\n      return [...locations, ...linearLocations];\n    }, []);\n  };\n\n  renderLine = ({\n    line,\n    index,\n    displayCoverage,\n    displayDuplications,\n    displayIssues\n  }: {\n    line: T.SourceLine;\n    index: number;\n    displayCoverage: boolean;\n    displayDuplications: boolean;\n    displayIssues: boolean;\n  }) => {\n    const { highlightedLocationMessage, selectedIssue, sources } = this.props;\n\n    const secondaryIssueLocations = this.getSecondaryIssueLocationsForLine(line);\n\n    const duplicationsCount = this.props.duplications ? this.props.duplications.length : 0;\n\n    const issuesForLine = this.getIssuesForLine(line);\n\n    // for the following properties pass null if the line for sure is not impacted\n    const symbolsForLine = this.props.symbolsByLine[line.line] || [];\n    const { highlightedSymbols } = this.props;\n    let optimizedHighlightedSymbols: string[] | undefined = intersection(\n      symbolsForLine,\n      highlightedSymbols\n    );\n    if (!optimizedHighlightedSymbols.length) {\n      optimizedHighlightedSymbols = undefined;\n    }\n\n    const optimizedSelectedIssue =\n      selectedIssue !== undefined && issuesForLine.find(issue => issue.key === selectedIssue)\n        ? selectedIssue\n        : undefined;\n\n    const optimizedSecondaryIssueLocations =\n      secondaryIssueLocations.length > 0 ? secondaryIssueLocations : EMPTY_ARRAY;\n\n    const optimizedLocationMessage =\n      highlightedLocationMessage != null &&\n      optimizedSecondaryIssueLocations.some(\n        location => location.index === highlightedLocationMessage.index\n      )\n        ? highlightedLocationMessage\n        : undefined;\n\n    return (\n      <Line\n        branchLike={this.props.branchLike}\n        componentKey={this.props.componentKey}\n        displayAllIssues={this.props.displayAllIssues}\n        displayCoverage={displayCoverage}\n        displayDuplications={displayDuplications}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayIssues={displayIssues}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.getDuplicationsForLine(line)}\n        duplicationsCount={duplicationsCount}\n        highlighted={line.line === this.props.highlightedLine}\n        highlightedLocationMessage={optimizedLocationMessage}\n        highlightedSymbols={optimizedHighlightedSymbols}\n        issueLocations={this.getIssueLocationsForLine(line)}\n        issuePopup={this.props.issuePopup}\n        issues={issuesForLine}\n        key={line.line}\n        last={index === this.props.sources.length - 1 && !this.props.hasSourcesAfter}\n        line={line}\n        linePopup={this.props.linePopup}\n        loadDuplications={this.props.loadDuplications}\n        onIssueChange={this.props.onIssueChange}\n        onIssuePopupToggle={this.props.onIssuePopupToggle}\n        onIssueSelect={this.props.onIssueSelect}\n        onIssueUnselect={this.props.onIssueUnselect}\n        onIssuesClose={this.props.onIssuesClose}\n        onIssuesOpen={this.props.onIssuesOpen}\n        onLinePopupToggle={this.props.onLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.props.onSymbolClick}\n        openIssues={this.props.openIssuesByLine[line.line] || false}\n        previousLine={index > 0 ? sources[index - 1] : undefined}\n        renderDuplicationPopup={this.props.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        secondaryIssueLocations={optimizedSecondaryIssueLocations}\n        selectedIssue={optimizedSelectedIssue}\n      />\n    );\n  };\n\n  render() {\n    const { issues = [], sources } = this.props;\n\n    const displayCoverage = sources.some(s => s.coverageStatus != null);\n    const displayDuplications = sources.some(s => !!s.duplicated);\n    const displayIssues = issues.length > 0;\n\n    const hasFileIssues = displayIssues && issues.some(issue => !issue.textRange);\n\n    return (\n      <div className=\"source-viewer-code\">\n        {this.props.hasSourcesBefore && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesBefore ? (\n              <div className=\"js-component-viewer-loading-before\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-before\"\n                onClick={this.props.loadSourcesBefore}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n\n        <table className=\"source-table\">\n          <tbody>\n            {hasFileIssues &&\n              this.renderLine({\n                line: ZERO_LINE,\n                index: -1,\n                displayCoverage,\n                displayDuplications,\n                displayIssues\n              })}\n            {sources.map((line, index) =>\n              this.renderLine({ line, index, displayCoverage, displayDuplications, displayIssues })\n            )}\n          </tbody>\n        </table>\n\n        {this.props.hasSourcesAfter && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesAfter ? (\n              <div className=\"js-component-viewer-loading-after\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-after\"\n                onClick={this.props.loadSourcesAfter}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { groupBy, sortBy } from 'lodash';\nimport { DropdownOverlay } from '../../controls/Dropdown';\nimport QualifierIcon from '../../icons-components/QualifierIcon';\nimport { PopupPlacement } from '../../ui/popups';\nimport { WorkspaceContextShape } from '../../workspace/context';\nimport { isShortLivingBranch, isPullRequest } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { collapsedDirFromPath, fileFromPath } from '../../../helpers/path';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { Alert } from '../../ui/Alert';\n\ninterface Props {\n  blocks: T.DuplicationBlock[];\n  branchLike: T.BranchLike | undefined;\n  duplicatedFiles?: { [ref: string]: T.DuplicatedFile };\n  inRemovedComponent: boolean;\n  onClose: () => void;\n  openComponent: WorkspaceContextShape['openComponent'];\n  sourceViewerFile: T.SourceViewerFile;\n}\n\nexport default class DuplicationPopup extends React.PureComponent<Props> {\n  shouldLink() {\n    const { branchLike } = this.props;\n    return !isShortLivingBranch(branchLike) && !isPullRequest(branchLike);\n  }\n\n  isDifferentComponent = (\n    a: { project: string; subProject?: string },\n    b: { project: string; subProject?: string }\n  ) => {\n    return Boolean(a && b && (a.project !== b.project || a.subProject !== b.subProject));\n  };\n\n  handleFileClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { key, line } = event.currentTarget.dataset;\n    if (this.shouldLink() && key) {\n      this.props.openComponent({\n        branchLike: this.props.branchLike,\n        key,\n        line: line ? Number(line) : undefined\n      });\n    }\n    this.props.onClose();\n  };\n\n  renderDuplication(file: T.DuplicatedFile, children: React.ReactNode, line?: number) {\n    return this.shouldLink() ? (\n      <a\n        data-key={file.key}\n        data-line={line}\n        href=\"#\"\n        onClick={this.handleFileClick}\n        title={file.name}>\n        {children}\n      </a>\n    ) : (\n      children\n    );\n  }\n\n  render() {\n    const { duplicatedFiles = {}, sourceViewerFile } = this.props;\n\n    const groupedBlocks = groupBy(this.props.blocks, '_ref');\n    let duplications = Object.keys(groupedBlocks).map(fileRef => {\n      return {\n        blocks: groupedBlocks[fileRef],\n        file: duplicatedFiles[fileRef]\n      };\n    });\n\n    // first duplications in the same file\n    // then duplications in the same sub-project\n    // then duplications in the same project\n    // then duplications in other projects\n    duplications = sortBy(\n      duplications,\n      d => d.file.projectName !== sourceViewerFile.projectName,\n      d => d.file.subProjectName !== sourceViewerFile.subProjectName,\n      d => d.file.key !== sourceViewerFile.key\n    );\n\n    return (\n      <DropdownOverlay placement={PopupPlacement.RightTop}>\n        <div className=\"source-viewer-bubble-popup abs-width-400\">\n          {this.props.inRemovedComponent && (\n            <Alert variant=\"warning\">\n              {translate('duplications.dups_found_on_deleted_resource')}\n            </Alert>\n          )}\n          {duplications.length > 0 && (\n            <>\n              <h6 className=\"spacer-bottom\">\n                {translate('component_viewer.transition.duplication')}\n              </h6>\n              {duplications.map(duplication => (\n                <div className=\"spacer-top text-ellipsis\" key={duplication.file.key}>\n                  <div className=\"component-name\">\n                    {this.isDifferentComponent(duplication.file, this.props.sourceViewerFile) && (\n                      <>\n                        <div className=\"component-name-parent\">\n                          <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n                          <Link to={getProjectUrl(duplication.file.project)}>\n                            {duplication.file.projectName}\n                          </Link>\n                        </div>\n                        {duplication.file.subProject &&\n                          duplication.file.subProjectName && (\n                            <div className=\"component-name-parent\">\n                              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n                              <Link to={getProjectUrl(duplication.file.subProject)}>\n                                {duplication.file.subProjectName}\n                              </Link>\n                            </div>\n                          )}\n                      </>\n                    )}\n\n                    {duplication.file.key !== this.props.sourceViewerFile.key && (\n                      <div className=\"component-name-path\">\n                        {this.renderDuplication(\n                          duplication.file,\n                          <>\n                            <span>{collapsedDirFromPath(duplication.file.name)}</span>\n                            <span className=\"component-name-file\">\n                              {fileFromPath(duplication.file.name)}\n                            </span>\n                          </>\n                        )}\n                      </div>\n                    )}\n\n                    <div className=\"component-name-path\">\n                      {'Lines: '}\n                      {duplication.blocks.map((block, index) => (\n                        <React.Fragment key={index}>\n                          {this.renderDuplication(\n                            duplication.file,\n                            <>\n                              {block.from}\n                              {' – '}\n                              {block.from + block.size - 1}\n                            </>,\n                            block.from\n                          )}\n                          {index < duplication.blocks.length - 1 && ', '}\n                        </React.Fragment>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { searchIssues } from '../../../api/issues';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { RawQuery } from '../../../helpers/query';\n\n// maximum possible value\nconst PAGE_SIZE = 500;\n\nfunction buildQuery(component: string, branchLike: T.BranchLike | undefined) {\n  return {\n    additionalFields: '_all',\n    resolved: 'false',\n    componentKeys: component,\n    s: 'FILE_LINE',\n    ...getBranchLikeQuery(branchLike)\n  };\n}\n\nexport function loadPage(query: RawQuery, page: number, pageSize = PAGE_SIZE): Promise<T.Issue[]> {\n  return searchIssues({\n    ...query,\n    p: page,\n    ps: pageSize\n  }).then(r =>\n    r.issues.map(issue => parseIssueFromResponse(issue, r.components, r.users, r.rules))\n  );\n}\n\nexport function loadPageAndNext(\n  query: RawQuery,\n  toLine: number,\n  page: number,\n  pageSize = PAGE_SIZE\n): Promise<T.Issue[]> {\n  return loadPage(query, page).then(issues => {\n    if (issues.length === 0) {\n      return [];\n    }\n\n    const lastIssue = issues[issues.length - 1];\n\n    if (\n      (lastIssue.textRange != null && lastIssue.textRange.endLine > toLine) ||\n      issues.length < pageSize\n    ) {\n      return issues;\n    }\n\n    return loadPageAndNext(query, toLine, page + 1, pageSize).then(nextIssues => {\n      return [...issues, ...nextIssues];\n    });\n  });\n}\n\nexport default function loadIssues(\n  component: string,\n  _fromLine: number,\n  toLine: number,\n  branchLike: T.BranchLike | undefined\n): Promise<T.Issue[]> {\n  const query = buildQuery(component, branchLike);\n  return new Promise(resolve => {\n    loadPageAndNext(query, toLine, 1).then(issues => {\n      resolve(issues);\n    });\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten } from 'lodash';\nimport { splitByTokens } from './highlight';\nimport { getLinearLocations } from './issueLocations';\n\nexport function issuesByLine(issues: T.Issue[]) {\n  const index: { [line: number]: T.Issue[] } = {};\n  issues.forEach(issue => {\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    if (!(line in index)) {\n      index[line] = [];\n    }\n    index[line].push(issue);\n  });\n  return index;\n}\n\nexport function locationsByLine(issues: T.Issue[]) {\n  const index: { [line: number]: T.LinearIssueLocation[] } = {};\n  issues.forEach(issue => {\n    getLinearLocations(issue.textRange).forEach(location => {\n      if (!(location.line in index)) {\n        index[location.line] = [];\n      }\n      index[location.line].push(location);\n    });\n  });\n  return index;\n}\n\nexport function duplicationsByLine(duplications: T.Duplication[] | undefined) {\n  if (duplications == null) {\n    return {};\n  }\n\n  const duplicationsByLine: { [line: number]: number[] } = {};\n\n  duplications.forEach(({ blocks }, duplicationIndex) => {\n    blocks.forEach(block => {\n      // eslint-disable-next-line no-underscore-dangle\n      if (block._ref === '1') {\n        for (let line = block.from; line < block.from + block.size; line++) {\n          if (!(line in duplicationsByLine)) {\n            duplicationsByLine[line] = [];\n          }\n          duplicationsByLine[line].push(duplicationIndex);\n        }\n      }\n    });\n  });\n\n  return duplicationsByLine;\n}\n\nexport function symbolsByLine(sources: T.SourceLine[]) {\n  const index: { [line: number]: string[] } = {};\n  sources.forEach(line => {\n    const tokens = splitByTokens(line.code || '');\n    const symbols = flatten(\n      tokens.map(token => {\n        const keys = token.className.match(/sym-\\d+/g);\n        return keys != null ? keys : [];\n      })\n    );\n    index[line.line] = symbols.filter(key => key);\n  });\n  return index;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { intersection, uniqBy } from 'lodash';\nimport SourceViewerHeader from './SourceViewerHeader';\nimport SourceViewerCode from './SourceViewerCode';\nimport DuplicationPopup from './components/DuplicationPopup';\nimport defaultLoadIssues from './helpers/loadIssues';\nimport getCoverageStatus from './helpers/getCoverageStatus';\nimport {\n  duplicationsByLine,\n  issuesByLine,\n  locationsByLine,\n  symbolsByLine\n} from './helpers/indexing';\nimport {\n  getComponentData,\n  getComponentForSourceViewer,\n  getDuplications,\n  getSources\n} from '../../api/components';\nimport { isSameBranchLike, getBranchLikeQuery } from '../../helpers/branches';\nimport { translate } from '../../helpers/l10n';\nimport { Alert } from '../ui/Alert';\nimport { WorkspaceContext } from '../workspace/context';\nimport './styles.css';\n\n// TODO react-virtualized\n\nexport interface Props {\n  aroundLine?: number;\n  branchLike: T.BranchLike | undefined;\n  component: string;\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLine?: number;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintaint the location indexes\n  highlightedLocations?: (T.FlowLocation | undefined)[];\n  highlightedLocationMessage?: { index: number; text: string | undefined };\n  loadComponent: (\n    component: string,\n    branchLike: T.BranchLike | undefined\n  ) => Promise<T.SourceViewerFile>;\n  loadIssues: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: T.BranchLike | undefined\n  ) => Promise<T.Issue[]>;\n  loadSources: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: T.BranchLike | undefined\n  ) => Promise<T.SourceLine[]>;\n  onLoaded?: (component: T.SourceViewerFile, sources: T.SourceLine[], issues: T.Issue[]) => void;\n  onLocationSelect?: (index: number) => void;\n  onIssueChange?: (issue: T.Issue) => void;\n  onIssueSelect?: (issueKey: string) => void;\n  onIssueUnselect?: () => void;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue?: string;\n}\n\ninterface State {\n  component?: T.SourceViewerFile;\n  displayDuplications: boolean;\n  duplicatedFiles?: { [ref: string]: T.DuplicatedFile };\n  duplications?: T.Duplication[];\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: T.LinearIssueLocation[] };\n  issuePopup?: { issue: string; name: string };\n  issues?: T.Issue[];\n  issuesByLine: { [line: number]: T.Issue[] };\n  linePopup?: { index?: number; line: number; name: string };\n  loading: boolean;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  notAccessible: boolean;\n  notExist: boolean;\n  openIssuesByLine: { [line: number]: boolean };\n  selectedIssue?: string;\n  sourceRemoved: boolean;\n  sources?: T.SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nconst LINES = 500;\n\nexport default class SourceViewerBase extends React.PureComponent<Props, State> {\n  node?: HTMLElement | null;\n  mounted = false;\n\n  static defaultProps = {\n    displayAllIssues: false,\n    displayIssueLocationsCount: true,\n    displayIssueLocationsLink: true,\n    displayLocationMarkers: true,\n    loadComponent: defaultLoadComponent,\n    loadIssues: defaultLoadIssues,\n    loadSources: defaultLoadSources\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      displayDuplications: false,\n      duplicationsByLine: {},\n      hasSourcesAfter: false,\n      highlightedSymbols: [],\n      issuesByLine: {},\n      issueLocationsByLine: {},\n      loading: true,\n      loadingSourcesAfter: false,\n      loadingSourcesBefore: false,\n      notAccessible: false,\n      notExist: false,\n      openIssuesByLine: {},\n      selectedIssue: props.selectedIssue,\n      sourceRemoved: false,\n      symbolsByLine: {}\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if a component or a branch has changed,\n    // set `loading: true` immediately to avoid unwanted scrolling in `LineCode`\n    if (\n      nextProps.component !== this.props.component ||\n      !isSameBranchLike(nextProps.branchLike, this.props.branchLike)\n    ) {\n      this.setState({ loading: true });\n    }\n    if (\n      nextProps.onIssueSelect !== undefined &&\n      nextProps.selectedIssue !== this.props.selectedIssue\n    ) {\n      this.setState({ selectedIssue: nextProps.selectedIssue });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchComponent();\n    } else if (\n      this.props.aroundLine !== undefined &&\n      prevProps.aroundLine !== this.props.aroundLine &&\n      this.isLineOutsideOfRange(this.props.aroundLine)\n    ) {\n      this.fetchSources();\n    } else {\n      const { selectedIssue } = this.props;\n      const { issues } = this.state;\n      if (\n        selectedIssue !== undefined &&\n        issues !== undefined &&\n        issues.find(issue => issue.key === selectedIssue) === undefined\n      ) {\n        this.reloadIssues();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  computeCoverageStatus(lines: T.SourceLine[]) {\n    return lines.map(line => ({ ...line, coverageStatus: getCoverageStatus(line) }));\n  }\n\n  isLineOutsideOfRange(lineNumber: number) {\n    const { sources } = this.state;\n    if (sources && sources.length > 0) {\n      const firstLine = sources[0];\n      const lastList = sources[sources.length - 1];\n      return lineNumber < firstLine.line || lineNumber > lastList.line;\n    } else {\n      return true;\n    }\n  }\n\n  fetchComponent() {\n    this.setState({ loading: true });\n\n    const to = (this.props.aroundLine || 0) + LINES;\n    const loadIssues = (component: T.SourceViewerFile, sources: T.SourceLine[]) => {\n      this.props.loadIssues(this.props.component, 1, to, this.props.branchLike).then(\n        issues => {\n          if (this.mounted) {\n            const finalSources = sources.slice(0, LINES);\n\n            this.setState(\n              {\n                component,\n                displayDuplications: false,\n                duplicatedFiles: undefined,\n                duplications: undefined,\n                duplicationsByLine: {},\n                hasSourcesAfter: sources.length > LINES,\n                highlightedSymbols: [],\n                issueLocationsByLine: locationsByLine(issues),\n                issues,\n                issuesByLine: issuesByLine(issues),\n                linePopup: undefined,\n                loading: false,\n                notAccessible: false,\n                notExist: false,\n                openIssuesByLine: {},\n                issuePopup: undefined,\n                sourceRemoved: false,\n                sources: this.computeCoverageStatus(finalSources),\n                symbolsByLine: symbolsByLine(sources.slice(0, LINES))\n              },\n              () => {\n                if (this.props.onLoaded) {\n                  this.props.onLoaded(component, finalSources, issues);\n                }\n              }\n            );\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n    };\n\n    const onFailLoadComponent = ({ response }: { response: Response }) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ loading: false, notExist: true });\n        }\n      }\n    };\n\n    const onFailLoadSources = (response: Response, component: T.SourceViewerFile) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ component, loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ component, loading: false, sourceRemoved: true });\n        }\n      }\n    };\n\n    const onResolve = (component: T.SourceViewerFile) => {\n      const sourcesRequest =\n        component.q === 'FIL' || component.q === 'UTS' ? this.loadSources() : Promise.resolve([]);\n      sourcesRequest.then(\n        sources => loadIssues(component, sources),\n        response => onFailLoadSources(response, component)\n      );\n    };\n\n    this.props\n      .loadComponent(this.props.component, this.props.branchLike)\n      .then(onResolve, onFailLoadComponent);\n  }\n\n  fetchSources() {\n    this.loadSources().then(\n      sources => {\n        if (this.mounted) {\n          const finalSources = sources.slice(0, LINES);\n          this.setState(\n            {\n              sources: sources.slice(0, LINES),\n              hasSourcesAfter: sources.length > LINES\n            },\n            () => {\n              if (this.props.onLoaded && this.state.component && this.state.issues) {\n                this.props.onLoaded(this.state.component, finalSources, this.state.issues);\n              }\n            }\n          );\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  }\n\n  reloadIssues() {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.props\n      .loadIssues(\n        this.props.component,\n        firstSourceLine && firstSourceLine.line,\n        lastSourceLine && lastSourceLine.line,\n        this.props.branchLike\n      )\n      .then(\n        issues => {\n          if (this.mounted) {\n            this.setState({\n              issues,\n              issuesByLine: issuesByLine(issues),\n              issueLocationsByLine: locationsByLine(issues)\n            });\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n  }\n\n  loadSources = (): Promise<T.SourceLine[]> => {\n    return new Promise((resolve, reject) => {\n      const onFailLoadSources = ({ response }: { response: Response }) => {\n        // TODO handle other statuses\n        if (this.mounted) {\n          if ([403, 404].includes(response.status)) {\n            reject(response);\n          } else {\n            resolve([]);\n          }\n        }\n      };\n\n      const from = this.props.aroundLine ? Math.max(1, this.props.aroundLine - LINES / 2 + 1) : 1;\n\n      let to = this.props.aroundLine ? this.props.aroundLine + LINES / 2 + 1 : LINES + 1;\n      // make sure we try to download `LINES` lines\n      if (from === 1 && to < LINES) {\n        to = LINES;\n      }\n      // request one additional line to define `hasSourcesAfter`\n      to++;\n\n      return this.props\n        .loadSources(this.props.component, from, to, this.props.branchLike)\n        .then(sources => resolve(sources), onFailLoadSources);\n    });\n  };\n\n  loadSourcesBefore = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    this.setState({ loadingSourcesBefore: true });\n    const from = Math.max(1, firstSourceLine.line - LINES);\n    this.props\n      .loadSources(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n      .then(\n        sources => {\n          this.props\n            .loadIssues(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n            .then(\n              issues => {\n                if (this.mounted) {\n                  this.setState(prevState => {\n                    const nextIssues = uniqBy(\n                      [...issues, ...(prevState.issues || [])],\n                      issue => issue.key\n                    );\n                    return {\n                      issues: nextIssues,\n                      issuesByLine: issuesByLine(nextIssues),\n                      issueLocationsByLine: locationsByLine(nextIssues),\n                      loadingSourcesBefore: false,\n                      sources: [\n                        ...this.computeCoverageStatus(sources),\n                        ...(prevState.sources || [])\n                      ],\n                      symbolsByLine: { ...prevState.symbolsByLine, ...symbolsByLine(sources) }\n                    };\n                  });\n                }\n              },\n              () => {\n                // TODO\n              }\n            );\n        },\n        () => {\n          // TODO\n        }\n      );\n  };\n\n  loadSourcesAfter = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.setState({ loadingSourcesAfter: true });\n    const fromLine = lastSourceLine.line + 1;\n    // request one additional line to define `hasSourcesAfter`\n    const toLine = lastSourceLine.line + LINES + 1;\n    this.props.loadSources(this.props.component, fromLine, toLine, this.props.branchLike).then(\n      sources => {\n        this.props.loadIssues(this.props.component, fromLine, toLine, this.props.branchLike).then(\n          issues => {\n            if (this.mounted) {\n              this.setState(prevState => {\n                const nextIssues = uniqBy(\n                  [...(prevState.issues || []), ...issues],\n                  issue => issue.key\n                );\n                return {\n                  issues: nextIssues,\n                  issuesByLine: issuesByLine(nextIssues),\n                  issueLocationsByLine: locationsByLine(nextIssues),\n                  hasSourcesAfter: sources.length > LINES,\n                  loadingSourcesAfter: false,\n                  sources: [\n                    ...(prevState.sources || []),\n                    ...this.computeCoverageStatus(sources.slice(0, LINES))\n                  ],\n                  symbolsByLine: {\n                    ...prevState.symbolsByLine,\n                    ...symbolsByLine(sources.slice(0, LINES))\n                  }\n                };\n              });\n            }\n          },\n          () => {\n            // TODO\n          }\n        );\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  loadDuplications = (line: T.SourceLine) => {\n    getDuplications({\n      key: this.props.component,\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      r => {\n        if (this.mounted) {\n          this.setState(state => ({\n            displayDuplications: true,\n            duplications: r.duplications,\n            duplicationsByLine: duplicationsByLine(r.duplications),\n            duplicatedFiles: r.files,\n            linePopup:\n              r.duplications.length === 1\n                ? { index: 0, line: line.line, name: 'duplications' }\n                : state.linePopup\n          }));\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  handleLinePopupToggle = ({\n    index,\n    line,\n    name,\n    open\n  }: {\n    index?: number;\n    line: number;\n    name: string;\n    open?: boolean;\n  }) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.linePopup !== undefined &&\n        state.linePopup.name === name &&\n        state.linePopup.line === line &&\n        state.linePopup.index === index;\n      if (open !== false && !samePopup) {\n        return { linePopup: { index, line, name } };\n      } else if (open !== true && samePopup) {\n        return { linePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLinePopup = () => {\n    this.setState({ linePopup: undefined });\n  };\n\n  handleIssuePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.issuePopup && state.issuePopup.name === popupName && state.issuePopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { issuePopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { issuePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  handleSymbolClick = (symbols: string[]) => {\n    this.setState(state => {\n      const shouldDisable = intersection(state.highlightedSymbols, symbols).length > 0;\n      const highlightedSymbols = shouldDisable ? [] : symbols;\n      return { highlightedSymbols };\n    });\n  };\n\n  handleIssueSelect = (issue: string) => {\n    if (this.props.onIssueSelect) {\n      this.props.onIssueSelect(issue);\n    } else {\n      this.setState({ selectedIssue: issue });\n    }\n  };\n\n  handleIssueUnselect = () => {\n    if (this.props.onIssueUnselect) {\n      this.props.onIssueUnselect();\n    } else {\n      this.setState({ selectedIssue: undefined });\n    }\n  };\n\n  handleOpenIssues = (line: T.SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: true }\n    }));\n  };\n\n  handleCloseIssues = (line: T.SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: false }\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.setState(({ issues = [] }) => {\n      const newIssues = issues.map(candidate => (candidate.key === issue.key ? issue : candidate));\n      return { issues: newIssues, issuesByLine: issuesByLine(newIssues) };\n    });\n    if (this.props.onIssueChange) {\n      this.props.onIssueChange(issue);\n    }\n  };\n\n  renderDuplicationPopup = (index: number, line: number) => {\n    const { component, duplicatedFiles, duplications } = this.state;\n\n    if (!component || !duplicatedFiles) return <></>;\n\n    const duplication = duplications && duplications[index];\n    let blocks = (duplication && duplication.blocks) || [];\n    /* eslint-disable no-underscore-dangle */\n    const inRemovedComponent = blocks.some(b => b._ref === undefined);\n    let foundOne = false;\n    blocks = blocks.filter(b => {\n      const outOfBounds = b.from > line || b.from + b.size < line;\n      const currentFile = b._ref === '1';\n      const shouldDisplayForCurrentFile = outOfBounds || foundOne;\n      const shouldDisplay = !currentFile || shouldDisplayForCurrentFile;\n      const isOk = b._ref !== undefined && shouldDisplay;\n      if (b._ref === '1' && !outOfBounds) {\n        foundOne = true;\n      }\n      return isOk;\n    });\n    /* eslint-enable no-underscore-dangle */\n\n    return (\n      <WorkspaceContext.Consumer>\n        {({ openComponent }) => (\n          <DuplicationPopup\n            blocks={blocks}\n            branchLike={this.props.branchLike}\n            duplicatedFiles={duplicatedFiles}\n            inRemovedComponent={inRemovedComponent}\n            onClose={this.closeLinePopup}\n            openComponent={openComponent}\n            sourceViewerFile={component}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n    );\n  };\n\n  renderCode(sources: T.SourceLine[]) {\n    const hasSourcesBefore = sources.length > 0 && sources[0].line > 1;\n    return (\n      <SourceViewerCode\n        branchLike={this.props.branchLike}\n        componentKey={this.props.component}\n        displayAllIssues={this.props.displayAllIssues}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.state.duplications}\n        duplicationsByLine={this.state.duplicationsByLine}\n        hasSourcesAfter={this.state.hasSourcesAfter}\n        hasSourcesBefore={hasSourcesBefore}\n        highlightedLine={this.props.highlightedLine}\n        highlightedLocationMessage={this.props.highlightedLocationMessage}\n        highlightedLocations={this.props.highlightedLocations}\n        highlightedSymbols={this.state.highlightedSymbols}\n        issueLocationsByLine={this.state.issueLocationsByLine}\n        issuePopup={this.state.issuePopup}\n        issues={this.state.issues}\n        issuesByLine={this.state.issuesByLine}\n        linePopup={this.state.linePopup}\n        loadDuplications={this.loadDuplications}\n        loadSourcesAfter={this.loadSourcesAfter}\n        loadSourcesBefore={this.loadSourcesBefore}\n        loadingSourcesAfter={this.state.loadingSourcesAfter}\n        loadingSourcesBefore={this.state.loadingSourcesBefore}\n        onIssueChange={this.handleIssueChange}\n        onIssuePopupToggle={this.handleIssuePopupToggle}\n        onIssueSelect={this.handleIssueSelect}\n        onIssueUnselect={this.handleIssueUnselect}\n        onIssuesClose={this.handleCloseIssues}\n        onIssuesOpen={this.handleOpenIssues}\n        onLinePopupToggle={this.handleLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.handleSymbolClick}\n        openIssuesByLine={this.state.openIssuesByLine}\n        renderDuplicationPopup={this.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        selectedIssue={this.state.selectedIssue}\n        sources={sources}\n        symbolsByLine={this.state.symbolsByLine}\n      />\n    );\n  }\n\n  render() {\n    const { component, loading, sources, notAccessible, sourceRemoved } = this.state;\n\n    if (loading) {\n      return null;\n    }\n\n    if (this.state.notExist) {\n      return (\n        <Alert className=\"spacer-top\" variant=\"warning\">\n          {translate('component_viewer.no_component')}\n        </Alert>\n      );\n    }\n\n    if (notAccessible) {\n      return (\n        <Alert className=\"spacer-top\" variant=\"warning\">\n          {translate('code_viewer.no_source_code_displayed_due_to_security')}\n        </Alert>\n      );\n    }\n\n    if (!component) {\n      return null;\n    }\n\n    const className = classNames('source-viewer', {\n      'source-duplications-expanded': this.state.displayDuplications\n    });\n\n    return (\n      <div className={className} ref={node => (this.node = node)}>\n        <WorkspaceContext.Consumer>\n          {({ openComponent }) => (\n            <SourceViewerHeader\n              branchLike={this.props.branchLike}\n              openComponent={openComponent}\n              sourceViewerFile={component}\n            />\n          )}\n        </WorkspaceContext.Consumer>\n        {sourceRemoved && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('code_viewer.no_source_code_displayed_due_to_source_removed')}\n          </Alert>\n        )}\n        {!sourceRemoved && sources !== undefined && this.renderCode(sources)}\n      </div>\n    );\n  }\n}\n\nfunction defaultLoadComponent(component: string, branchLike: T.BranchLike | undefined) {\n  return Promise.all([\n    getComponentForSourceViewer({ component, ...getBranchLikeQuery(branchLike) }),\n    getComponentData({ component, ...getBranchLikeQuery(branchLike) })\n  ]).then(([component, data]) => ({\n    ...component,\n    leakPeriodDate: data.leakPeriodDate\n  }));\n}\n\nfunction defaultLoadSources(\n  key: string,\n  from: number | undefined,\n  to: number | undefined,\n  branchLike: T.BranchLike | undefined\n) {\n  return getSources({ key, from, to, ...getBranchLikeQuery(branchLike) });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nexport default function getCoverageStatus(s: T.SourceLine): T.SourceLineCoverageStatus | undefined {\n  let status: T.SourceLineCoverageStatus | undefined;\n  if (s.lineHits != null && s.lineHits > 0) {\n    status = 'partially-covered';\n  }\n  if (s.lineHits != null && s.lineHits > 0 && s.conditions === s.coveredConditions) {\n    status = 'covered';\n  }\n  if (s.lineHits === 0 || s.coveredConditions === 0) {\n    status = 'uncovered';\n  }\n  return status;\n}\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n"],"sourceRoot":""}