{"version":3,"sources":["webpack:///./src/main/js/components/charts/ColorBoxLegend.css","webpack:///./src/main/js/components/charts/BubbleChart.css?29cc","webpack:///./src/main/js/components/charts/BubbleChart.css","webpack:///./src/main/js/components/charts/ColorGradientLegend.css?5586","webpack:///./src/main/js/components/charts/ColorGradientLegend.css","webpack:///./src/main/js/components/charts/TreeMap.css?be3e","webpack:///./src/main/js/components/charts/TreeMap.css","webpack:///./src/main/js/apps/component-measures/style.css?cc54","webpack:///./src/main/js/apps/component-measures/style.css","webpack:///./src/main/js/apps/component-measures/components/Breadcrumb.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureFavoriteContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/LeakPeriodLegend.tsx","webpack:///./src/main/js/apps/component-measures/config/domains.ts","webpack:///./src/main/js/apps/component-measures/config/bubbles.ts","webpack:///./src/main/js/apps/component-measures/utils.ts","webpack:///./src/main/js/apps/component-measures/components/MeasureHeader.tsx","webpack:///./src/main/js/components/icons-components/TreeIcon.tsx","webpack:///./src/main/js/components/icons-components/TreemapIcon.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureViewSelect.tsx","webpack:///./src/main/js/apps/component-measures/components/MetricNotFound.tsx","webpack:///./src/main/js/apps/component-measures/components/FilesCounter.tsx","webpack:///./src/main/js/apps/component-measures/components/PageActions.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/MeasureCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsListRow.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/EmptyResult.tsx","webpack:///./src/main/js/apps/component-measures/config/complementary.ts","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsList.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/FilesView.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/CodeView.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.tsx","webpack:///./src/main/js/components/charts/ColorGradientLegend.tsx","webpack:///./src/main/js/components/charts/TreeMapRect.tsx","webpack:///./src/main/js/components/charts/TreeMap.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/TreeMapView.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContent.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContentContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasuresEmpty.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/BubbleChart.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverview.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverviewContainer.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/ProjectOverviewFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/FacetMeasureValue.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/DomainFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/component-measures/components/App.tsx","webpack:///./src/main/js/apps/component-measures/components/AppContainer.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.tsx","webpack:///./src/main/js/components/controls/Select.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/controls/HelpTooltip.css?1425","webpack:///./src/main/js/components/controls/HelpTooltip.css","webpack:///./src/main/js/components/controls/react-select.css?a7df","webpack:///./src/main/js/components/controls/react-select.css","webpack:///./src/main/js/components/icons-components/QualifierIcon.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/controls/ListFooter.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/ui/Rating.tsx","webpack:///./src/main/js/helpers/path.ts","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/components/ui/Level.tsx","webpack:///./src/main/js/components/ui/IssueTypeIcon.tsx","webpack:///./src/main/js/components/icons-components/VulnerabilityIcon.tsx","webpack:///./src/main/js/components/icons-components/BugIcon.tsx","webpack:///./src/main/js/components/icons-components/CodeSmellIcon.tsx","webpack:///./src/main/js/components/ui/Level.css?5a2b","webpack:///./src/main/js/components/ui/Level.css","webpack:///./src/main/js/components/ui/Rating.css?38ca","webpack:///./src/main/js/components/ui/Rating.css","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/icons-components/LongLivingBranchIcon.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/icons-components/LinkIcon.tsx","webpack:///./src/main/js/components/icons-components/ChevronDownIcon.tsx","webpack:///./src/main/js/components/icons-components/OpenCloseIcon.tsx","webpack:///./src/main/js/components/icons-components/FavoriteIcon.tsx","webpack:///./src/main/js/components/icons-components/SecurityHotspotIcon.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./src/main/js/components/controls/FavoriteBase.tsx","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/search-navigator.css?f3f4","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/icons-components/BubblesIcon.tsx","webpack:///./src/main/js/components/charts/BarChart.css?d69c","webpack:///./src/main/js/components/charts/BarChart.css","webpack:///./src/main/js/components/icons-components/HistoryIcon.tsx","webpack:///./src/main/js/components/charts/Histogram.css?58e5","webpack:///./src/main/js/components/charts/Histogram.css","webpack:///./src/main/js/components/icons-components/ListIcon.tsx","webpack:///./src/main/js/components/charts/Histogram.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.css?b685","webpack:///./src/main/js/components/charts/BubbleChart.tsx","webpack:///./src/main/js/components/charts/ColorRatingsLegend.tsx"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","_super","Breadcrumb","_this","apply","this","arguments","handleClick","event","preventDefault","currentTarget","blur","props","handleSelect","component","key","__extends","prototype","render","_a","canBrowse","isLast","componentName","qualifier","Object","path","name","breadcrumbItem","index_js_exposed","href","onClick","Tooltip","overlay","className","Breadcrumbs","mounted","state","breadcrumbs","fetchBreadcrumbs","branchLike","rootComponent","setState","api_components","__assign","branches","then","Breadcrumbs_extends","componentDidMount","attachShortcuts","componentWillReceiveProps","nextProps","componentWillUnmount","detachShortcuts","keymaster","length","idx","backToFirst","lastItem","map","components_Breadcrumb","MeasureFavoriteContainer","MeasureFavoriteContainer_extends","fetchComponentFavorite","componentDidUpdate","prevProps","canMarkAsFavorite","Favorite","favorite","fav","q","LeakPeriodLegend_LeakPeriodLegend","LeakPeriodLegend","formatDate","date","intl","DateFormatter","LeakPeriodLegend_extends","period","leakClass","classnames","l10n","leakPeriodLabel","helpers_periods","label","mode","tooltip","DateFromNow","dates","Date","DateTimeFormatter","long","components_LeakPeriodLegend","index_es","domains_domains","Reliability","categories","order","Security","Maintainability","Coverage","Duplications","Size","Complexity","Releasability","Issues","bubbles","x","y","size","colors","yDomain","project_overview","PROJECT_OVERVEW","DEFAULT_VIEW","DEFAULT_METRIC","KNOWN_DOMAINS","BANNED_MEASURES","sortMeasures","domainName","measures","configOrder","sortBy_default","item","indexOf","metric","enhanceComponent","metrics","utils_assign","enhancedMeasures","measure","utils","find","value","leak","isFileType","includes","isViewType","groupByDomains","memoize_default","domains","toPairs_default","groupBy_default","domain","r","hasList","hasTree","hasBubbleChart","hasFullMeasures","branch","getBubbleMetrics","conf","color","isProjectOverview","parseQuery","urlQuery","helpers_query","selected","view","rawView","utils_parseView","serializeQuery","query","MeasureHeader","leakPeriod","secondaryMeasure","isDiff","helpers_measures","hasHistory","displayLeak","IssueTypeIcon","Measure","metricKey","metricType","type","react_router_es","to","urls","HistoryIcon","LanguageDistributionContainer","alignTicks","distribution","width","TreeIcon","_b","fill","Icon","d","style","TreemapIcon","_c","MeasureViewSelect","getOptions","icon","ListIcon","hasTreemap","handleChange","option","handleViewChange","renderOption","renderValue","MeasureViewSelect_extends","Select","autoBlur","clearable","onChange","optionRenderer","searchable","valueRenderer","MetricNotFound","Alert","variant","FilesCounter","current","total","PageActions","isFile","paging","totalLoadedComponents","showShortcuts","ComponentCell","isLeftClickEvent","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","ComponentCell_extends","renderInner","componentKey","head","tail","branchComponent","LongLivingBranchIcon","title","QualifierIcon","refKey","id","LinkIcon","MeasureCell","ComponentsListRow","otherMeasures","otherMetrics","ComponentsListRow_assign","rowClass","isSelected","drilldown_ComponentCell","EmptyResult","complementary","coverage","line_coverage","branch_coverage","uncovered_lines","uncovered_conditions","new_coverage","new_line_coverage","new_branch_coverage","new_uncovered_lines","new_uncovered_conditions","duplicated_lines_density","new_duplicated_lines_density","duplicated_lines","new_duplicated_lines","ComponentsList","components","__rest","ComponentsList_assign","selectedComponent","ListView","call","getVisibleComponents","showBestMeasures","filtered","filter","hasBestValue","handleShowBestMeasures","focusedMeasure","Boolean","bestValue","openSelected","selectedKey","handleOpen","selectPrevious","selectedIdx","visibleComponents","selectNext","scrollToElement","listContainer","elem","getElementsByClassName","scrolling","topOffset","bottomOffset","throttle_default","FilesView_extends","forEach","action","filteredComponents","hidingBestMeasures","ref","buttons","ListFooter","count","loadMore","fetchMore","loading","loadingMore","CodeView","prevComponent","updateSelected","nextComponent","CodeView_extends","SourceViewer","ColorBoxLegend_ColorBoxLegend","colorScale","colorNA","colorDomain","colorRange","range","borderColor","backgroundColor","NA_SPACING","ColorGradientLegend_ColorGradientLegend","direction","padding","height","reverse","lastColorIdx","lastDomainIdx","widthNoPadding","rectHeight","offset","stopColor","String","dy","SIZE_SCALE","src","clamp","TreeMapRect","handleLinkClick","stopPropagation","handleRectClick","itemKey","renderLink","link","renderCell","cellStyles","left","top","fontSize","lineHeight","cursor","isTextVisible","isIconVisible","prefix","substr","role","tabIndex","maxWidth","spacer-right","dangerouslySetInnerHTML","__html","TreeMapRect_extends","placement","TreeMap","mostCommitPrefix","labels","sortedLabels","slice","sort","firstLabel","firstLabelLength","lastLabel","charAt","prefixTokens","split","lastPrefixPart","TreeMap_extends","renderNoData","items","hierarchy","d3_hierarchy_src","children","sum","a","b","nodes","round","treemap","leaves","halfWidth","node","charts_TreeMapRect","data","y1","y0","onRectangleClick","x0","x1","COLORS","theme","LEVEL_COLORS","TreeMapView","getTreemapComponents","getColorScale","colorMeasure","sizeMeasure","colorValue","rawSizeValue","sizeValue","Number","getTooltip","colorMetric","sizeMetric","types","getLevelColorScale","getPercentColorScale","getRatingColorScale","formatted","treemapItems","TreeMapView_extends","renderLegend","AutoSizer","disableHeight","components_charts_TreeMap","MeasureContent","getSelectedIndex","index","findIndex","getComponentRequestParams","strategy","metricKeys","opts","MeasureContent_assign","additionalFields","metricSortFilter","metricPeriodSort","metricSort","s","asc","ps","fetchComponents","updateLoading","m","c","fetchMoreComponents","moreComponents","concat","onOpenComponent","router","container","focus","onSelectComponent","MeasureContent_extends","renderCode","drilldown_CodeView","renderMeasure","FilesView","drilldown_TreeMapView","currentUser","components_Breadcrumbs","users","components_MeasureFavoriteContainer","components_MeasureViewSelect","updateView","DeferredSpinner","MeasureContentContainer","fetchMeasure","fetchMeasures","MeasureContentContainer_assign","updateQuery","MeasureContentContainer_extends","components_MeasureContent","MeasuresEmpty","BubbleChart","getMeasureVal","handleBubbleClick","BubbleChart_extends","values","inner","valuesColors","metricColors","line","getDescription","description","translatedDescription","renderBubbleChart","constants","Math","max","charts_BubbleChart","formatXTick","tick","formatYTick","onBubbleClick","renderChartHeader","colorsMetric","HelpTooltip","ColorRatingsLegend","BUBBLES_LIMIT","MeasureOverview","metricsKey","MeasureOverview_assign","MeasureOverview_extends","renderContent","drilldown_BubbleChart","isLoggedIn","MeasureOverviewContainer","fetchComponent","MeasureOverviewContainer_assign","MeasureOverviewContainer_extends","components_MeasureOverview","ProjectOverviewFacet","facetName","FacetBox","property","FacetItemsList","FacetItem","active","disabled","FacetMeasureValue","DomainFacet","getValues","measureSelected","overviewSelected","hasOverview","handleHeaderClick","onToggle","hasFacetSelected","renderItemFacetStat","renderItemsFacet","addMeasureCategories","translateMetric","some","sortedItems","stat","renderOverviewFacet","BubblesIcon","DomainFacet_extends","helper","translatedHelper","FacetHeader","open","Sidebar","getOpenFacets","openFacets","selectedMetric","newOpenFacets","Sidebar_assign","toggleFacet","resetSelection","getDefaultView","changeMetric","Sidebar_extends","sidebar_DomainFacet","App","filteredKeys","getMeasuresPageMetricKeys","getHelmetTitle","displayOverview","getSelectedMetric","domainMeasures","firstMeasure","newQuery","App_assign","location","pathname","components_MeasureOverviewContainer","components_MeasureContentContainer","App_extends","fetchMetrics","_prevProps","prevState","document","body","classList","add","documentElement","footer","getElementById","remove","Suggestions","suggestions","Helmet_default","ScreenPositionHelper","sidebar_Sidebar","mapDispatchToProps","_dispatch","getState","Promise","resolve","api_measures","AppContainer_assign","periods","bannedMetrics","banQualityGate","rootReducer","applicationPeriods","throwGlobalError","rootActions","__webpack_exports__","es","components_App","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","_Tooltip__WEBPACK_IMPORTED_MODULE_2__","_icons_components_HelpIcon__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_4__","tagName","mouseLeaveDelay","onShow","ReactSelectLib","e","bind","ReactSelect","_lazyLoad__WEBPACK_IMPORTED_MODULE_4__","ReactCreatable","lib","default","Creatable","ReactAsync","Async","renderInput","_ui_buttons__WEBPACK_IMPORTED_MODULE_3__","_app_theme__WEBPACK_IMPORTED_MODULE_1__","_icons_components_ClearIcon__WEBPACK_IMPORTED_MODULE_2__","innerRef","ReactSelectAny","clearRenderer","ReactCreatableAny","AsyncSelect","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","_Icon__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","qualifierIcons","app","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","pac","toLowerCase","FoundIcon","formatterOption","year","month","day","longFormatterOption","react_intl__WEBPACK_IMPORTED_MODULE_1__","_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","ready","hasMore","loadMoreLink","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","new-loading","_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","hour","minute","Rating","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","muted","small","rating-small","rating-muted","collapsePath","limit","tokens","middle","cut","join","shift","collapsedDirFromPath","fileFromPath","splitPath","limitComponentName","str","Level","level","level-small","level-muted","_icons_components_BugIcon__WEBPACK_IMPORTED_MODULE_1__","_icons_components_VulnerabilityIcon__WEBPACK_IMPORTED_MODULE_2__","_icons_components_CodeSmellIcon__WEBPACK_IMPORTED_MODULE_3__","_icons_components_SecurityHotspotIcon__WEBPACK_IMPORTED_MODULE_4__","VulnerabilityIcon","BugIcon","CodeSmellIcon","getLeakPeriod","getPeriodLabel","getPeriodDate","_l10n__WEBPACK_IMPORTED_MODULE_0__","_dates__WEBPACK_IMPORTED_MODULE_1__","Array","isArray","getPeriod","dateFormatter","parameter","modeParam","_utils__WEBPACK_IMPORTED_MODULE_1__","_ui_Rating__WEBPACK_IMPORTED_MODULE_2__","_ui_Level__WEBPACK_IMPORTED_MODULE_3__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","_helpers_measures__WEBPACK_IMPORTED_MODULE_5__","decimals","formattedValue","rating","ChevronRightIcon","KNOWN_RATINGS","enhanceMeasure","getLeakValue","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","data-property","renderHelper","_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","renderValueIndicator","_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","showClearButton","onClear","_icons_components_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_1__","clearLabel","search-navigator-facet-half","data-facet","defaultProps","getPosition","containerPos","getBoundingClientRect","window","pageYOffset","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1__","ChevronDownIcon","OpenCloseIcon","ChevronRightcon","FavoriteIcon","_Icon__WEBPACK_IMPORTED_MODULE_2__","_app_theme__WEBPACK_IMPORTED_MODULE_3__","is-filled","SecurityHotspotIcon","stroke","strokeLinecap","strokeWidth","_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","all","FavoriteBase","toggleFavorite","removeFavorite","addFavorite","other","controls_FavoriteBase","request","favorites_addFavorite","favorites_removeFavorite","fillRule","DEFAULT_PADDING","Histogram","renderBar","xScale","yScale","bandwidth","yValues","BAR_HEIGHT","yTooltips","dx","renderTick","yTicks","historyTickClass","renderBars","bars","availableWidth","d3_scale_src","availableHeight","_","rangeRound","cutLanguageName","languages","point","language","lines","parseInt","langKey","lang","getLanguageName","components_charts_Histogram","Bubble","circle","react__WEBPACK_IMPORTED_MODULE_2__","scale","react_router__WEBPACK_IMPORTED_MODULE_5__","_controls_Tooltip__WEBPACK_IMPORTED_MODULE_10__","selection","zoom","boundNode","d3_zoom__WEBPACK_IMPORTED_MODULE_8__","scaleExtent","on","zoomed","d3_selection__WEBPACK_IMPORTED_MODULE_9__","resetZoom","getZoomLevelLabel","floor","k","renderXGrid","ticks","displayXGrid","y2","x2","renderYGrid","displayYGrid","renderXTicks","xTicks","displayXTicks","innerText","renderYTicks","displayYTicks","renderChart","d3_scale__WEBPACK_IMPORTED_MODULE_7__","xDomain","d3_array__WEBPACK_IMPORTED_MODULE_6__","nice","sizeScale","sizeDomain","sizeRange","xScaleOriginal","copy","yScaleOriginal","getXRange","getYRange","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","getTicks","classnames__WEBPACK_IMPORTED_MODULE_3__","clipPath","rect","translateExtent","defineProperty","minX","maxX","minY","maxY","dMinY","format","ceil","uniqueTicksCount","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","ticksCount","_helpers_l10n__WEBPACK_IMPORTED_MODULE_11__","react_virtualized_dist_commonjs_AutoSizer__WEBPACK_IMPORTED_MODULE_4__","_helpers_constants__WEBPACK_IMPORTED_MODULE_3__"],"mappings":"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YAAa,oBAAqB,oBAClCC,OACE,oBACA,WACA,yBACA,qCAEA,mBACA,OACA,qBACA,mCAIJC,UACEF,YAAa,oBAAqB,oBAClCC,OACE,oBACA,sBACA,sBACA,kCAEA,mBACA,kBACA,kBACA,gCAIJE,iBACEH,YAAa,oBAAqB,oBAClCC,OACE,oBACA,kBACA,qBACA,uBACA,6BAEA,mBACA,cACA,cACA,mBACA,eACA,6CAIJG,UACEJ,YAAa,oBAAqB,mBAAoB,kBACtDC,OACE,oBACA,eACA,qBACA,sBACA,oBACA,0BACA,2BACA,sBAEA,mBACA,WACA,iBACA,kBACA,gBACA,sBACA,uBACA,kBAEA,iBACA,QACA,eACA,cACA,gBACA,gBACA,uBACA,wBAIJI,cACEL,YAAa,oBAAqB,oBAClCC,OACE,oBACA,+BACA,uBACA,wBAEA,mBACA,2BACA,mBACA,oBACA,qBAIJK,MACEL,OACE,YAEA,QACA,QACA,aACA,YACA,UACA,QACA,gBAIJM,YACEN,OAAQ,aAAc,sBAAuB,kBAAmB,qBAGlEO,eACEP,OAAQ,uBAAwB,uBAAwB,iBAG1DQ,QACER,OACE,iBACA,yBACA,0BACA,uBACA,uBACA,sBAEA,aACA,qBACA,sBACA,mBACA,mBACA,kBACA,cACA,kBACA,mBACA,2BC9IOS,GASXX,aACEY,EAAG,QACHC,EAAG,iCACHC,KAAM,OACNC,QAAS,uBAEXZ,UACES,EAAG,QACHC,EAAG,8BACHC,KAAM,kBACNC,QAAS,oBAEXX,iBACEQ,EAAG,QACHC,EAAG,cACHC,KAAM,cACNC,QAAS,iBAEXV,UAAYO,EAAG,aAAcC,EAAG,WAAYC,KAAM,kBAAmBE,SAAU,IAAK,IACpFV,cAAgBM,EAAG,QAASC,EAAG,mBAAoBC,KAAM,qBACzDG,kBACEL,EAAG,cACHC,EAAG,WACHC,KAAM,QACNC,QAAS,qBAAsB,mBAC/BC,SAAU,IAAK,sOCzBNE,EAAkB,mBAClBC,EAAe,OACfC,GAAiBF,EACjBG,IACX,gBACA,cACA,WACA,kBACA,WACA,eACA,OACA,cAEIC,IACJ,qBACA,yBACA,sBACA,0BAC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","file":"js/272.cb8c3786.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.color-box-legend {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.color-box-legend > *:not(:first-child) {\\n  margin-left: 24px;\\n}\\n\\n.color-box-legend .color-box-legend-rect {\\n  display: inline-block;\\n  margin-top: 1px;\\n  margin-right: 4px;\\n  border: 1px solid;\\n}\\n\\n.color-box-legend .color-box-legend-rect-inner {\\n  display: block;\\n  width: 8px;\\n  height: 8px;\\n  opacity: 0.2;\\n}\\n\\n.color-box-legend.color-box-full .color-box-legend-rect-inner {\\n  opacity: 1;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BubbleChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BubbleChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BubbleChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.bubble-chart text {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n}\\n\\n.bubble-chart-bubble {\\n  fill: #4b9fd5;\\n  fill-opacity: 0.2;\\n  stroke: #4b9fd5;\\n  cursor: pointer;\\n  transition: fill-opacity 0.2s ease;\\n}\\n\\n.bubble-chart-bubble:hover {\\n  fill-opacity: 0.8;\\n}\\n\\n.bubble-chart-grid {\\n  shape-rendering: crispedges;\\n  stroke: #eee;\\n}\\n\\n.bubble-chart-tick {\\n  fill: #777;\\n  font-size: 12px;\\n  text-anchor: middle;\\n}\\n\\n.bubble-chart-tick-y {\\n  text-anchor: end;\\n}\\n\\n.bubble-chart-zoom {\\n  position: absolute;\\n  right: 20px;\\n  top: 20px;\\n  z-index: 3;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.gradient-legend-text,\\n.gradient-legend-na {\\n  text-anchor: middle;\\n  fill: #777;\\n  font-size: 10px;\\n}\\n\\n.gradient-legend-text:first-of-type {\\n  text-anchor: start;\\n}\\n\\n.gradient-legend-text:last-of-type {\\n  text-anchor: end;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TreeMap.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TreeMap.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TreeMap.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.sonar-d3 .treemap-container {\\n  position: relative;\\n}\\n\\n.sonar-d3 .treemap-cell {\\n  position: absolute;\\n  border-right: 1px solid #fff;\\n  border-bottom: 1px solid #fff;\\n  box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.sonar-d3 .treemap-cell:focus {\\n  outline: none;\\n}\\n\\n.sonar-d3 .treemap-inner {\\n  display: inline-flex;\\n  vertical-align: middle;\\n  align-items: center;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n  padding: 0 4px;\\n  box-sizing: border-box;\\n  line-height: 1.2;\\n}\\n\\n.sonar-d3 .treemap-inner .treemap-icon {\\n  flex-shrink: 0;\\n}\\n\\n.sonar-d3 .treemap-inner .treemap-icon svg {\\n  margin-top: 2px;\\n}\\n\\n.sonar-d3 .treemap-inner .treemap-text {\\n  flex-shrink: 1;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  text-align: left;\\n}\\n\\n.sonar-d3 .treemap-link {\\n  position: absolute;\\n  z-index: 2;\\n  top: 5px;\\n  right: 5px;\\n  line-height: 14px;\\n  font-size: 12px;\\n  border-bottom: none;\\n}\\n\\n.sonar-d3 .treemap-link:hover {\\n  color: #d1eafb;\\n}\\n\\n.sonar-d3 .treemap-link i,\\n.sonar-d3 .treemap-link i:before {\\n  vertical-align: top;\\n  font-size: inherit;\\n  line-height: inherit;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.domain-measures-value {\\n  margin-right: 4px;\\n}\\n\\n.domain-measures-value span {\\n  line-height: 16px;\\n}\\n\\n.domain-measures-value .rating {\\n  margin-left: -4px;\\n  margin-right: -4px;\\n}\\n\\n.search-navigator-facet .leak-box {\\n  height: 24px;\\n  line-height: 24px;\\n  padding: 0 8px;\\n  margin-top: -1px;\\n  margin-right: -7px;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n}\\n\\n.search-navigator-facet:hover .leak-box,\\n.search-navigator-facet.active .leak-box {\\n  height: 22px;\\n  margin-top: 0;\\n  margin-right: -6px;\\n  border-top: none;\\n  border-bottom: none;\\n  border-right: none;\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n\\n.search-navigator-facet.active .leak-box {\\n  border-left: none;\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n}\\n\\n.domain-measures-header {\\n  display: inline-block;\\n  padding: 4px 10px;\\n  white-space: nowrap;\\n}\\n\\n.measure-details-page-actions {\\n  display: inline-block;\\n  text-align: right;\\n}\\n\\n.measure-details-page-actions .spinner {\\n  vertical-align: text-bottom;\\n}\\n\\n.measure-details-metric {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.measure-details-primary {\\n  display: flex;\\n  flex-wrap: nowrap;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.measure-details-primary-actions {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.measure-details-secondary {\\n  display: inline-block;\\n  width: 260px;\\n  margin-top: 4px;\\n}\\n\\n.measure-details-component-row.selected {\\n  background-color: #cae3f2 !important;\\n}\\n\\n.measure-details-component-cell {\\n  max-width: 0;\\n}\\n\\n.measure-details-component-cell > div {\\n  max-width: 100%;\\n}\\n\\n.domain-measures-value .rating,\\n.measure-details-value .rating {\\n  width: 18px;\\n  height: 18px;\\n  line-height: 18px;\\n  margin-top: -2px;\\n  margin-bottom: -2px;\\n  font-size: 12px;\\n}\\n\\n.domain-measures-value .level {\\n  height: 18px;\\n  line-height: 18px;\\n  border-radius: 18px;\\n  margin-top: -2px;\\n  margin-bottom: -2px;\\n  margin-right: -4px;\\n}\\n\\n.measure-details-treemap-legend {\\n  margin-right: -4px;\\n}\\n\\n.measure-details-treemap-legend.color-box-legend {\\n  margin-right: 0;\\n}\\n\\n.measure-details-viewer .issue-list {\\n  /* no math, just a good guess */\\n  min-width: 600px;\\n  width: 800px;\\n}\\n\\n@media (max-width: 1320px) {\\n  .measure-details-viewer .issue-list {\\n    width: calc(60vw - 80px);\\n  }\\n}\\n\\n.measure-view-select {\\n  width: 50px;\\n}\\n\\n.measure-view-select .Select-menu-outer {\\n  width: 100px;\\n  border-top-right-radius: 4px;\\n}\\n\\n.measure-breadcrumbs {\\n  display: inline-block;\\n  max-width: 60%;\\n  vertical-align: middle;\\n}\\n\\n.measure-favorite svg {\\n  vertical-align: middle;\\n}\\n\\n.measure-overview-bubble-chart {\\n  position: relative;\\n  border: 1px solid #e6e6e6;\\n  background-color: #fff;\\n}\\n\\n.measure-overview-bubble-chart-content {\\n  padding: 0;\\n  padding-left: 60px;\\n}\\n\\n.measure-overview-bubble-chart-header {\\n  display: flex;\\n  align-items: center;\\n  padding: 16px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n\\n.measure-overview-bubble-chart-title {\\n  position: absolute;\\n}\\n\\n.measure-overview-bubble-chart-legend {\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  flex-grow: 1;\\n}\\n\\n.measure-overview-bubble-chart-footer {\\n  padding: 15px 60px;\\n  border-top: 1px solid #e6e6e6;\\n  text-align: center;\\n  font-size: 12px;\\n  line-height: 1.4;\\n}\\n\\n.measure-overview-bubble-chart-axis {\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.measure-overview-bubble-chart-axis.x {\\n  position: relative;\\n  top: -8px;\\n  padding-bottom: 8px;\\n  text-align: center;\\n}\\n\\n.measure-overview-bubble-chart-axis.y {\\n  position: absolute;\\n  top: 50%;\\n  left: 30px;\\n  transform: rotate(-90deg) translateX(-50%);\\n  transform-origin: left;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { collapsePath, limitComponentName } from '../../../helpers/path';\n\ninterface Props {\n  canBrowse: boolean;\n  component: T.ComponentMeasure;\n  isLast: boolean;\n  handleSelect: (component: string) => void;\n}\n\nexport default class Breadcrumb extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.handleSelect(this.props.component.key);\n  };\n\n  render() {\n    const { canBrowse, component, isLast } = this.props;\n    const isPath = component.qualifier === 'DIR';\n    const componentName = isPath\n      ? collapsePath(component.name, 15)\n      : limitComponentName(component.name);\n    const breadcrumbItem = canBrowse ? (\n      <a href=\"#\" onClick={this.handleClick}>\n        {componentName}\n      </a>\n    ) : (\n      <span>{componentName}</span>\n    );\n\n    return (\n      <span>\n        <Tooltip overlay={component.name !== componentName ? component.name : undefined}>\n          {breadcrumbItem}\n        </Tooltip>\n        {!isLast && <span className=\"slash-separator\" />}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport Breadcrumb from './Breadcrumb';\nimport { getBreadcrumbs } from '../../../api/components';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface Props {\n  backToFirst: boolean;\n  branchLike?: T.BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  handleSelect: (component: string) => void;\n  rootComponent: T.ComponentMeasure;\n}\n\ninterface State {\n  breadcrumbs: T.ComponentMeasure[];\n}\n\nexport default class Breadcrumbs extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { breadcrumbs: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBreadcrumbs(this.props);\n    this.attachShortcuts();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (this.props.component !== nextProps.component) {\n      this.fetchBreadcrumbs(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('left', 'measures-files', () => {\n      const { breadcrumbs } = this.state;\n      if (breadcrumbs.length > 1) {\n        const idx = this.props.backToFirst ? 0 : breadcrumbs.length - 2;\n        this.props.handleSelect(breadcrumbs[idx].key);\n      }\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    key.unbind('left', 'measures-files');\n  }\n\n  fetchBreadcrumbs = ({ branchLike, component, rootComponent }: Props) => {\n    const isRoot = component.key === rootComponent.key;\n    if (isRoot) {\n      if (this.mounted) {\n        this.setState({ breadcrumbs: [component] });\n      }\n      return;\n    }\n    getBreadcrumbs({ component: component.key, ...getBranchLikeQuery(branchLike) }).then(\n      breadcrumbs => {\n        if (this.mounted) {\n          this.setState({ breadcrumbs });\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { breadcrumbs } = this.state;\n    if (breadcrumbs.length <= 0) {\n      return null;\n    }\n    const lastItem = breadcrumbs[breadcrumbs.length - 1];\n    return (\n      <div className={this.props.className}>\n        {breadcrumbs.map(component => (\n          <Breadcrumb\n            canBrowse={component.key !== lastItem.key}\n            component={component}\n            handleSelect={this.props.handleSelect}\n            isLast={component.key === lastItem.key}\n            key={component.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Favorite from '../../../components/controls/Favorite';\nimport { getComponentForSourceViewer } from '../../../api/components';\nimport { isMainBranch } from '../../../helpers/branches';\n\ntype FavComponent = Pick<T.SourceViewerFile, 'canMarkAsFavorite' | 'fav' | 'key' | 'q'>;\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  className?: string;\n  component: string;\n}\n\ninterface State {\n  component?: FavComponent;\n}\n\nexport default class MeasureFavoriteContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponentFavorite();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchComponentFavorite();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponentFavorite() {\n    getComponentForSourceViewer({ component: this.props.component }).then(\n      component => {\n        if (this.mounted) {\n          this.setState({ component });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { component } = this.state;\n    if (\n      !component ||\n      !component.canMarkAsFavorite ||\n      (this.props.branchLike && !isMainBranch(this.props.branchLike))\n    ) {\n      return null;\n    }\n    return (\n      <Favorite\n        className={this.props.className}\n        component={component.key}\n        favorite={component.fav || false}\n        qualifier={component.q}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { injectIntl, InjectedIntlProps } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateFormatter, { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getPeriodLabel, getPeriodDate } from '../../../helpers/periods';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { differenceInDays } from '../../../helpers/dates';\n\ninterface Props {\n  className?: string;\n  component: T.ComponentMeasure;\n  period: T.Period;\n}\n\nexport class LeakPeriodLegend extends React.PureComponent<Props & InjectedIntlProps> {\n  formatDate = (date: string) => {\n    return this.props.intl.formatDate(date, longFormatterOption);\n  };\n\n  render() {\n    const { className, component, period } = this.props;\n    const leakClass = classNames('domain-measures-header leak-box', className);\n    if (component.qualifier === 'APP') {\n      return <div className={leakClass}>{translate('issues.new_code_period')}</div>;\n    }\n\n    const leakPeriodLabel = getPeriodLabel(period, this.formatDate);\n    if (!leakPeriodLabel) {\n      return null;\n    }\n\n    const label = (\n      <div className={leakClass}>\n        {translateWithParameters('overview.new_code_period_x', leakPeriodLabel)}\n      </div>\n    );\n\n    if (period.mode === 'days') {\n      return label;\n    }\n\n    const date = getPeriodDate(period);\n    const tooltip = date && (\n      <div>\n        <DateFromNow date={date} />\n        {', '}\n        {differenceInDays(new Date(), date) < 1 ? (\n          <DateTimeFormatter date={date} />\n        ) : (\n          <DateFormatter date={date} long={true} />\n        )}\n      </div>\n    );\n\n    return <Tooltip overlay={tooltip}>{label}</Tooltip>;\n  }\n}\n\nexport default injectIntl(LeakPeriodLegend);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\ninterface Domains {\n  [domain: string]: { categories?: string[]; order: string[] };\n}\n\nexport const domains: Domains = {\n  Reliability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      'new_bugs',\n      'new_reliability_rating',\n      'new_reliability_remediation_effort',\n\n      'overall_category',\n      'bugs',\n      'reliability_rating',\n      'reliability_remediation_effort'\n    ]\n  },\n\n  Security: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      'new_vulnerabilities',\n      'new_security_rating',\n      'new_security_remediation_effort',\n\n      'overall_category',\n      'vulnerabilities',\n      'security_rating',\n      'security_remediation_effort'\n    ]\n  },\n\n  Maintainability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      'new_code_smells',\n      'new_technical_debt',\n      'new_sqale_debt_ratio',\n      'new_maintainability_rating',\n\n      'overall_category',\n      'code_smells',\n      'sqale_index',\n      'sqale_debt_ratio',\n      'sqale_rating',\n      'effort_to_reach_maintainability_rating_a'\n    ]\n  },\n\n  Coverage: {\n    categories: ['new_code_category', 'overall_category', 'tests_category'],\n    order: [\n      'new_code_category',\n      'new_coverage',\n      'new_lines_to_cover',\n      'new_uncovered_lines',\n      'new_line_coverage',\n      'new_conditions_to_cover',\n      'new_uncovered_conditions',\n      'new_branch_coverage',\n\n      'overall_category',\n      'coverage',\n      'lines_to_cover',\n      'uncovered_lines',\n      'line_coverage',\n      'conditions_to_cover',\n      'uncovered_conditions',\n      'branch_coverage',\n\n      'tests_category',\n      'tests',\n      'test_success',\n      'test_errors',\n      'test_failures',\n      'skipped_tests',\n      'test_success_density',\n      'test_execution_time'\n    ]\n  },\n\n  Duplications: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      'new_duplicated_lines_density',\n      'new_duplicated_lines',\n      'new_duplicated_blocks',\n\n      'overall_category',\n      'duplicated_lines_density',\n      'duplicated_lines',\n      'duplicated_blocks',\n      'duplicated_files'\n    ]\n  },\n\n  Size: {\n    order: [\n      'new_lines',\n\n      'ncloc',\n      'lines',\n      'statements',\n      'functions',\n      'classes',\n      'files',\n      'directories'\n    ]\n  },\n\n  Complexity: {\n    order: ['complexity', 'function_complexity', 'file_complexity', 'class_complexity']\n  },\n\n  Releasability: {\n    order: ['releasability_rating', 'releasability_effort', 'alert_status']\n  },\n\n  Issues: {\n    order: [\n      'new_violations',\n      'new_blocker_violations',\n      'new_critical_violations',\n      'new_major_violations',\n      'new_minor_violations',\n      'new_info_violations',\n\n      'violations',\n      'blocker_violations',\n      'critical_violations',\n      'major_violations',\n      'minor_violations',\n      'info_violations',\n      'open_issues',\n      'reopened_issues',\n      'confirmed_issues',\n      'false_positive_issues'\n    ]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const bubbles: {\n  [domain: string]: {\n    x: string;\n    y: string;\n    size: string;\n    colors?: string[];\n    yDomain?: [number, number];\n  };\n} = {\n  Reliability: {\n    x: 'ncloc',\n    y: 'reliability_remediation_effort',\n    size: 'bugs',\n    colors: ['reliability_rating']\n  },\n  Security: {\n    x: 'ncloc',\n    y: 'security_remediation_effort',\n    size: 'vulnerabilities',\n    colors: ['security_rating']\n  },\n  Maintainability: {\n    x: 'ncloc',\n    y: 'sqale_index',\n    size: 'code_smells',\n    colors: ['sqale_rating']\n  },\n  Coverage: { x: 'complexity', y: 'coverage', size: 'uncovered_lines', yDomain: [100, 0] },\n  Duplications: { x: 'ncloc', y: 'duplicated_lines', size: 'duplicated_blocks' },\n  project_overview: {\n    x: 'sqale_index',\n    y: 'coverage',\n    size: 'ncloc',\n    colors: ['reliability_rating', 'security_rating'],\n    yDomain: [100, 0]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, memoize, sortBy, toPairs } from 'lodash';\nimport { domains } from './config/domains';\nimport { bubbles } from './config/bubbles';\nimport { getLocalizedMetricName } from '../../helpers/l10n';\nimport { enhanceMeasure } from '../../components/measure/utils';\nimport { cleanQuery, parseAsString, RawQuery, serializeString } from '../../helpers/query';\nimport { isLongLivingBranch, isMainBranch } from '../../helpers/branches';\nimport { getDisplayMetrics } from '../../helpers/measures';\n\nexport const PROJECT_OVERVEW = 'project_overview';\nexport const DEFAULT_VIEW = 'list';\nexport const DEFAULT_METRIC = PROJECT_OVERVEW;\nexport const KNOWN_DOMAINS = [\n  'Releasability',\n  'Reliability',\n  'Security',\n  'Maintainability',\n  'Coverage',\n  'Duplications',\n  'Size',\n  'Complexity'\n];\nconst BANNED_MEASURES = [\n  'blocker_violations',\n  'new_blocker_violations',\n  'critical_violations',\n  'new_critical_violations',\n  'major_violations',\n  'new_major_violations',\n  'minor_violations',\n  'new_minor_violations',\n  'info_violations',\n  'new_info_violations'\n];\n\nexport function filterMeasures(measures: T.MeasureEnhanced[]): T.MeasureEnhanced[] {\n  return measures.filter(measure => !BANNED_MEASURES.includes(measure.metric.key));\n}\n\nexport function sortMeasures(\n  domainName: string,\n  measures: Array<T.MeasureEnhanced | string>\n): Array<T.MeasureEnhanced | string> {\n  const config = domains[domainName] || {};\n  const configOrder = config.order || [];\n  return sortBy(measures, [\n    (item: T.MeasureEnhanced | string) => {\n      if (typeof item === 'string') {\n        return configOrder.indexOf(item);\n      }\n      const idx = configOrder.indexOf(item.metric.key);\n      return idx >= 0 ? idx : configOrder.length;\n    },\n    (item: T.MeasureEnhanced | string) =>\n      typeof item === 'string' ? item : getLocalizedMetricName(item.metric)\n  ]);\n}\n\nexport function addMeasureCategories(domainName: string, measures: T.MeasureEnhanced[]) {\n  const categories = domains[domainName] && domains[domainName].categories;\n  if (categories && categories.length > 0) {\n    return [...categories, ...measures];\n  }\n  return measures;\n}\n\nexport function enhanceComponent(\n  component: T.ComponentMeasure,\n  metric: T.Metric | undefined,\n  metrics: { [key: string]: T.Metric }\n): T.ComponentMeasureEnhanced {\n  if (!component.measures) {\n    return { ...component, measures: [] };\n  }\n\n  const enhancedMeasures = component.measures.map(measure => enhanceMeasure(measure, metrics));\n  const measure = metric && enhancedMeasures.find(measure => measure.metric.key === metric.key);\n  const value = measure && measure.value;\n  const leak = measure && measure.leak;\n  return { ...component, value, leak, measures: enhancedMeasures };\n}\n\nexport function isFileType(component: T.ComponentMeasure): boolean {\n  return ['FIL', 'UTS'].includes(component.qualifier);\n}\n\nexport function isViewType(component: T.ComponentMeasure): boolean {\n  return ['VW', 'SVW', 'APP'].includes(component.qualifier);\n}\n\nexport const groupByDomains = memoize((measures: T.MeasureEnhanced[]) => {\n  const domains = toPairs(groupBy(measures, measure => measure.metric.domain)).map(r => ({\n    name: r[0],\n    measures: r[1]\n  }));\n\n  return sortBy(domains, [\n    (domain: { name: string; measures: T.MeasureEnhanced[] }) => {\n      const idx = KNOWN_DOMAINS.indexOf(domain.name);\n      return idx >= 0 ? idx : KNOWN_DOMAINS.length;\n    },\n    'name'\n  ]);\n});\n\nexport function getDefaultView(metric: string): string {\n  if (!hasList(metric)) {\n    return 'tree';\n  }\n  return DEFAULT_VIEW;\n}\n\nexport function hasList(metric: string): boolean {\n  return !['releasability_rating', 'releasability_effort'].includes(metric);\n}\n\nexport function hasTree(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasTreemap(metric: string, type: string): boolean {\n  return ['PERCENT', 'RATING', 'LEVEL'].includes(type) && hasTree(metric);\n}\n\nexport function hasBubbleChart(domainName: string): boolean {\n  return bubbles[domainName] !== undefined;\n}\n\nexport function hasFacetStat(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasFullMeasures(branch?: T.BranchLike) {\n  return !branch || isLongLivingBranch(branch) || isMainBranch(branch);\n}\n\nexport function getMeasuresPageMetricKeys(\n  metrics: { [key: string]: T.Metric },\n  branch?: T.BranchLike\n) {\n  if (!hasFullMeasures(branch)) {\n    return [\n      'coverage',\n      'new_coverage',\n      'new_lines_to_cover',\n      'new_uncovered_lines',\n      'new_line_coverage',\n      'new_conditions_to_cover',\n      'new_uncovered_conditions',\n      'new_branch_coverage',\n\n      'duplicated_lines_density',\n      'new_duplicated_lines_density',\n      'new_duplicated_lines',\n      'new_duplicated_blocks'\n    ];\n  }\n\n  return getDisplayMetrics(Object.values(metrics)).map(metric => metric.key);\n}\n\nexport function getBubbleMetrics(domain: string, metrics: { [key: string]: T.Metric }) {\n  const conf = bubbles[domain];\n  return {\n    x: metrics[conf.x],\n    y: metrics[conf.y],\n    size: metrics[conf.size],\n    colors: conf.colors && conf.colors.map(color => metrics[color])\n  };\n}\n\nexport function getBubbleYDomain(domain: string) {\n  return bubbles[domain].yDomain;\n}\n\nexport function isProjectOverview(metric: string) {\n  return metric === PROJECT_OVERVEW;\n}\n\nconst parseView = (metric: string, rawView?: string) => {\n  const view = parseAsString(rawView) || DEFAULT_VIEW;\n  if (!hasTree(metric)) {\n    return 'list';\n  } else if (view === 'list' && !hasList(metric)) {\n    return 'tree';\n  }\n  return view;\n};\n\nexport interface Query {\n  metric: string;\n  selected?: string;\n  view: string;\n}\n\nexport const parseQuery = memoize((urlQuery: RawQuery) => {\n  const metric = parseAsString(urlQuery['metric']) || DEFAULT_METRIC;\n  return {\n    metric,\n    selected: parseAsString(urlQuery['selected']),\n    view: parseView(metric, urlQuery['view'])\n  };\n});\n\nexport const serializeQuery = memoize((query: Query) => {\n  return cleanQuery({\n    metric: query.metric === DEFAULT_METRIC ? null : serializeString(query.metric),\n    selected: serializeString(query.selected),\n    view: query.view === DEFAULT_VIEW ? null : serializeString(query.view)\n  });\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LeakPeriodLegend from './LeakPeriodLegend';\nimport HistoryIcon from '../../../components/icons-components/HistoryIcon';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getLocalizedMetricName, translate } from '../../../helpers/l10n';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { hasFullMeasures } from '../utils';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  leakPeriod?: T.Period;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n  secondaryMeasure?: T.MeasureEnhanced;\n}\n\nexport default function MeasureHeader(props: Props) {\n  const { branchLike, component, leakPeriod, measure, metric, secondaryMeasure } = props;\n  const isDiff = isDiffMetric(metric.key);\n  const hasHistory =\n    component.qualifier !== 'FIL' && component.qualifier !== 'UTS' && hasFullMeasures(branchLike);\n  const displayLeak = hasFullMeasures(branchLike);\n  return (\n    <div className=\"measure-details-header big-spacer-bottom\">\n      <div className=\"measure-details-primary\">\n        <div className=\"measure-details-metric\">\n          <IssueTypeIcon className=\"little-spacer-right text-text-bottom\" query={metric.key} />\n          {getLocalizedMetricName(metric)}\n          <span className=\"measure-details-value spacer-left\">\n            <strong>\n              {isDiff ? (\n                <Measure\n                  className=\"leak-box\"\n                  metricKey={metric.key}\n                  metricType={metric.type}\n                  value={measure && measure.leak}\n                />\n              ) : (\n                <Measure\n                  metricKey={metric.key}\n                  metricType={metric.type}\n                  value={measure && measure.value}\n                />\n              )}\n            </strong>\n          </span>\n          {!isDiff &&\n            hasHistory && (\n              <Tooltip overlay={translate('component_measures.show_metric_history')}>\n                <Link\n                  className=\"js-show-history spacer-left button button-small\"\n                  to={getMeasureHistoryUrl(component.key, metric.key, branchLike)}>\n                  <HistoryIcon />\n                </Link>\n              </Tooltip>\n            )}\n        </div>\n        <div className=\"measure-details-primary-actions\">\n          {displayLeak &&\n            leakPeriod && (\n              <LeakPeriodLegend className=\"spacer-left\" component={component} period={leakPeriod} />\n            )}\n        </div>\n      </div>\n      {secondaryMeasure &&\n        secondaryMeasure.metric.key === 'ncloc_language_distribution' &&\n        secondaryMeasure.value !== undefined && (\n          <div className=\"measure-details-secondary\">\n            <LanguageDistributionContainer\n              alignTicks={true}\n              distribution={secondaryMeasure.value}\n              width={260}\n            />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TreeIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.045 2.467c0-0.277-0.225-0.503-0.503-0.503h-13.084c-0.277 0-0.503 0.225-0.503 0.503v1.007c0 0.277 0.225 0.503 0.503 0.503h13.084c0.277 0 0.503-0.225 0.503-0.503v-1.007zM15.045 5.487c0-0.277-0.194-0.503-0.432-0.503h-11.216c-0.238 0-0.432 0.225-0.432 0.503v1.007c0 0.277 0.193 0.503 0.432 0.503h11.216c0.238 0 0.432-0.225 0.432-0.503v-1.007zM15.045 8.506c0-0.277-0.161-0.503-0.359-0.503h-9.346c-0.198 0-0.359 0.225-0.359 0.503v1.007c0 0.277 0.161 0.503 0.359 0.503h9.346c0.198 0 0.359-0.225 0.359-0.503v-1.007zM15.045 11.527c0-0.277-0.129-0.503-0.287-0.503h-7.477c-0.159 0-0.288 0.225-0.288 0.503v1.007c0 0.277 0.129 0.503 0.288 0.503h7.477c0.159 0 0.287-0.225 0.287-0.503v-1.007z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function TreemapIcon({ className, fill = 'currentColor', size = 14 }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M0 0h8v16h-8zM9.143 0h6.857v9.143h-6.857zM9.143 10.286h6.857v5.714h-6.857z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ListIcon from '../../../components/icons-components/ListIcon';\nimport TreeIcon from '../../../components/icons-components/TreeIcon';\nimport TreemapIcon from '../../../components/icons-components/TreemapIcon';\nimport Select from '../../../components/controls/Select';\nimport { hasList, hasTree, hasTreemap } from '../utils';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  metric: T.Metric;\n  handleViewChange: (view: string) => void;\n  view: string;\n}\n\nexport default class MeasureViewSelect extends React.PureComponent<Props> {\n  getOptions = () => {\n    const { metric } = this.props;\n    const options = [];\n    if (hasList(metric.key)) {\n      options.push({\n        icon: <ListIcon />,\n        label: translate('component_measures.tab.list'),\n        value: 'list'\n      });\n    }\n    if (hasTree(metric.key)) {\n      options.push({\n        icon: <TreeIcon />,\n        label: translate('component_measures.tab.tree'),\n        value: 'tree'\n      });\n    }\n    if (hasTreemap(metric.key, metric.type)) {\n      options.push({\n        icon: <TreemapIcon />,\n        label: translate('component_measures.tab.treemap'),\n        value: 'treemap'\n      });\n    }\n    return options;\n  };\n\n  handleChange = (option: { value: string }) => {\n    return this.props.handleViewChange(option.value);\n  };\n\n  renderOption = (option: { icon: JSX.Element; label: string }) => {\n    return (\n      <>\n        {option.icon}\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n  };\n\n  renderValue = (value: { icon: JSX.Element }) => {\n    return value.icon;\n  };\n\n  render() {\n    return (\n      <Select\n        autoBlur={true}\n        className={this.props.className}\n        clearable={false}\n        onChange={this.handleChange}\n        optionRenderer={this.renderOption}\n        options={this.getOptions()}\n        searchable={false}\n        value={this.props.view}\n        valueRenderer={this.renderValue}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport { Alert } from '../../../components/ui/Alert';\n\n// TODO seems like this component is used by never rendered in real life\nexport default function MetricNotFound({ className }: { className?: string }) {\n  return (\n    <div className={className}>\n      <Alert variant=\"error\">{translate('component_measures.not_found')}</Alert>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  total: number;\n}\n\nexport default function FilesCounter({ className, current, total }: Props) {\n  return (\n    <span className={className}>\n      <strong>\n        {current !== undefined && (\n          <span>\n            {formatMeasure(current, 'INT')}\n            {' / '}\n          </span>\n        )}\n        {formatMeasure(total, 'INT')}\n      </strong>{' '}\n      {translate('component_measures.files')}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FilesCounter from './FilesCounter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  current?: number;\n  isFile?: boolean;\n  paging?: T.Paging;\n  totalLoadedComponents?: number;\n  view?: string;\n}\n\nexport default function PageActions(props: Props) {\n  const { isFile, paging, totalLoadedComponents } = props;\n  const showShortcuts = props.view && ['list', 'tree'].includes(props.view);\n  return (\n    <div className=\"pull-right\">\n      {!isFile && showShortcuts && renderShortcuts()}\n      {isFile && paging && renderFileShortcuts()}\n      <div className=\"measure-details-page-actions\">\n        {paging != null && (\n          <FilesCounter\n            className=\"spacer-left\"\n            current={props.current}\n            total={isFile && totalLoadedComponents != null ? totalLoadedComponents : paging.total}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction renderShortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('component_measures.to_select_files')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('component_measures.to_navigate')}\n      </span>\n    </span>\n  );\n}\n\nfunction renderFileShortcuts() {\n  return (\n    <span className=\"note spacer-right\">\n      <span>\n        <span className=\"shortcut-button little-spacer-right\">j</span>\n        <span className=\"shortcut-button little-spacer-right\">k</span>\n        {translate('component_measures.to_navigate_files')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport LongLivingBranchIcon from '../../../components/icons-components/LongLivingBranchIcon';\nimport { splitPath } from '../../../helpers/path';\nimport {\n  getPathUrlAsString,\n  getBranchLikeUrl,\n  getComponentDrilldownUrlWithSelection,\n  getProjectUrl\n} from '../../../helpers/urls';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default class ComponentCell extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\n    if (isLeftClickEvent && !isModifiedEvent) {\n      event.preventDefault();\n      this.props.onClick(this.props.component.key);\n    }\n  };\n\n  renderInner(componentKey: string) {\n    const { component } = this.props;\n    let head = '';\n    let tail = component.name;\n    let branchComponent = null;\n\n    if (['DIR', 'FIL', 'UTS'].includes(component.qualifier) && component.path) {\n      ({ head, tail } = splitPath(component.path));\n    }\n\n    if (this.props.rootComponent.qualifier === 'APP') {\n      branchComponent = (\n        <>\n          {component.branch ? (\n            <>\n              <LongLivingBranchIcon className=\"spacer-left little-spacer-right\" />\n              <span className=\"note\">{component.branch}</span>\n            </>\n          ) : (\n            <span className=\"spacer-left outline-badge\">{translate('branches.main_branch')}</span>\n          )}\n        </>\n      );\n    }\n    return (\n      <span title={componentKey}>\n        <QualifierIcon qualifier={component.qualifier} />\n        &nbsp;\n        {head.length > 0 && <span className=\"note\">{head}/</span>}\n        <span>{tail}</span>\n        {branchComponent}\n      </span>\n    );\n  }\n\n  render() {\n    const { branchLike, component, metric, rootComponent } = this.props;\n    return (\n      <td className=\"measure-details-component-cell\">\n        <div className=\"text-ellipsis\">\n          {!component.refKey ? (\n            <a\n              className=\"link-no-underline\"\n              href={getPathUrlAsString(\n                getComponentDrilldownUrlWithSelection(\n                  rootComponent.key,\n                  component.key,\n                  metric.key,\n                  branchLike\n                )\n              )}\n              id={'component-measures-component-link-' + component.key}\n              onClick={this.handleClick}>\n              {this.renderInner(component.key)}\n            </a>\n          ) : (\n            <Link\n              className=\"link-no-underline\"\n              id={'component-measures-component-link-' + component.refKey}\n              to={\n                this.props.rootComponent.qualifier === 'APP'\n                  ? getProjectUrl(component.refKey, component.branch)\n                  : getBranchLikeUrl(component.refKey, branchLike)\n              }>\n              <span className=\"big-spacer-right\">\n                <LinkIcon />\n              </span>\n              {this.renderInner(component.refKey)}\n            </Link>\n          )}\n        </div>\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  component: T.ComponentMeasureEnhanced;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n}\n\nexport default function MeasureCell({ component, measure, metric }: Props) {\n  const getValue = (item: { leak?: string; value?: string }) =>\n    isDiffMetric(metric.key) ? item.leak : item.value;\n\n  const value = getValue(measure || component);\n\n  return (\n    <td className=\"thin nowrap text-right\">\n      <span id={`component-measures-component-measure-${component.key}-${metric.key}`}>\n        <Measure metricKey={metric.key} metricType={metric.type} value={value} />\n      </span>\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport ComponentCell from './ComponentCell';\nimport MeasureCell from './MeasureCell';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  isSelected: boolean;\n  onClick: (component: string) => void;\n  otherMetrics: T.Metric[];\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n}\n\nexport default function ComponentsListRow(props: Props) {\n  const { branchLike, component, rootComponent } = props;\n  const otherMeasures = props.otherMetrics.map(metric => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    return { ...measure, metric };\n  });\n  const rowClass = classNames('measure-details-component-row', {\n    selected: props.isSelected\n  });\n  return (\n    <tr className={rowClass}>\n      <ComponentCell\n        branchLike={branchLike}\n        component={component}\n        metric={props.metric}\n        onClick={props.onClick}\n        rootComponent={rootComponent}\n      />\n\n      <MeasureCell component={component} metric={props.metric} />\n\n      {otherMeasures.map(measure => (\n        <MeasureCell\n          component={component}\n          key={measure.metric.key}\n          measure={measure}\n          metric={measure.metric}\n        />\n      ))}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function EmptyResult() {\n  return <div className=\"note\">{translate('no_results')}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const complementary: { [metric: string]: string[] } = {\n  coverage: ['uncovered_lines', 'uncovered_conditions'],\n  line_coverage: ['uncovered_lines'],\n  branch_coverage: ['uncovered_conditions'],\n  uncovered_lines: ['line_coverage'],\n  uncovered_conditions: ['branch_coverage'],\n\n  new_coverage: ['new_uncovered_lines', 'new_uncovered_conditions'],\n  new_line_coverage: ['new_uncovered_lines'],\n  new_branch_coverage: ['new_uncovered_conditions'],\n  new_uncovered_lines: ['new_line_coverage'],\n  new_uncovered_conditions: ['new_branch_coverage'],\n\n  duplicated_lines_density: ['duplicated_lines'],\n  new_duplicated_lines_density: ['new_duplicated_lines'],\n  duplicated_lines: ['duplicated_lines_density'],\n  new_duplicated_lines: ['new_duplicated_lines_density']\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentsListRow from './ComponentsListRow';\nimport EmptyResult from './EmptyResult';\nimport { complementary } from '../config/complementary';\nimport { getLocalizedMetricName } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  selectedComponent?: string;\n}\n\nexport default function ComponentsList({ components, metric, metrics, ...props }: Props) {\n  if (!components.length) {\n    return <EmptyResult />;\n  }\n\n  const otherMetrics = (complementary[metric.key] || []).map(key => metrics[key]);\n  return (\n    <React.Fragment>\n      <table className=\"data zebra zebra-hover\">\n        {otherMetrics.length > 0 && (\n          <thead>\n            <tr>\n              <th>&nbsp;</th>\n              <th className=\"text-right\">\n                <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n              </th>\n              {otherMetrics.map(metric => (\n                <th className=\"text-right\" key={metric.key}>\n                  <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n                </th>\n              ))}\n            </tr>\n          </thead>\n        )}\n\n        <tbody>\n          {components.map(component => (\n            <ComponentsListRow\n              component={component}\n              isSelected={component.key === props.selectedComponent}\n              key={component.key}\n              metric={metric}\n              otherMetrics={otherMetrics}\n              {...props}\n            />\n          ))}\n        </tbody>\n      </table>\n    </React.Fragment>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { throttle } from 'lodash';\nimport ComponentsList from './ComponentsList';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { isPeriodBestValue, isDiffMetric, formatMeasure } from '../../../helpers/measures';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport { Alert } from '../../../components/ui/Alert';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  fetchMore: () => void;\n  handleSelect: (component: string) => void;\n  handleOpen: (component: string) => void;\n  loadingMore: boolean;\n  metric: T.Metric;\n  metrics: { [metric: string]: T.Metric };\n  paging?: T.Paging;\n  rootComponent: T.ComponentMeasure;\n  selectedKey?: string;\n  selectedIdx?: number;\n}\n\ninterface State {\n  showBestMeasures: boolean;\n}\n\nexport default class ListView extends React.PureComponent<Props, State> {\n  listContainer?: HTMLElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { showBestMeasures: false };\n    this.selectNext = throttle(this.selectNext, 100);\n    this.selectPrevious = throttle(this.selectPrevious, 100);\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n    if (this.props.selectedKey !== undefined) {\n      this.scrollToElement();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selectedKey !== undefined && prevProps.selectedKey !== this.props.selectedKey) {\n      this.scrollToElement();\n    }\n    if (prevProps.metric.key !== this.props.metric.key) {\n      this.setState({ showBestMeasures: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('up', 'measures-files', () => {\n      this.selectPrevious();\n      return false;\n    });\n    key('down', 'measures-files', () => {\n      this.selectNext();\n      return false;\n    });\n    key('right', 'measures-files', () => {\n      this.openSelected();\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    ['up', 'down', 'right'].forEach(action => key.unbind(action, 'measures-files'));\n  }\n\n  getVisibleComponents = (components: T.ComponentMeasureEnhanced[], showBestMeasures: boolean) => {\n    if (showBestMeasures) {\n      return components;\n    }\n    const filtered = components.filter(component => !this.hasBestValue(component));\n    if (filtered.length === 0) {\n      return components;\n    }\n    return filtered;\n  };\n\n  handleShowBestMeasures = () => {\n    this.setState({ showBestMeasures: true });\n  };\n\n  hasBestValue = (component: T.ComponentMeasureEnhanced) => {\n    const { metric } = this.props;\n    const focusedMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (focusedMeasure && isDiffMetric(metric.key)) {\n      return isPeriodBestValue(focusedMeasure, 1);\n    }\n    return Boolean(focusedMeasure && focusedMeasure.bestValue);\n  };\n\n  openSelected = () => {\n    if (this.props.selectedKey !== undefined) {\n      this.props.handleOpen(this.props.selectedKey);\n    }\n  };\n\n  selectPrevious = () => {\n    const { components, selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents(components, this.state.showBestMeasures);\n    if (selectedIdx !== undefined && selectedIdx > 0) {\n      this.props.handleSelect(visibleComponents[selectedIdx - 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[visibleComponents.length - 1].key);\n    }\n  };\n\n  selectNext = () => {\n    const { components, selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents(components, this.state.showBestMeasures);\n    if (selectedIdx !== undefined && selectedIdx < visibleComponents.length - 1) {\n      this.props.handleSelect(visibleComponents[selectedIdx + 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[0].key);\n    }\n  };\n\n  scrollToElement = () => {\n    if (this.listContainer) {\n      const elem = this.listContainer.getElementsByClassName('selected')[0];\n      if (elem) {\n        scrollToElement(elem, { topOffset: 215, bottomOffset: 100 });\n      }\n    }\n  };\n\n  render() {\n    const { components } = this.props;\n    const filteredComponents = this.getVisibleComponents(components, this.state.showBestMeasures);\n    const hidingBestMeasures = filteredComponents.length < components.length;\n    return (\n      <div ref={elem => (this.listContainer = elem)}>\n        <ComponentsList\n          branchLike={this.props.branchLike}\n          components={filteredComponents}\n          metric={this.props.metric}\n          metrics={this.props.metrics}\n          onClick={this.props.handleOpen}\n          rootComponent={this.props.rootComponent}\n          selectedComponent={this.props.selectedKey}\n        />\n        {hidingBestMeasures && (\n          <Alert className=\"spacer-top\" variant=\"info\">\n            {translateWithParameters(\n              'component_measures.hidden_best_score_metrics',\n              components.length - filteredComponents.length,\n              formatMeasure(this.props.metric.bestValue, this.props.metric.type)\n            )}\n            <Button className=\"button-link spacer-left\" onClick={this.handleShowBestMeasures}>\n              {translate('show_all')}\n            </Button>\n          </Alert>\n        )}\n        {!hidingBestMeasures &&\n          this.props.paging &&\n          this.props.components.length > 0 && (\n            <ListFooter\n              count={this.props.components.length}\n              loadMore={this.props.fetchMore}\n              loading={this.props.loadingMore}\n              total={this.props.paging.total}\n            />\n          )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  leakPeriod?: T.Period;\n  metric: T.Metric;\n  selectedIdx?: number;\n  updateSelected: (component: string) => void;\n}\n\nexport default class CodeView extends React.PureComponent<Props> {\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('j', 'measures-files', () => {\n      this.selectNext();\n      return false;\n    });\n    key('k', 'measures-files', () => {\n      this.selectPrevious();\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    ['j', 'k'].forEach(action => key.unbind(action, 'measures-files'));\n  }\n\n  selectPrevious = () => {\n    const { selectedIdx } = this.props;\n    if (selectedIdx != null && selectedIdx > 0) {\n      const prevComponent = this.props.components[selectedIdx - 1];\n      if (prevComponent) {\n        this.props.updateSelected(prevComponent.key);\n      }\n    }\n  };\n\n  selectNext = () => {\n    const { components, selectedIdx } = this.props;\n    if (selectedIdx != null && selectedIdx < components.length - 1) {\n      const nextComponent = components[selectedIdx + 1];\n      if (nextComponent) {\n        this.props.updateSelected(nextComponent.key);\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component } = this.props;\n    return <SourceViewer branchLike={branchLike} component={component.key} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport { formatMeasure } from '../../helpers/measures';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n  colorNA?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  metricType: string;\n}\n\nexport default function ColorBoxLegend({ className, colorScale, colorNA, metricType }: Props) {\n  const colorDomain: Array<number | string> = colorScale.domain();\n  const colorRange = colorScale.range();\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {colorDomain.map((value, idx) => (\n        <div key={value}>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorRange[idx] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: colorRange[idx] }}\n            />\n          </span>\n          {formatMeasure(value, metricType)}\n        </div>\n      ))}\n      {colorNA && (\n        <div>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorNA }}>\n            <span className=\"color-box-legend-rect-inner\" style={{ backgroundColor: colorNA }} />\n          </span>\n          N/A\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport './ColorGradientLegend.css';\n\ninterface Props {\n  className?: string;\n  colorNA?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  direction?: number;\n  height: number;\n  padding?: [number, number, number, number];\n  width: number;\n}\n\nconst NA_SPACING = 4;\n\nexport default function ColorGradientLegend({\n  className,\n  colorScale,\n  colorNA,\n  direction,\n  padding = [12, 24, 0, 0],\n  height,\n  width\n}: Props) {\n  const colorRange: Array<string | number> = colorScale.range();\n  if (direction === 1) {\n    colorRange.reverse();\n  }\n\n  const colorDomain: Array<string | number> = colorScale.domain();\n  const lastColorIdx = colorRange.length - 1;\n  const lastDomainIdx = colorDomain.length - 1;\n  const widthNoPadding = width - padding[1];\n  const rectHeight = height - padding[0];\n  return (\n    <svg className={className} height={height} width={width}>\n      <defs>\n        <linearGradient id=\"gradient-legend\">\n          {colorRange.map((color, idx) => (\n            <stop key={idx} offset={idx / lastColorIdx} stopColor={String(color)} />\n          ))}\n        </linearGradient>\n      </defs>\n      <g transform={`translate(${padding[3]}, ${padding[0]})`}>\n        <rect fill=\"url(#gradient-legend)\" height={rectHeight} width={widthNoPadding} x={0} y={0} />\n        {colorDomain.map((d, idx) => (\n          <text\n            className=\"gradient-legend-text\"\n            dy=\"-2px\"\n            key={idx}\n            x={widthNoPadding * (idx / lastDomainIdx)}\n            y={0}>\n            {d}\n          </text>\n        ))}\n      </g>\n      {colorNA && (\n        <g transform={`translate(${widthNoPadding}, ${padding[0]})`}>\n          <rect\n            fill={colorNA}\n            height={rectHeight}\n            width={padding[1] - NA_SPACING}\n            x={NA_SPACING}\n            y={0}\n          />\n          <text\n            className=\"gradient-legend-na\"\n            dy=\"-2px\"\n            x={NA_SPACING + (padding[1] - NA_SPACING) / 2}\n            y={0}>\n            N/A\n          </text>\n        </g>\n      )}\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport * as classNames from 'classnames';\nimport { scaleLinear } from 'd3-scale';\nimport LinkIcon from '../icons-components/LinkIcon';\nimport Tooltip, { Placement } from '../controls/Tooltip';\nimport { Location } from '../../helpers/urls';\n\nconst SIZE_SCALE = scaleLinear()\n  .domain([3, 15])\n  .range([11, 18])\n  .clamp(true);\n\ninterface Props {\n  fill: string;\n  height: number;\n  icon?: React.ReactNode;\n  itemKey: string;\n  label: string;\n  link?: string | Location;\n  onClick?: (item: string) => void;\n  placement?: Placement;\n  prefix: string;\n  tooltip?: React.ReactNode;\n  width: number;\n  x: number;\n  y: number;\n}\n\nexport default class TreeMapRect extends React.PureComponent<Props> {\n  handleLinkClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  handleRectClick = () => {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.itemKey);\n    }\n  };\n\n  renderLink = () => {\n    const { link, height, width } = this.props;\n    const hasMinSize = width >= 24 && height >= 24 && (width >= 48 || height >= 50);\n    if (!hasMinSize || link == null) {\n      return null;\n    }\n    return (\n      <Link className=\"treemap-link\" onClick={this.handleLinkClick} to={link}>\n        <LinkIcon />\n      </Link>\n    );\n  };\n\n  renderCell = () => {\n    const cellStyles = {\n      left: this.props.x,\n      top: this.props.y,\n      width: this.props.width,\n      height: this.props.height,\n      backgroundColor: this.props.fill,\n      fontSize: SIZE_SCALE(this.props.width / this.props.label.length),\n      lineHeight: `${this.props.height}px`,\n      cursor: this.props.onClick != null ? 'pointer' : 'default'\n    };\n    const isTextVisible = this.props.width >= 40 && this.props.height >= 45;\n    const isIconVisible = this.props.width >= 24 && this.props.height >= 26;\n\n    const label = this.props.prefix\n      ? `${this.props.prefix}<br>${this.props.label.substr(this.props.prefix.length)}`\n      : this.props.label;\n\n    return (\n      <div\n        className=\"treemap-cell\"\n        onClick={this.handleRectClick}\n        role=\"treeitem\"\n        style={cellStyles}\n        tabIndex={0}>\n        <div className=\"treemap-inner\" style={{ maxWidth: this.props.width }}>\n          {isIconVisible && (\n            <span className={classNames('treemap-icon', { 'spacer-right': isTextVisible })}>\n              {this.props.icon}\n            </span>\n          )}\n          {isTextVisible && (\n            <span className=\"treemap-text\" dangerouslySetInnerHTML={{ __html: label }} />\n          )}\n        </div>\n        {this.renderLink()}\n      </div>\n    );\n  };\n\n  render() {\n    const { placement, tooltip } = this.props;\n    return (\n      <Tooltip overlay={tooltip || undefined} placement={placement || 'left'}>\n        {this.renderCell()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { treemap as d3Treemap, hierarchy as d3Hierarchy } from 'd3-hierarchy';\nimport TreeMapRect from './TreeMapRect';\nimport { translate } from '../../helpers/l10n';\nimport { Location } from '../../helpers/urls';\nimport './TreeMap.css';\n\nexport interface TreeMapItem {\n  color: string;\n  icon?: React.ReactNode;\n  key: string;\n  label: string;\n  link?: string | Location;\n  size: number;\n  tooltip?: React.ReactNode;\n}\n\ninterface HierarchicalTreemapItem extends TreeMapItem {\n  children?: TreeMapItem[];\n}\n\ninterface Props {\n  height: number;\n  items: TreeMapItem[];\n  onRectangleClick?: (item: string) => void;\n  width: number;\n}\n\nexport default class TreeMap extends React.PureComponent<Props> {\n  mostCommitPrefix = (labels: string[]) => {\n    const sortedLabels = labels.slice(0).sort();\n    const firstLabel = sortedLabels[0];\n    const firstLabelLength = firstLabel.length;\n    const lastLabel = sortedLabels[sortedLabels.length - 1];\n    let i = 0;\n    while (i < firstLabelLength && firstLabel.charAt(i) === lastLabel.charAt(i)) {\n      i++;\n    }\n    const prefix = firstLabel.substr(0, i);\n    const prefixTokens = prefix.split(/[\\s\\\\/]/);\n    const lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n    return prefix.substr(0, prefix.length - lastPrefixPart.length);\n  };\n\n  renderNoData() {\n    return (\n      <div className=\"sonar-d3\">\n        <div\n          className=\"treemap-container\"\n          style={{ width: this.props.width, height: this.props.height }}>\n          {translate('no_data')}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { items, height, width } = this.props;\n    if (items.length <= 0) {\n      return this.renderNoData();\n    }\n\n    const hierarchy = d3Hierarchy({ children: items } as HierarchicalTreemapItem)\n      .sum(d => d.size)\n      .sort((a, b) => (b.value || 0) - (a.value || 0));\n\n    const treemap = d3Treemap<TreeMapItem>()\n      .round(true)\n      .size([width, height]);\n\n    const nodes = treemap(hierarchy).leaves();\n    const prefix = this.mostCommitPrefix(items.map(item => item.label));\n    const halfWidth = width / 2;\n    return (\n      <div className=\"sonar-d3\">\n        <div className=\"treemap-container\" style={{ width, height }}>\n          {nodes.map(node => (\n            <TreeMapRect\n              fill={node.data.color}\n              height={node.y1 - node.y0}\n              icon={node.data.icon}\n              itemKey={node.data.key}\n              key={node.data.key}\n              label={node.data.label}\n              link={node.data.link}\n              onClick={this.props.onRectangleClick}\n              placement={node.x0 === 0 || node.x1 < halfWidth ? 'right' : 'left'}\n              prefix={prefix}\n              tooltip={node.data.tooltip}\n              width={node.x1 - node.x0}\n              x={node.x0}\n              y={node.y0}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport EmptyResult from './EmptyResult';\nimport * as theme from '../../../app/theme';\nimport ColorBoxLegend from '../../../components/charts/ColorBoxLegend';\nimport ColorGradientLegend from '../../../components/charts/ColorGradientLegend';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport TreeMap, { TreeMapItem } from '../../../components/charts/TreeMap';\nimport { translate, translateWithParameters, getLocalizedMetricName } from '../../../helpers/l10n';\nimport { formatMeasure, isDiffMetric } from '../../../helpers/measures';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\nimport { isDefined } from '../../../helpers/types';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  handleSelect: (component: string) => void;\n  metric: T.Metric;\n}\n\ninterface State {\n  treemapItems: TreeMapItem[];\n}\n\nconst HEIGHT = 500;\nconst COLORS = [theme.green, theme.lightGreen, theme.yellow, theme.orange, theme.red];\nconst LEVEL_COLORS = [theme.red, theme.orange, theme.green, theme.gray71];\n\nexport default class TreeMapView extends React.PureComponent<Props, State> {\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { treemapItems: this.getTreemapComponents(props) };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.components !== this.props.components || nextProps.metric !== this.props.metric) {\n      this.setState({ treemapItems: this.getTreemapComponents(nextProps) });\n    }\n  }\n\n  getTreemapComponents = ({ branchLike, components, metric }: Props) => {\n    const colorScale = this.getColorScale(metric);\n    return components\n      .map(component => {\n        const colorMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n        const sizeMeasure = component.measures.find(measure => measure.metric.key !== metric.key);\n        if (!sizeMeasure) {\n          return undefined;\n        }\n        const colorValue =\n          colorMeasure && (isDiffMetric(metric.key) ? colorMeasure.leak : colorMeasure.value);\n        const rawSizeValue = isDiffMetric(sizeMeasure.metric.key)\n          ? sizeMeasure.leak\n          : sizeMeasure.value;\n        if (rawSizeValue === undefined) {\n          return undefined;\n        }\n\n        const sizeValue = Number(rawSizeValue);\n        return {\n          color:\n            colorValue !== undefined ? (colorScale as Function)(colorValue) : theme.secondFontColor,\n          icon: <QualifierIcon fill={theme.baseFontColor} qualifier={component.qualifier} />,\n          key: component.refKey || component.key,\n          label: component.name,\n          link: getBranchLikeUrl(component.refKey || component.key, branchLike),\n          size: sizeValue,\n          tooltip: this.getTooltip({\n            colorMetric: metric,\n            colorValue,\n            componentName: component.name,\n            sizeMetric: sizeMeasure.metric,\n            sizeValue\n          })\n        };\n      })\n      .filter(isDefined);\n  };\n\n  getLevelColorScale = () =>\n    scaleOrdinal<string, string>()\n      .domain(['ERROR', 'WARN', 'OK', 'NONE'])\n      .range(LEVEL_COLORS);\n\n  getPercentColorScale = (metric: T.Metric) => {\n    const color = scaleLinear<string, string>().domain([0, 25, 50, 75, 100]);\n    color.range(metric.direction === 1 ? [...COLORS].reverse() : COLORS);\n    return color;\n  };\n\n  getRatingColorScale = () =>\n    scaleLinear<string, string>()\n      .domain([1, 2, 3, 4, 5])\n      .range(COLORS);\n\n  getColorScale = (metric: T.Metric) => {\n    if (metric.type === 'LEVEL') {\n      return this.getLevelColorScale();\n    }\n    if (metric.type === 'RATING') {\n      return this.getRatingColorScale();\n    }\n    return this.getPercentColorScale(metric);\n  };\n\n  getTooltip = ({\n    colorMetric,\n    colorValue,\n    componentName,\n    sizeMetric,\n    sizeValue\n  }: {\n    colorMetric: T.Metric;\n    colorValue?: string;\n    componentName: string;\n    sizeMetric: T.Metric;\n    sizeValue: number;\n  }) => {\n    const formatted =\n      colorMetric && colorValue !== undefined ? formatMeasure(colorValue, colorMetric.type) : '';\n    return (\n      <div className=\"text-left\">\n        {componentName}\n        <br />\n        {`${getLocalizedMetricName(sizeMetric)}: ${formatMeasure(sizeValue, sizeMetric.type)}`}\n        <br />\n        {`${getLocalizedMetricName(colorMetric)}: ${formatted}`}\n      </div>\n    );\n  };\n\n  renderLegend() {\n    const { metric } = this.props;\n    const colorScale = this.getColorScale(metric);\n    if (['LEVEL', 'RATING'].includes(metric.type)) {\n      return (\n        <ColorBoxLegend\n          className=\"measure-details-treemap-legend color-box-full\"\n          colorScale={colorScale}\n          metricType={metric.type}\n        />\n      );\n    }\n    return (\n      <ColorGradientLegend\n        className=\"measure-details-treemap-legend\"\n        colorNA={theme.secondFontColor}\n        colorScale={colorScale}\n        direction={metric.direction}\n        height={20}\n        width={200}\n      />\n    );\n  }\n\n  render() {\n    const { treemapItems } = this.state;\n    if (treemapItems.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { components, metric } = this.props;\n    const sizeMeasure =\n      components.length > 0\n        ? components[0].measures.find(measure => measure.metric.key !== metric.key)\n        : null;\n    return (\n      <div className=\"measure-details-treemap\">\n        <ul className=\"list-inline note spacer-bottom\">\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.color_x',\n              getLocalizedMetricName(metric)\n            )}\n          </li>\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              translate(\n                'metric',\n                sizeMeasure && sizeMeasure.metric ? sizeMeasure.metric.key : 'ncloc',\n                'name'\n              )\n            )}\n          </li>\n          <li className=\"pull-right\">{this.renderLegend()}</li>\n        </ul>\n        <AutoSizer disableHeight={true}>\n          {({ width }) => (\n            <TreeMap\n              height={HEIGHT}\n              items={treemapItems}\n              onRectangleClick={this.props.handleSelect}\n              width={width}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { InjectedRouter } from 'react-router';\nimport Breadcrumbs from './Breadcrumbs';\nimport MeasureFavoriteContainer from './MeasureFavoriteContainer';\nimport MeasureHeader from './MeasureHeader';\nimport MeasureViewSelect from './MeasureViewSelect';\nimport MetricNotFound from './MetricNotFound';\nimport PageActions from './PageActions';\nimport FilesView from '../drilldown/FilesView';\nimport CodeView from '../drilldown/CodeView';\nimport TreeMapView from '../drilldown/TreeMapView';\nimport { getComponentTree } from '../../../api/components';\nimport { complementary } from '../config/complementary';\nimport { enhanceComponent, isFileType, isViewType } from '../utils';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { isSameBranchLike, getBranchLikeQuery } from '../../../helpers/branches';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport { RequestData } from '../../../helpers/request';\nimport { isLoggedIn } from '../../../helpers/users';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  currentUser: T.CurrentUser;\n  loading: boolean;\n  loadingMore: boolean;\n  leakPeriod?: T.Period;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  secondaryMeasure?: T.MeasureEnhanced;\n  updateLoading: (param: { [key: string]: boolean }) => void;\n  updateSelected: (component: string) => void;\n  updateView: (view: string) => void;\n  view: string;\n}\n\ninterface State {\n  components: T.ComponentMeasureEnhanced[];\n  metric?: T.Metric;\n  paging?: T.Paging;\n  selected?: string;\n  view?: string;\n}\n\nexport default class MeasureContent extends React.PureComponent<Props, State> {\n  container?: HTMLElement | null;\n  mounted = false;\n  state: State = { components: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponents(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      !isSameBranchLike(nextProps.branchLike, this.props.branchLike) ||\n      nextProps.component !== this.props.component ||\n      nextProps.metric !== this.props.metric\n    ) {\n      this.fetchComponents(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getSelectedIndex = () => {\n    const componentKey = isFileType(this.props.component)\n      ? this.props.component.key\n      : this.state.selected;\n    const index = this.state.components.findIndex(component => component.key === componentKey);\n    return index !== -1 ? index : undefined;\n  };\n\n  getComponentRequestParams = (view: string, metric: T.Metric, options: Object = {}) => {\n    const strategy = view === 'list' ? 'leaves' : 'children';\n    const metricKeys = [metric.key];\n    const opts: RequestData = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      additionalFields: 'metrics',\n      metricSortFilter: 'withMeasuresOnly'\n    };\n    const isDiff = isDiffMetric(metric.key);\n    if (isDiff) {\n      opts.metricPeriodSort = 1;\n    }\n    if (view === 'treemap') {\n      const sizeMetric = isDiff ? 'new_lines' : 'ncloc';\n      metricKeys.push(sizeMetric);\n      opts.metricSort = sizeMetric;\n      opts.s = isDiff ? 'metricPeriod' : 'metric';\n      opts.asc = false;\n    } else {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = metric.direction === 1;\n      opts.ps = 100;\n      opts.metricSort = metric.key;\n      opts.s = isDiff ? 'metricPeriod' : 'metric';\n    }\n    return { metricKeys, opts: { ...opts, ...options }, strategy };\n  };\n\n  fetchComponents = ({ component, metric, metrics, view }: Props) => {\n    if (isFileType(component)) {\n      this.setState({ metric: undefined, view: undefined });\n      return;\n    }\n\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(view, metric);\n    this.props.updateLoading({ components: true });\n    getComponentTree(strategy, component.key, metricKeys, opts).then(\n      r => {\n        if (metric === this.props.metric) {\n          if (this.mounted) {\n            this.setState(({ selected }: State) => ({\n              components: r.components.map(component =>\n                enhanceComponent(component, metric, metrics)\n              ),\n              metric: { ...metric, ...r.metrics.find(m => m.key === metric.key) },\n              paging: r.paging,\n              selected:\n                r.components.length > 0 && r.components.find(c => c.key === selected)\n                  ? selected\n                  : undefined,\n              view\n            }));\n          }\n          this.props.updateLoading({ components: false });\n        }\n      },\n      () => this.props.updateLoading({ components: false })\n    );\n  };\n\n  fetchMoreComponents = () => {\n    const { component, metric, metrics, view } = this.props;\n    const { paging } = this.state;\n    if (!paging) {\n      return;\n    }\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(view, metric, {\n      p: paging.pageIndex + 1\n    });\n    this.props.updateLoading({ moreComponents: true });\n    getComponentTree(strategy, component.key, metricKeys, opts).then(\n      r => {\n        if (metric === this.props.metric) {\n          if (this.mounted) {\n            this.setState(state => ({\n              components: [\n                ...state.components,\n                ...r.components.map(component => enhanceComponent(component, metric, metrics))\n              ],\n              metric: { ...metric, ...r.metrics.find(m => m.key === metric.key) },\n              paging: r.paging,\n              view\n            }));\n          }\n          this.props.updateLoading({ moreComponents: false });\n        }\n      },\n      () => this.props.updateLoading({ moreComponents: false })\n    );\n  };\n\n  onOpenComponent = (componentKey: string) => {\n    if (isViewType(this.props.rootComponent)) {\n      const component = this.state.components.find(\n        component => component.refKey === componentKey || component.key === componentKey\n      );\n      if (component && component.refKey !== undefined) {\n        if (this.props.view === 'treemap') {\n          this.props.router.push(getProjectUrl(componentKey));\n        }\n        return;\n      }\n    }\n    this.setState({ selected: this.props.component.key });\n    this.props.updateSelected(componentKey);\n    if (this.container) {\n      this.container.focus();\n    }\n  };\n\n  onSelectComponent = (componentKey: string) => this.setState({ selected: componentKey });\n\n  renderCode() {\n    return (\n      <div className=\"measure-details-viewer\">\n        <CodeView\n          branchLike={this.props.branchLike}\n          component={this.props.component}\n          components={this.state.components}\n          leakPeriod={this.props.leakPeriod}\n          metric={this.props.metric}\n          selectedIdx={this.getSelectedIndex()}\n          updateSelected={this.props.updateSelected}\n        />\n      </div>\n    );\n  }\n\n  renderMeasure() {\n    const { metric, view } = this.state;\n    if (metric !== undefined) {\n      if (!view || ['list', 'tree'].includes(view)) {\n        const selectedIdx = this.getSelectedIndex();\n        return (\n          <FilesView\n            branchLike={this.props.branchLike}\n            components={this.state.components}\n            fetchMore={this.fetchMoreComponents}\n            handleOpen={this.onOpenComponent}\n            handleSelect={this.onSelectComponent}\n            loadingMore={this.props.loadingMore}\n            metric={metric}\n            metrics={this.props.metrics}\n            paging={this.state.paging}\n            rootComponent={this.props.rootComponent}\n            selectedIdx={selectedIdx}\n            selectedKey={selectedIdx !== undefined ? this.state.selected : undefined}\n          />\n        );\n      }\n\n      if (view === 'treemap') {\n        return (\n          <TreeMapView\n            branchLike={this.props.branchLike}\n            components={this.state.components}\n            handleSelect={this.onOpenComponent}\n            metric={metric}\n          />\n        );\n      }\n    }\n\n    return null;\n  }\n\n  render() {\n    const { branchLike, component, currentUser, measure, metric, rootComponent, view } = this.props;\n    const isFile = isFileType(component);\n    const selectedIdx = this.getSelectedIndex();\n    return (\n      <div\n        className={classNames('no-outline', this.props.className)}\n        ref={container => (this.container = container)}>\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <Breadcrumbs\n                backToFirst={view === 'list'}\n                branchLike={branchLike}\n                className=\"measure-breadcrumbs spacer-right text-ellipsis\"\n                component={component}\n                handleSelect={this.onOpenComponent}\n                rootComponent={rootComponent}\n              />\n              {component.key !== rootComponent.key &&\n                isLoggedIn(currentUser) && (\n                  <MeasureFavoriteContainer\n                    branchLike={branchLike}\n                    className=\"measure-favorite spacer-right\"\n                    component={component.key}\n                  />\n                )}\n              {!isFile && (\n                <MeasureViewSelect\n                  className=\"measure-view-select\"\n                  handleViewChange={this.props.updateView}\n                  metric={metric}\n                  view={view}\n                />\n              )}\n              <PageActions\n                current={\n                  selectedIdx !== undefined && view !== 'treemap' ? selectedIdx + 1 : undefined\n                }\n                isFile={isFile}\n                paging={this.state.paging}\n                totalLoadedComponents={this.state.components.length}\n                view={view}\n              />\n            </div>\n          </div>\n        </div>\n        {!metric && <MetricNotFound className=\"layout-page-main-inner measure-details-content\" />}\n        {metric && (\n          <div className=\"layout-page-main-inner measure-details-content\">\n            <MeasureHeader\n              branchLike={branchLike}\n              component={component}\n              leakPeriod={this.props.leakPeriod}\n              measure={measure}\n              metric={metric}\n              secondaryMeasure={this.props.secondaryMeasure}\n            />\n            <DeferredSpinner loading={this.props.loading}>\n              {isFileType(component) ? this.renderCode() : this.renderMeasure()}\n            </DeferredSpinner>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport MeasureContent from './MeasureContent';\nimport { Query } from '../utils';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  className?: string;\n  currentUser: T.CurrentUser;\n  rootComponent: T.ComponentMeasure;\n  fetchMeasures: (\n    component: string,\n    metricsKey: string[],\n    branchLike?: T.BranchLike\n  ) => Promise<{ component: T.ComponentMeasure; measures: T.MeasureEnhanced[] }>;\n  leakPeriod?: T.Period;\n  metric: T.Metric;\n  metrics: { [metric: string]: T.Metric };\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n  view: string;\n}\n\ninterface LoadingState {\n  measure: boolean;\n  components: boolean;\n  moreComponents: boolean;\n}\n\ninterface State {\n  component?: T.ComponentMeasure;\n  loading: LoadingState;\n  measure?: T.MeasureEnhanced;\n  secondaryMeasure?: T.MeasureEnhanced;\n}\n\nexport default class MeasureContentContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: { measure: false, components: false, moreComponents: false } };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchMeasure(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { component } = this.state;\n    const componentChanged =\n      !component ||\n      nextProps.rootComponent.key !== component.key ||\n      nextProps.selected !== component.key;\n    if (componentChanged || nextProps.metric !== this.props.metric) {\n      this.fetchMeasure(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchMeasure = ({ branchLike, rootComponent, fetchMeasures, metric, selected }: Props) => {\n    this.updateLoading({ measure: true });\n\n    const metricKeys = [metric.key];\n    if (metric.key === 'ncloc') {\n      metricKeys.push('ncloc_language_distribution');\n    }\n\n    fetchMeasures(selected || rootComponent.key, metricKeys, branchLike).then(\n      ({ component, measures }) => {\n        if (this.mounted) {\n          const measure = measures.find(measure => measure.metric.key === metric.key);\n          const secondaryMeasure = measures.find(measure => measure.metric.key !== metric.key);\n          this.setState({ component, measure, secondaryMeasure });\n          this.updateLoading({ measure: false });\n        }\n      },\n      () => this.updateLoading({ measure: false })\n    );\n  };\n\n  updateLoading = (loading: Partial<LoadingState>) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: { ...state.loading, ...loading } }));\n    }\n  };\n\n  updateSelected = (component: string) => {\n    this.props.updateQuery({\n      selected: component !== this.props.rootComponent.key ? component : undefined\n    });\n  };\n\n  updateView = (view: string) => this.props.updateQuery({ view });\n\n  render() {\n    if (!this.state.component) {\n      return null;\n    }\n\n    return (\n      <MeasureContent\n        branchLike={this.props.branchLike}\n        className={this.props.className}\n        component={this.state.component}\n        currentUser={this.props.currentUser}\n        leakPeriod={this.props.leakPeriod}\n        loading={this.state.loading.measure || this.state.loading.components}\n        loadingMore={this.state.loading.moreComponents}\n        measure={this.state.measure}\n        metric={this.props.metric}\n        metrics={this.props.metrics}\n        rootComponent={this.props.rootComponent}\n        router={this.props.router}\n        secondaryMeasure={this.state.secondaryMeasure}\n        updateLoading={this.updateLoading}\n        updateSelected={this.updateSelected}\n        updateView={this.updateView}\n        view={this.props.view}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function MeasuresEmpty() {\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"note\">{translate('component_measures.empty')}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport EmptyResult from './EmptyResult';\nimport OriginalBubbleChart from '../../../components/charts/BubbleChart';\nimport ColorRatingsLegend from '../../../components/charts/ColorRatingsLegend';\nimport HelpTooltip from '../../../components/controls/HelpTooltip';\nimport { formatMeasure, isDiffMetric } from '../../../helpers/measures';\nimport {\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from '../../../helpers/l10n';\nimport { getBubbleMetrics, getBubbleYDomain, isProjectOverview } from '../utils';\nimport { RATING_COLORS } from '../../../helpers/constants';\nimport { isDefined } from '../../../helpers/types';\n\nconst HEIGHT = 500;\n\ninterface Props {\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  domain: string;\n  metrics: { [metric: string]: T.Metric };\n  updateSelected: (component: string) => void;\n}\n\nexport default class BubbleChart extends React.PureComponent<Props> {\n  getMeasureVal = (component: T.ComponentMeasureEnhanced, metric: T.Metric) => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (!measure) {\n      return undefined;\n    }\n    return Number(isDiffMetric(metric.key) ? measure.leak : measure.value);\n  };\n\n  getTooltip(\n    componentName: string,\n    values: { x: number; y: number; size: number; colors?: Array<number | undefined> },\n    metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }\n  ) {\n    const inner = [\n      componentName,\n      `${metrics.x.name}: ${formatMeasure(values.x, metrics.x.type)}`,\n      `${metrics.y.name}: ${formatMeasure(values.y, metrics.y.type)}`,\n      `${metrics.size.name}: ${formatMeasure(values.size, metrics.size.type)}`\n    ];\n    const { colors: valuesColors } = values;\n    const { colors: metricColors } = metrics;\n    if (valuesColors && metricColors) {\n      metricColors.forEach((metric, idx) => {\n        const colorValue = valuesColors[idx];\n        if (colorValue || colorValue === 0) {\n          inner.push(`${metric.name}: ${formatMeasure(colorValue, metric.type)}`);\n        }\n      });\n    }\n    return (\n      <div className=\"text-left\">\n        {inner.map((line, index) => (\n          <React.Fragment key={index}>\n            {line}\n            {index < inner.length - 1 && <br />}\n          </React.Fragment>\n        ))}\n      </div>\n    );\n  }\n\n  handleBubbleClick = (component: T.ComponentMeasureEnhanced) =>\n    this.props.updateSelected(component.refKey || component.key);\n\n  getDescription(domain: string) {\n    const description = `component_measures.overview.${domain}.description`;\n    const translatedDescription = translate(description);\n    if (description === translatedDescription) {\n      return null;\n    }\n    return translatedDescription;\n  }\n\n  renderBubbleChart(metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }) {\n    const items = this.props.components\n      .map(component => {\n        const x = this.getMeasureVal(component, metrics.x);\n        const y = this.getMeasureVal(component, metrics.y);\n        const size = this.getMeasureVal(component, metrics.size);\n        const colors =\n          metrics.colors && metrics.colors.map(metric => this.getMeasureVal(component, metric));\n        if ((!x && x !== 0) || (!y && y !== 0) || (!size && size !== 0)) {\n          return undefined;\n        }\n        return {\n          x,\n          y,\n          size,\n          color:\n            colors !== undefined\n              ? RATING_COLORS[Math.max(...colors.filter(isDefined)) - 1]\n              : undefined,\n          data: component,\n          tooltip: this.getTooltip(component.name, { x, y, size, colors }, metrics)\n        };\n      })\n      .filter(isDefined);\n\n    const formatXTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.x.type);\n    const formatYTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.y.type);\n\n    return (\n      <OriginalBubbleChart<T.ComponentMeasureEnhanced>\n        formatXTick={formatXTick}\n        formatYTick={formatYTick}\n        height={HEIGHT}\n        items={items}\n        onBubbleClick={this.handleBubbleClick}\n        padding={[25, 60, 50, 60]}\n        yDomain={getBubbleYDomain(this.props.domain)}\n      />\n    );\n  }\n\n  renderChartHeader(domain: string, sizeMetric: T.Metric, colorsMetric?: T.Metric[]) {\n    const title = isProjectOverview(domain)\n      ? translate('component_measures.overview', domain, 'title')\n      : translateWithParameters(\n          'component_measures.domain_x_overview',\n          getLocalizedMetricDomain(domain)\n        );\n    return (\n      <div className=\"measure-overview-bubble-chart-header\">\n        <span className=\"measure-overview-bubble-chart-title\">\n          <span className=\"text-middle\">{title}</span>\n          <HelpTooltip className=\"spacer-left\" overlay={this.getDescription(domain)} />\n        </span>\n        <span className=\"measure-overview-bubble-chart-legend\">\n          <span className=\"note\">\n            {colorsMetric && (\n              <span className=\"spacer-right\">\n                {translateWithParameters(\n                  'component_measures.legend.color_x',\n                  colorsMetric.length > 1\n                    ? translateWithParameters(\n                        'component_measures.legend.worse_of_x_y',\n                        ...colorsMetric.map(metric => getLocalizedMetricName(metric))\n                      )\n                    : getLocalizedMetricName(colorsMetric[0])\n                )}\n              </span>\n            )}\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              getLocalizedMetricName(sizeMetric)\n            )}\n          </span>\n          {colorsMetric && <ColorRatingsLegend className=\"spacer-top\" />}\n        </span>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.props.components.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { domain } = this.props;\n    const metrics = getBubbleMetrics(domain, this.props.metrics);\n\n    return (\n      <div className=\"measure-overview-bubble-chart\">\n        {this.renderChartHeader(domain, metrics.size, metrics.colors)}\n        <div className=\"measure-overview-bubble-chart-content\">\n          {this.renderBubbleChart(metrics)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis x\">\n          {getLocalizedMetricName(metrics.x)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis y\">\n          {getLocalizedMetricName(metrics.y)}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Breadcrumbs from './Breadcrumbs';\nimport LeakPeriodLegend from './LeakPeriodLegend';\nimport MeasureFavoriteContainer from './MeasureFavoriteContainer';\nimport PageActions from './PageActions';\nimport BubbleChart from '../drilldown/BubbleChart';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { getComponentLeaves } from '../../../api/components';\nimport { enhanceComponent, getBubbleMetrics, isFileType } from '../utils';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  currentUser: T.CurrentUser;\n  domain: string;\n  leakPeriod?: T.Period;\n  loading: boolean;\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  updateLoading: (param: { [key: string]: boolean }) => void;\n  updateSelected: (component: string) => void;\n}\n\ninterface State {\n  components: T.ComponentMeasureEnhanced[];\n  paging?: T.Paging;\n}\n\nconst BUBBLES_LIMIT = 500;\n\nexport default class MeasureOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { components: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponents(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      nextProps.component !== this.props.component ||\n      nextProps.metrics !== this.props.metrics ||\n      nextProps.domain !== this.props.domain\n    ) {\n      this.fetchComponents(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponents = (props: Props) => {\n    const { branchLike, component, domain, metrics } = props;\n    if (isFileType(component)) {\n      this.setState({ components: [], paging: undefined });\n      return;\n    }\n    const { x, y, size, colors } = getBubbleMetrics(domain, metrics);\n    const metricsKey = [x.key, y.key, size.key];\n    if (colors) {\n      metricsKey.push(...colors.map(metric => metric.key));\n    }\n    const options = {\n      ...getBranchLikeQuery(branchLike),\n      s: 'metric',\n      metricSort: size.key,\n      asc: false,\n      ps: BUBBLES_LIMIT\n    };\n\n    this.props.updateLoading({ bubbles: true });\n    getComponentLeaves(component.key, metricsKey, options).then(\n      r => {\n        if (domain === this.props.domain) {\n          if (this.mounted) {\n            this.setState({\n              components: r.components.map(component =>\n                enhanceComponent(component, undefined, metrics)\n              ),\n              paging: r.paging\n            });\n          }\n          this.props.updateLoading({ bubbles: false });\n        }\n      },\n      () => this.props.updateLoading({ bubbles: false })\n    );\n  };\n\n  renderContent() {\n    const { branchLike, component } = this.props;\n    if (isFileType(component)) {\n      return (\n        <div className=\"measure-details-viewer\">\n          <SourceViewer branchLike={branchLike} component={component.key} />\n        </div>\n      );\n    }\n\n    return (\n      <BubbleChart\n        component={this.props.component}\n        components={this.state.components}\n        domain={this.props.domain}\n        metrics={this.props.metrics}\n        updateSelected={this.props.updateSelected}\n      />\n    );\n  }\n\n  render() {\n    const { branchLike, component, currentUser, leakPeriod, rootComponent } = this.props;\n    const isLoggedIn = currentUser && currentUser.isLoggedIn;\n    const isFile = isFileType(component);\n    return (\n      <div className={this.props.className}>\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <Breadcrumbs\n                backToFirst={true}\n                branchLike={branchLike}\n                className=\"measure-breadcrumbs spacer-right text-ellipsis\"\n                component={component}\n                handleSelect={this.props.updateSelected}\n                rootComponent={rootComponent}\n              />\n              {component.key !== rootComponent.key &&\n                isLoggedIn && (\n                  <MeasureFavoriteContainer\n                    className=\"measure-favorite spacer-right\"\n                    component={component.key}\n                  />\n                )}\n              <PageActions\n                current={this.state.components.length}\n                isFile={isFile}\n                paging={this.state.paging}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <div className=\"clearfix big-spacer-bottom\">\n            {leakPeriod && (\n              <LeakPeriodLegend className=\"pull-right\" component={component} period={leakPeriod} />\n            )}\n          </div>\n          <DeferredSpinner loading={this.props.loading} />\n          {!this.props.loading && this.renderContent()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport MeasureOverview from './MeasureOverview';\nimport { getComponentShow } from '../../../api/components';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { isViewType, Query } from '../utils';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  className?: string;\n  currentUser: T.CurrentUser;\n  domain: string;\n  leakPeriod?: T.Period;\n  metrics: { [metric: string]: T.Metric };\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface LoadingState {\n  bubbles: boolean;\n  component: boolean;\n}\n\ninterface State {\n  component?: T.ComponentMeasure;\n  loading: LoadingState;\n}\n\nexport default class MeasureOverviewContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state: State = {\n    loading: { bubbles: false, component: false }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { component } = this.state;\n    const componentChanged =\n      !component ||\n      nextProps.rootComponent.key !== component.key ||\n      nextProps.selected !== component.key;\n    if (componentChanged || nextProps.domain !== this.props.domain) {\n      this.fetchComponent(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponent = ({ branchLike, rootComponent, selected }: Props) => {\n    if (!selected || rootComponent.key === selected) {\n      this.setState({ component: rootComponent });\n      this.updateLoading({ component: false });\n      return;\n    }\n    this.updateLoading({ component: true });\n    getComponentShow({ component: selected, ...getBranchLikeQuery(branchLike) }).then(\n      ({ component }) => {\n        if (this.mounted) {\n          this.setState({ component });\n          this.updateLoading({ component: false });\n        }\n      },\n      () => this.updateLoading({ component: false })\n    );\n  };\n\n  updateLoading = (loading: Partial<LoadingState>) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: { ...state.loading, ...loading } }));\n    }\n  };\n\n  updateSelected = (component: string) => {\n    if (this.state.component && isViewType(this.state.component)) {\n      this.props.router.push(getProjectUrl(component));\n    } else {\n      this.props.updateQuery({\n        selected: component !== this.props.rootComponent.key ? component : undefined\n      });\n    }\n  };\n\n  render() {\n    if (!this.state.component) {\n      return null;\n    }\n\n    return (\n      <MeasureOverview\n        branchLike={this.props.branchLike}\n        className={this.props.className}\n        component={this.state.component}\n        currentUser={this.props.currentUser}\n        domain={this.props.domain}\n        leakPeriod={this.props.leakPeriod}\n        loading={this.state.loading.component || this.state.loading.bubbles}\n        metrics={this.props.metrics}\n        rootComponent={this.props.rootComponent}\n        updateLoading={this.updateLoading}\n        updateSelected={this.updateSelected}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (metric: string) => void;\n  selected: string;\n  value: string;\n}\n\nexport default function ProjectOverviewFacet({ value, selected, onChange }: Props) {\n  const facetName = translate('component_measures.overview', value, 'facet');\n  return (\n    <FacetBox property={value}>\n      <FacetItemsList>\n        <FacetItem\n          active={value === selected}\n          disabled={false}\n          key={value}\n          name={<strong id={`measure-overview-${value}-name`}>{facetName}</strong>}\n          onClick={onChange}\n          tooltip={facetName}\n          value={value}\n        />\n      </FacetItemsList>\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  measure: T.MeasureEnhanced;\n}\n\nexport default function FacetMeasureValue({ measure }: Props) {\n  if (isDiffMetric(measure.metric.key)) {\n    return (\n      <div className=\"domain-measures-value leak-box\" id={`measure-${measure.metric.key}-leak`}>\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          value={measure.leak}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"domain-measures-value\" id={`measure-${measure.metric.key}-value`}>\n      <Measure\n        metricKey={measure.metric.key}\n        metricType={measure.metric.type}\n        value={measure.value}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FacetMeasureValue from './FacetMeasureValue';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport {\n  addMeasureCategories,\n  filterMeasures,\n  hasBubbleChart,\n  hasFacetStat,\n  sortMeasures\n} from '../utils';\nimport {\n  getLocalizedCategoryMetricName,\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  translate\n} from '../../../helpers/l10n';\n\ninterface Props {\n  domain: { name: string; measures: T.MeasureEnhanced[] };\n  hasOverview: boolean;\n  onChange: (metric: string) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  selected: string;\n}\n\nexport default class DomainFacet extends React.PureComponent<Props> {\n  getValues = () => {\n    const { domain, selected } = this.props;\n    const measureSelected = domain.measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    if (measureSelected) {\n      return [getLocalizedMetricName(measureSelected.metric)];\n    }\n    return overviewSelected ? [translate('component_measures.domain_overview')] : [];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.domain.name);\n  };\n\n  hasFacetSelected = (\n    domain: { name: string },\n    measures: T.MeasureEnhanced[],\n    selected: string\n  ) => {\n    const measureSelected = measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    return measureSelected || overviewSelected;\n  };\n\n  hasOverview = (domain: string) => {\n    return this.props.hasOverview && hasBubbleChart(domain);\n  };\n\n  renderItemFacetStat = (item: T.MeasureEnhanced) => {\n    return hasFacetStat(item.metric.key) ? <FacetMeasureValue measure={item} /> : null;\n  };\n\n  renderItemsFacet = () => {\n    const { domain, selected } = this.props;\n    const items = addMeasureCategories(domain.name, filterMeasures(domain.measures));\n    const hasCategories = items.some(item => typeof item === 'string');\n    const translateMetric = hasCategories ? getLocalizedCategoryMetricName : getLocalizedMetricName;\n    let sortedItems = sortMeasures(domain.name, items);\n\n    sortedItems = sortedItems.filter((item, index) => {\n      return (\n        typeof item !== 'string' ||\n        (index + 1 !== sortedItems.length && typeof sortedItems[index + 1] !== 'string')\n      );\n    });\n\n    return sortedItems.map(\n      item =>\n        typeof item === 'string' ? (\n          <span className=\"facet search-navigator-facet facet-category\" key={item}>\n            <span className=\"facet-name\">\n              {!this.props.hasOverview && item === 'overall_category'\n                ? translate('component_measures.facet_category', item, 'estimated')\n                : translate('component_measures.facet_category', item)}\n            </span>\n          </span>\n        ) : (\n          <FacetItem\n            active={item.metric.key === selected}\n            disabled={false}\n            key={item.metric.key}\n            name={\n              <span className=\"big-spacer-left\" id={`measure-${item.metric.key}-name`}>\n                {translateMetric(item.metric)}\n              </span>\n            }\n            onClick={this.props.onChange}\n            stat={this.renderItemFacetStat(item)}\n            tooltip={translateMetric(item.metric)}\n            value={item.metric.key}\n          />\n        )\n    );\n  };\n\n  renderOverviewFacet = () => {\n    const { domain, selected } = this.props;\n    if (!this.hasOverview(domain.name)) {\n      return null;\n    }\n    return (\n      <FacetItem\n        active={domain.name === selected}\n        disabled={false}\n        key={domain.name}\n        name={\n          <span id={`measure-overview-${domain.name}-name`}>\n            {translate('component_measures.domain_overview')}\n          </span>\n        }\n        onClick={this.props.onChange}\n        stat={<BubblesIcon size={14} />}\n        tooltip={translate('component_measures.domain_overview')}\n        value={domain.name}\n      />\n    );\n  };\n\n  render() {\n    const { domain } = this.props;\n    const helper = `component_measures.domain_facets.${domain.name}.help`;\n    const translatedHelper = translate(helper);\n    return (\n      <FacetBox property={domain.name}>\n        <FacetHeader\n          helper={helper !== translatedHelper ? translatedHelper : undefined}\n          name={getLocalizedMetricDomain(domain.name)}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <FacetItemsList>\n            {this.renderOverviewFacet()}\n            {this.renderItemsFacet()}\n          </FacetItemsList>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ProjectOverviewFacet from './ProjectOverviewFacet';\nimport DomainFacet from './DomainFacet';\nimport { getDefaultView, groupByDomains, KNOWN_DOMAINS, PROJECT_OVERVEW, Query } from '../utils';\n\ninterface Props {\n  hasOverview: boolean;\n  measures: T.MeasureEnhanced[];\n  selectedMetric: string;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface State {\n  openFacets: { [metric: string]: boolean };\n}\n\nexport default class Sidebar extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { openFacets: this.getOpenFacets({}, props) };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.selectedMetric !== this.props.selectedMetric) {\n      this.setState(({ openFacets }) => ({\n        openFacets: this.getOpenFacets(openFacets, nextProps)\n      }));\n    }\n  }\n\n  getOpenFacets = (\n    openFacets: { [metric: string]: boolean },\n    { measures, selectedMetric }: Props\n  ) => {\n    const newOpenFacets = { ...openFacets };\n    const measure = measures.find(measure => measure.metric.key === selectedMetric);\n    if (measure && measure.metric && measure.metric.domain) {\n      newOpenFacets[measure.metric.domain] = true;\n    } else if (KNOWN_DOMAINS.includes(selectedMetric)) {\n      newOpenFacets[selectedMetric] = true;\n    }\n    return newOpenFacets;\n  };\n\n  toggleFacet = (name: string) => {\n    this.setState(({ openFacets }) => ({\n      openFacets: { ...openFacets, [name]: !openFacets[name] }\n    }));\n  };\n\n  resetSelection = (metric: string) => ({ selected: undefined, view: getDefaultView(metric) });\n\n  changeMetric = (metric: string) =>\n    this.props.updateQuery({ metric, ...this.resetSelection(metric) });\n\n  render() {\n    const { hasOverview } = this.props;\n    return (\n      <div>\n        {hasOverview && (\n          <ProjectOverviewFacet\n            onChange={this.changeMetric}\n            selected={this.props.selectedMetric}\n            value={PROJECT_OVERVEW}\n          />\n        )}\n        {groupByDomains(this.props.measures).map(domain => (\n          <DomainFacet\n            domain={domain}\n            hasOverview={hasOverview}\n            key={domain.name}\n            onChange={this.changeMetric}\n            onToggle={this.toggleFacet}\n            open={this.state.openFacets[domain.name] === true}\n            selected={this.props.selectedMetric}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as key from 'keymaster';\nimport { InjectedRouter } from 'react-router';\nimport Helmet from 'react-helmet';\nimport MeasureContentContainer from './MeasureContentContainer';\nimport MeasuresEmpty from './MeasuresEmpty';\nimport MeasureOverviewContainer from './MeasureOverviewContainer';\nimport Sidebar from '../sidebar/Sidebar';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport {\n  isProjectOverview,\n  hasBubbleChart,\n  parseQuery,\n  serializeQuery,\n  Query,\n  hasFullMeasures,\n  getMeasuresPageMetricKeys,\n  groupByDomains,\n  sortMeasures\n} from '../utils';\nimport {\n  isSameBranchLike,\n  getBranchLikeQuery,\n  isShortLivingBranch,\n  isPullRequest\n} from '../../../helpers/branches';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  getLocalizedMetricDomain,\n  translateWithParameters,\n  translate\n} from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport '../../../components/search-navigator.css';\nimport '../style.css';\n\ninterface Props {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n  currentUser: T.CurrentUser;\n  location: { pathname: string; query: RawQuery };\n  fetchMeasures: (\n    component: string,\n    metricsKey: string[],\n    branchLike?: T.BranchLike\n  ) => Promise<{\n    component: T.ComponentMeasure;\n    measures: T.MeasureEnhanced[];\n    leakPeriod?: T.Period;\n  }>;\n  fetchMetrics: () => void;\n  metrics: { [metric: string]: T.Metric };\n  metricsKey: string[];\n  router: InjectedRouter;\n}\n\ninterface State {\n  loading: boolean;\n  measures: T.MeasureEnhanced[];\n  leakPeriod?: T.Period;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { loading: true, measures: [] };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    key.setScope('measures-files');\n    this.props.fetchMetrics();\n    this.fetchMeasures(this.props);\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      !isSameBranchLike(nextProps.branchLike, this.props.branchLike) ||\n      nextProps.component.key !== this.props.component.key ||\n      nextProps.metrics !== this.props.metrics\n    ) {\n      this.fetchMeasures(nextProps);\n    }\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.measures.length === 0 && this.state.measures.length > 0) {\n      document.body.classList.add('white-page');\n      if (document.documentElement) {\n        document.documentElement.classList.add('white-page');\n      }\n      const footer = document.getElementById('footer');\n      if (footer) {\n        footer.classList.add('page-footer-with-sidebar');\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n\n    document.body.classList.remove('white-page');\n    if (document.documentElement) {\n      document.documentElement.classList.remove('white-page');\n    }\n\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n\n    key.deleteScope('measures-files');\n  }\n\n  fetchMeasures = ({ branchLike, component, fetchMeasures, metrics }: Props) => {\n    this.setState({ loading: true });\n\n    const filteredKeys = getMeasuresPageMetricKeys(metrics, branchLike);\n    fetchMeasures(component.key, filteredKeys, branchLike).then(\n      ({ measures, leakPeriod }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            leakPeriod,\n            measures: measures.filter(\n              measure => measure.value !== undefined || measure.leak !== undefined\n            )\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  getHelmetTitle = (query: Query, displayOverview: boolean, metric?: T.Metric) => {\n    if (displayOverview && query.metric) {\n      return isProjectOverview(query.metric)\n        ? translate('component_measures.overview.project_overview.facet')\n        : translateWithParameters(\n            'component_measures.domain_x_overview',\n            getLocalizedMetricDomain(query.metric)\n          );\n    }\n    return metric ? metric.name : translate('layout.measures');\n  };\n\n  getSelectedMetric = (query: Query, displayOverview: boolean) => {\n    if (displayOverview) {\n      return undefined;\n    }\n    const metric = this.props.metrics[query.metric];\n    if (!metric) {\n      const domainMeasures = groupByDomains(this.state.measures);\n      const firstMeasure =\n        domainMeasures[0] && sortMeasures(domainMeasures[0].name, domainMeasures[0].measures)[0];\n      if (firstMeasure && typeof firstMeasure !== 'string') {\n        return firstMeasure.metric;\n      }\n    }\n    return metric;\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query = serializeQuery({\n      ...parseQuery(this.props.location.query),\n      ...newQuery\n    });\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...query,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component.key\n      }\n    });\n  };\n\n  renderContent = (displayOverview: boolean, query: Query, metric?: T.Metric) => {\n    const { branchLike, component, fetchMeasures, metrics } = this.props;\n    const { leakPeriod } = this.state;\n    if (displayOverview) {\n      return (\n        <MeasureOverviewContainer\n          branchLike={branchLike}\n          className=\"layout-page-main\"\n          currentUser={this.props.currentUser}\n          domain={query.metric}\n          leakPeriod={leakPeriod}\n          metrics={metrics}\n          rootComponent={component}\n          router={this.props.router}\n          selected={query.selected}\n          updateQuery={this.updateQuery}\n        />\n      );\n    }\n\n    if (!metric) {\n      return <MeasuresEmpty />;\n    }\n\n    const hideDrilldown =\n      (isShortLivingBranch(branchLike) || isPullRequest(branchLike)) &&\n      (metric.key === 'coverage' || metric.key === 'duplicated_lines_density');\n\n    if (hideDrilldown) {\n      return (\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-main-inner\">\n            <div className=\"note\">{translate('component_measures.details_are_not_available')}</div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <MeasureContentContainer\n        branchLike={branchLike}\n        className=\"layout-page-main\"\n        currentUser={this.props.currentUser}\n        fetchMeasures={fetchMeasures}\n        leakPeriod={leakPeriod}\n        metric={metric}\n        metrics={metrics}\n        rootComponent={component}\n        router={this.props.router}\n        selected={query.selected}\n        updateQuery={this.updateQuery}\n        view={query.view}\n      />\n    );\n  };\n\n  render() {\n    const isLoading = this.state.loading || this.props.metricsKey.length <= 0;\n    if (isLoading) {\n      return <i className=\"spinner spinner-margin\" />;\n    }\n    const { branchLike } = this.props;\n    const { measures } = this.state;\n    const query = parseQuery(this.props.location.query);\n    const hasOverview = hasFullMeasures(branchLike);\n    const displayOverview = hasOverview && hasBubbleChart(query.metric);\n    const metric = this.getSelectedMetric(query, displayOverview);\n    return (\n      <div id=\"component-measures\">\n        <Suggestions suggestions=\"component_measures\" />\n        <Helmet title={this.getHelmetTitle(query, displayOverview, metric)} />\n\n        {measures.length > 0 ? (\n          <div className=\"layout-page\">\n            <ScreenPositionHelper className=\"layout-page-side-outer\">\n              {({ top }) => (\n                <div className=\"layout-page-side\" style={{ top }}>\n                  <div className=\"layout-page-side-inner\">\n                    <div className=\"layout-page-filters\">\n                      <Sidebar\n                        hasOverview={hasOverview}\n                        measures={measures}\n                        selectedMetric={metric ? metric.key : query.metric}\n                        updateQuery={this.updateQuery}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </ScreenPositionHelper>\n            {this.renderContent(displayOverview, query, metric)}\n          </div>\n        ) : (\n          <MeasuresEmpty />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Dispatch } from 'redux';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport App from './App';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport { getCurrentUser, getMetrics, getMetricsKey } from '../../../store/rootReducer';\nimport { fetchMetrics } from '../../../store/rootActions';\nimport { getMeasuresAndMeta } from '../../../api/measures';\nimport { getLeakPeriod } from '../../../helpers/periods';\nimport { enhanceMeasure } from '../../../components/measure/utils';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\ninterface StateToProps {\n  currentUser: T.CurrentUser;\n  metrics: { [metric: string]: T.Metric };\n  metricsKey: string[];\n}\n\ninterface DispatchToProps {\n  fetchMeasures: (\n    component: string,\n    metricsKey: string[],\n    branchLike?: T.BranchLike\n  ) => Promise<{\n    component: T.ComponentMeasure;\n    measures: T.MeasureEnhanced[];\n    leakPeriod?: T.Period;\n  }>;\n  fetchMetrics: () => void;\n}\n\ninterface OwnProps {\n  branchLike?: T.BranchLike;\n  component: T.ComponentMeasure;\n}\n\nconst mapStateToProps = (state: any): StateToProps => ({\n  currentUser: getCurrentUser(state),\n  metrics: getMetrics(state),\n  metricsKey: getMetricsKey(state)\n});\n\nfunction banQualityGate({ measures = [], qualifier }: T.ComponentMeasure): T.Measure[] {\n  const bannedMetrics: string[] = [];\n  if (!['VW', 'SVW'].includes(qualifier)) {\n    bannedMetrics.push('alert_status');\n  }\n  if (qualifier === 'APP') {\n    bannedMetrics.push('releasability_rating', 'releasability_effort');\n  }\n  return measures.filter(measure => !bannedMetrics.includes(measure.metric));\n}\n\nconst fetchMeasures = (component: string, metricsKey: string[], branchLike?: T.BranchLike) => (\n  _dispatch: Dispatch,\n  getState: () => any\n) => {\n  if (metricsKey.length <= 0) {\n    return Promise.resolve({ component: {}, measures: [], leakPeriod: null });\n  }\n\n  return getMeasuresAndMeta(component, metricsKey, {\n    additionalFields: 'periods',\n    ...getBranchLikeQuery(branchLike)\n  }).then(({ component, periods }) => {\n    const measures = banQualityGate(component).map(measure =>\n      enhanceMeasure(measure, getMetrics(getState()))\n    );\n\n    const newBugs = measures.find(measure => measure.metric.key === 'new_bugs');\n    const applicationPeriods = newBugs ? [{ index: 1 } as T.Period] : [];\n    const leakPeriod = getLeakPeriod(component.qualifier === 'APP' ? applicationPeriods : periods);\n    return { component, measures, leakPeriod };\n  }, throwGlobalError);\n};\n\nconst mapDispatchToProps: DispatchToProps = { fetchMeasures: fetchMeasures as any, fetchMetrics };\n\nexport default withRouter<OwnProps>(\n  connect<StateToProps, DispatchToProps, OwnProps & WithRouterProps>(\n    mapStateToProps,\n    mapDispatchToProps\n  )(App)\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip, { Placement } from './Tooltip';\nimport HelpIcon from '../icons-components/HelpIcon';\nimport * as theme from '../../app/theme';\nimport './HelpTooltip.css';\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  onShow?: () => void;\n  overlay: React.ReactNode;\n  placement?: Placement;\n  tagName?: string;\n}\n\nexport default function HelpTooltip(props: Props) {\n  const { children = <HelpIcon fill={theme.gray71} size={12} />, tagName = 'div' } = props;\n\n  return React.createElement(\n    tagName,\n    { className: classNames('help-tooltip', props.className) },\n    <Tooltip\n      mouseLeaveDelay={0.25}\n      onShow={props.onShow}\n      overlay={props.overlay}\n      placement={props.placement}>\n      <span className=\"display-inline-flex-center\">{children}</span>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReactSelectProps, ReactCreatableSelectProps, ReactAsyncSelectProps } from 'react-select';\nimport * as theme from '../../app/theme';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { lazyLoad } from '../lazyLoad';\nimport './react-select.css';\n\nconst ReactSelectLib = import('react-select');\nconst ReactSelect = lazyLoad(() => ReactSelectLib);\nconst ReactCreatable = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Creatable })));\nconst ReactAsync = lazyLoad(() => ReactSelectLib.then(lib => ({ default: lib.Async })));\n\nfunction renderInput() {\n  return (\n    <ButtonIcon className=\"button-tiny spacer-left text-middle\" color={theme.gray60}>\n      <ClearIcon size={12} />\n    </ButtonIcon>\n  );\n}\n\ninterface WithInnerRef {\n  innerRef?: (element: React.Component) => void;\n}\n\nexport default function Select({ innerRef, ...props }: WithInnerRef & ReactSelectProps) {\n  // TODO try to define good defaults, if any\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactSelectAny = ReactSelect as any;\n  // hide the \"x\" icon when select is empty\n  const clearable = props.clearable ? Boolean(props.value) : false;\n  return (\n    <ReactSelectAny {...props} clearRenderer={renderInput} clearable={clearable} ref={innerRef} />\n  );\n}\n\nexport function Creatable(props: ReactCreatableSelectProps) {\n  // ReactSelect doesn't declare `clearRenderer` prop\n  const ReactCreatableAny = ReactCreatable as any;\n  return <ReactCreatableAny {...props} clearRenderer={renderInput} />;\n}\n\n// TODO figure out why `ref` prop is incompatible\nexport function AsyncSelect(props: ReactAsyncSelectProps & { ref?: any }) {\n  return <ReactAsync {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./HelpTooltip.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.help-tooltip {\\n  display: inline-flex;\\n  align-items: center;\\n  vertical-align: middle;\\n}\\n\\n.help-toolip-link {\\n  display: block;\\n  width: 12px;\\n  height: 12px;\\n  border: none;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./react-select.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.Select {\\n  position: relative;\\n  display: inline-block;\\n  vertical-align: middle;\\n  font-size: 12px;\\n  text-align: left;\\n}\\n\\n.Select,\\n.Select div,\\n.Select input,\\n.Select span {\\n  box-sizing: border-box;\\n}\\n\\n.Select.is-disabled > .Select-control {\\n  background-color: #ebebeb !important;\\n  border-color: #ddd !important;\\n}\\n\\n.Select.is-disabled > .Select-control:hover {\\n  box-shadow: none !important;\\n}\\n\\n.Select.is-disabled .Select-arrow-zone {\\n  cursor: not-allowed !important;\\n  pointer-events: none !important;\\n}\\n\\n.Select.is-disabled .Select-placeholder,\\n.Select.is-disabled .Select-value {\\n  color: #bbb !important;\\n}\\n\\n.Select-control {\\n  position: relative;\\n  display: table;\\n  width: 100%;\\n  height: 24px;\\n  line-height: 22px;\\n  border: 1px solid #cdcdcd;\\n  border-collapse: separate;\\n  border-radius: 2px;\\n  background-color: #fff;\\n  color: #444;\\n  cursor: default;\\n  outline: none;\\n  overflow: hidden;\\n}\\n\\n.is-searchable.is-open > .Select-control {\\n  cursor: text;\\n}\\n\\n.is-open > .Select-control {\\n  border-bottom-right-radius: 0;\\n  border-bottom-left-radius: 0;\\n  background: #fff;\\n}\\n\\n.is-open > .Select-control > .Select-arrow {\\n  border-color: transparent transparent #999;\\n  border-width: 0 5px 5px;\\n}\\n\\n.is-searchable.is-focused:not(.is-open) > .Select-control {\\n  cursor: text;\\n}\\n\\n.is-focused:not(.is-open) > .Select-control {\\n  border-color: #4b9fd5;\\n}\\n\\n.Select-placeholder {\\n  color: #777;\\n}\\n\\n.Select-placeholder,\\n:not(.Select--multi) > .Select-control .Select-value {\\n  bottom: 0;\\n  left: 0;\\n  line-height: 23px;\\n  padding-left: 8px;\\n  padding-right: 24px;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  max-width: 100%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.Select-value [class^='icon-'] {\\n  padding-top: 5px;\\n}\\n\\n.Select-value svg,\\n.Select-value img {\\n  padding-top: 4px;\\n}\\n\\n.Select-value .outline-badge,\\n.Select-option .outline-badge {\\n  height: 20px;\\n  line-height: 19px;\\n  margin-top: 1px;\\n}\\n\\n.Select-option svg,\\n.Select-option img,\\n.Select-option [class^='icon-'] {\\n  padding-top: 2px;\\n}\\n\\n.has-value:not(.Select--multi) > .Select-control > .Select-value .Select-value-label,\\n.has-value.is-pseudo-focused:not(.Select--multi)\\n  > .Select-control\\n  > .Select-value\\n  .Select-value-label {\\n  color: #444;\\n}\\n\\n.has-value:not(.Select--multi) > .Select-control > .Select-value a.Select-value-label,\\n.has-value.is-pseudo-focused:not(.Select--multi)\\n  > .Select-control\\n  > .Select-value\\n  a.Select-value-label {\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n\\n.has-value:not(.Select--multi) > .Select-control > .Select-value a.Select-value-label:hover,\\n.has-value.is-pseudo-focused:not(.Select--multi)\\n  > .Select-control\\n  > .Select-value\\n  a.Select-value-label:hover,\\n.has-value:not(.Select--multi) > .Select-control > .Select-value a.Select-value-label:focus,\\n.has-value.is-pseudo-focused:not(.Select--multi)\\n  > .Select-control\\n  > .Select-value\\n  a.Select-value-label:focus {\\n  color: #007eff;\\n  outline: none;\\n  text-decoration: underline;\\n}\\n\\n.Select-input {\\n  vertical-align: top;\\n  height: 22px;\\n  padding-left: 8px;\\n  padding-right: 8px;\\n  outline: none;\\n}\\n\\n.Select-input > input {\\n  background: none transparent;\\n  border: 0 none;\\n  cursor: default;\\n  display: inline-block;\\n  font-family: inherit;\\n  font-size: 12px;\\n  height: 22px;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  box-shadow: none;\\n  -webkit-appearance: none;\\n}\\n\\n.is-focused .Select-input > input {\\n  cursor: text;\\n}\\n\\n.has-value.is-pseudo-focused .Select-input {\\n  opacity: 0;\\n}\\n\\n.Select-control:not(.is-searchable) > .Select-input {\\n  outline: none;\\n}\\n\\n.Select-loading-zone {\\n  cursor: pointer;\\n  display: table-cell;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: middle;\\n  width: 16px;\\n}\\n\\n.Select-loading {\\n  animation: Select-animation-spin 400ms infinite linear;\\n  width: 16px;\\n  height: 16px;\\n  box-sizing: border-box;\\n  border-radius: 50%;\\n  border: 2px solid #ccc;\\n  border-right-color: #444;\\n  display: inline-block;\\n  position: relative;\\n  vertical-align: middle;\\n}\\n\\n.Select-clear-zone {\\n  animation: Select-animation-fadeIn 200ms;\\n  color: #999;\\n  cursor: pointer;\\n  display: table-cell;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: middle;\\n  width: 16px;\\n  height: 16px;\\n  padding-right: 4px;\\n}\\n\\n.Select-clear-zone:hover .Select-clear {\\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDIzMSwyMCw1Nik7ZmlsbC1ydWxlOm5vbnplcm87Ii8+ICAgIDwvZz48L3N2Zz4=);\\n}\\n\\n.Select-clear {\\n  display: block;\\n  width: 9px;\\n  height: 9px;\\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZpZXdCb3g9IjAgMCAxNCAxNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEuNDE0MjE7Ij4gICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMC4wMjM0Mzc1LDAsMCwwLjAyMzQzNzUsLTUuMDE1NjIsLTUuMDE1NjIpIj4gICAgICAgIDxwYXRoIGQ9Ik04MTAsMjc0TDU3Miw1MTJMODEwLDc1MEw3NTAsODEwTDUxMiw1NzJMMjc0LDgxMEwyMTQsNzUwTDQ1Miw1MTJMMjE0LDI3NEwyNzQsMjE0TDUxMiw0NTJMNzUwLDIxNEw4MTAsMjc0WiIgc3R5bGU9ImZpbGw6cmdiKDE1MywxNTMsMTUzKTtmaWxsLXJ1bGU6bm9uemVybzsiLz4gICAgPC9nPjwvc3ZnPg==);\\n  background-size: 9px 9px;\\n  text-indent: -9999px;\\n}\\n\\n.Select--multi .Select-clear-zone {\\n  width: 17px;\\n}\\n\\n.Select-arrow-zone {\\n  cursor: pointer;\\n  display: table-cell;\\n  position: relative;\\n  text-align: center;\\n  vertical-align: middle;\\n  width: 20px;\\n  padding-right: 5px;\\n}\\n\\n.Select-arrow {\\n  border-color: #999 transparent transparent;\\n  border-style: solid;\\n  border-width: 4px 4px 2px;\\n  display: inline-block;\\n  height: 0;\\n  width: 0;\\n}\\n\\n.is-open .Select-arrow,\\n.Select-arrow-zone:hover > .Select-arrow {\\n  border-top-color: #666;\\n}\\n\\n@keyframes Select-animation-fadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n.Select-menu-outer {\\n  border-bottom-right-radius: 4px;\\n  border-bottom-left-radius: 4px;\\n  background-color: #fff;\\n  border: 1px solid #ccc;\\n  border-top-color: #e6e6e6;\\n  box-sizing: border-box;\\n  margin-top: -1px;\\n  max-height: 200px;\\n  position: absolute;\\n  top: 100%;\\n  width: 100%;\\n  z-index: 7500;\\n  -webkit-overflow-scrolling: touch;\\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\\n}\\n\\n.Select-menu {\\n  max-height: 198px;\\n  padding: 5px 0;\\n  overflow-y: auto;\\n}\\n\\n.Select-option {\\n  display: block;\\n  line-height: 20px;\\n  padding: 0 8px;\\n  box-sizing: border-box;\\n  color: #444;\\n  font-size: 12px;\\n  cursor: pointer;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.Select-option:last-child {\\n  border-bottom-right-radius: 2px;\\n  border-bottom-left-radius: 2px;\\n}\\n\\n.Select-option.is-focused {\\n  background-color: #f3f3f3;\\n}\\n\\n.Select-option.is-disabled {\\n  font-weight: 600;\\n  cursor: default;\\n}\\n\\n.Select-noresults {\\n  box-sizing: border-box;\\n  color: #999;\\n  cursor: default;\\n  display: block;\\n  padding: 8px 10px;\\n}\\n\\n.Select--multi .Select-value {\\n  background-color: rgba(0, 126, 255, 0.08);\\n  border-radius: 2px;\\n  border: 1px solid rgba(0, 126, 255, 0.24);\\n  color: #444;\\n  display: inline-block;\\n  font-size: 12px;\\n  line-height: 14px;\\n  margin: 1px 4px 1px 1px;\\n  vertical-align: top;\\n}\\n\\n.Select-value-label {\\n  font-size: 12px;\\n}\\n\\n.is-searchable.is-open .Select-value-label {\\n  opacity: 0.5;\\n}\\n\\n.Select-big .Select-control {\\n  padding-top: 4px;\\n  padding-bottom: 4px;\\n}\\n\\n.Select-big .Select-placeholder {\\n  margin-top: 4px;\\n  margin-bottom: 4px;\\n}\\n\\n.Select-big .Select-value-label {\\n  display: inline-block;\\n  margin-top: 7px;\\n  line-height: 16px;\\n}\\n\\n.Select-big .Select-option {\\n  padding: 7px 8px;\\n  line-height: 16px;\\n}\\n\\n.Select-big img,\\n.Select-big svg {\\n  padding-top: 0;\\n}\\n\\n.Select--multi .Select-value-icon,\\n.Select--multi .Select-value-label {\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n\\n.Select--multi .Select-value-label {\\n  display: inline-block;\\n  max-width: 200px;\\n  border-bottom-right-radius: 2px;\\n  border-top-right-radius: 2px;\\n  cursor: default;\\n  padding: 2px 5px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.Select--multi a.Select-value-label {\\n  color: #007eff;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n\\n.Select--multi a.Select-value-label:hover {\\n  text-decoration: underline;\\n}\\n\\n.Select--multi .Select-value-icon {\\n  cursor: pointer;\\n  border-bottom-left-radius: 2px;\\n  border-top-left-radius: 2px;\\n  border-right: 1px solid rgba(0, 126, 255, 0.24);\\n  padding: 1px 5px;\\n}\\n\\n.Select--multi .Select-value-icon:hover,\\n.Select--multi .Select-value-icon:focus {\\n  background-color: rgba(0, 113, 230, 0.08);\\n  color: #0071e6;\\n}\\n\\n.Select--multi .Select-value-icon:active {\\n  background-color: rgba(0, 126, 255, 0.24);\\n}\\n\\n.Select--multi.is-disabled .Select-value {\\n  background-color: #fcfcfc;\\n  border: 1px solid #e3e3e3;\\n  color: #444;\\n}\\n\\n.Select--multi.is-disabled .Select-value-icon {\\n  cursor: not-allowed;\\n  border-right: 1px solid #e3e3e3;\\n}\\n\\n.Select--multi.is-disabled .Select-value-icon:hover,\\n.Select--multi.is-disabled .Select-value-icon:focus,\\n.Select--multi.is-disabled .Select-value-icon:active {\\n  background-color: #fcfcfc;\\n}\\n\\n.Select-aria-only {\\n  display: none;\\n}\\n\\n@keyframes Select-animation-spin {\\n  to {\\n    transform: rotate(1turn);\\n  }\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nconst qualifierIcons: { [x: string]: (props: IconProps) => React.ReactElement<any> } = {\n  app: ApplicationIcon,\n  brc: SubProjectIcon,\n  dev: DeveloperIcon,\n  dir: DirectoryIcon,\n  fil: FileIcon,\n  svw: SubPortfolioIcon,\n  trk: ProjectIcon,\n  uts: UnitTestIcon,\n  vw: PortfolioIcon,\n\n  // deprecated:\n  cla: UnitTestIcon,\n  dev_prj: ProjectIcon,\n  lib: LibraryIcon,\n  pac: DirectoryIcon\n};\n\ninterface QualifierIconProps {\n  className?: string;\n  fill?: string;\n  qualifier: string | null | undefined;\n}\n\nexport default function QualifierIcon(props: QualifierIconProps) {\n  if (!props.qualifier) {\n    return null;\n  }\n\n  const qualifier = props.qualifier.toLowerCase();\n  const FoundIcon = qualifierIcons[qualifier];\n  return FoundIcon ? <FoundIcon className={props.className} fill={props.fill} /> : null;\n}\n\nfunction ApplicationIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DeveloperIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction DirectoryIcon({ className, fill = theme.orange, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction FileIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction LibraryIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction PortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction ProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubPortfolioIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction SubProjectIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n\nfunction UnitTestIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  count: number;\n  className?: string;\n  loading?: boolean;\n  loadMore?: () => void;\n  ready?: boolean;\n  total?: number;\n}\n\nexport default function ListFooter({ ready = true, ...props }: Props) {\n  const handleLoadMore = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (props.loadMore) {\n      props.loadMore();\n    }\n  };\n\n  const hasMore = props.total && props.total > props.count;\n  const loadMoreLink = (\n    <a className=\"spacer-left\" href=\"#\" onClick={handleLoadMore}>\n      {translate('show_more')}\n    </a>\n  );\n  const className = classNames(\n    'spacer-top note text-center',\n    { 'new-loading': !ready },\n    props.className\n  );\n\n  return (\n    <footer className={className}>\n      {translateWithParameters(\n        'x_of_y_shown',\n        formatMeasure(props.count, 'INT', null),\n        formatMeasure(props.total, 'INT', null)\n      )}\n      {props.loadMore != null && hasMore ? loadMoreLink : null}\n      {props.loading && (\n        <DeferredSpinner className=\"vertical-bottom spacer-left position-absolute\" />\n      )}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Rating.css';\n\ninterface Props {\n  className?: string;\n  muted?: boolean;\n  small?: boolean;\n  value: string | number | undefined;\n}\n\nexport default function Rating({ className, muted = false, small = false, value }: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n  const formatted = formatMeasure(value, 'RATING');\n  return (\n    <span\n      className={classNames(\n        'rating',\n        'rating-' + formatted,\n        { 'rating-small': small, 'rating-muted': muted },\n        className\n      )}>\n      {formatted}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function collapsePath(path: string, limit = 30): string {\n  if (typeof path !== 'string') {\n    return '';\n  }\n\n  const tokens = path.split('/');\n\n  if (tokens.length <= 2) {\n    return path;\n  }\n\n  const head = tokens[0];\n  const tail = tokens[tokens.length - 1];\n  const middle = tokens.slice(1, -1);\n  let cut = false;\n\n  while (middle.join().length > limit && middle.length > 0) {\n    middle.shift();\n    cut = true;\n  }\n\n  const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n  return body.join('/');\n}\n\n/**\n * Return a collapsed path without a file name\n * @example\n * // returns 'src/.../js/components/navigator/app/models/'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function collapsedDirFromPath(path: string | null): string | null {\n  const limit = 30;\n  if (typeof path === 'string') {\n    const tokens = path.split('/').slice(0, -1);\n    if (tokens.length > 2) {\n      const head = tokens[0];\n      const tail = tokens[tokens.length - 1];\n      const middle = tokens.slice(1, -1);\n\n      let cut = false;\n      while (middle.join().length > limit && middle.length > 0) {\n        middle.shift();\n        cut = true;\n      }\n      const body = [head, ...(cut ? ['...'] : []), ...middle, tail];\n      return body.join('/') + '/';\n    } else {\n      return tokens.join('/') + '/';\n    }\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return a file name for a given file path\n * * @example\n * // returns 'state.js'\n * collapsedDirFromPath('src/main/js/components/navigator/app/models/state.js')\n */\nexport function fileFromPath(path: string | null): string | null {\n  if (typeof path === 'string') {\n    const tokens = path.split('/');\n    return tokens[tokens.length - 1];\n  } else {\n    return null;\n  }\n}\n\nexport function splitPath(path: string) {\n  const tokens = path.split('/');\n  return {\n    head: tokens.slice(0, -1).join('/'),\n    tail: tokens[tokens.length - 1]\n  };\n}\n\nexport function limitComponentName(str: string, limit = 30): string {\n  if (typeof str === 'string') {\n    return str.length > limit ? str.substr(0, limit) + '...' : str;\n  } else {\n    return '';\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from '../../helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport './Level.css';\n\ninterface Props {\n  className?: string;\n  level: string;\n  small?: boolean;\n  muted?: boolean;\n}\n\nexport default function Level(props: Props) {\n  const formatted = formatMeasure(props.level, 'LEVEL');\n  const className = classNames(props.className, 'level', 'level-' + props.level, {\n    'level-small': props.small,\n    'level-muted': props.muted\n  });\n  return <span className={className}>{formatted}</span>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BugIcon from '../icons-components/BugIcon';\nimport VulnerabilityIcon from '../icons-components/VulnerabilityIcon';\nimport CodeSmellIcon from '../icons-components/CodeSmellIcon';\nimport SecurityHotspotIcon from '../icons-components/SecurityHotspotIcon';\n\ninterface Props {\n  className?: string;\n  query: string;\n  size?: number;\n}\n\nexport default function IssueTypeIcon({ className, query, size }: Props) {\n  let icon;\n\n  switch (query.toLowerCase()) {\n    case 'bug':\n    case 'bugs':\n    case 'new_bugs':\n      icon = <BugIcon size={size} />;\n      break;\n    case 'vulnerability':\n    case 'vulnerabilities':\n    case 'new_vulnerabilities':\n      icon = <VulnerabilityIcon size={size} />;\n      break;\n    case 'code_smell':\n    case 'code_smells':\n    case 'new_code_smells':\n      icon = <CodeSmellIcon size={size} />;\n      break;\n    case 'security_hotspot':\n    case 'security_hotspots':\n      icon = <SecurityHotspotIcon size={size} />;\n      break;\n  }\n\n  if (!icon) {\n    return null;\n  }\n\n  return className ? <span className={className}>{icon}</span> : icon;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function VulnerabilityIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M10.8 5H6V3.9a2.28 2.28 0 0 1 2-2.5 2.22 2.22 0 0 1 1.8 1.2.48.48 0 0 0 .7.2.48.48 0 0 0 .2-.7A3 3 0 0 0 8 .4a3.34 3.34 0 0 0-3 3.5v1.2a2.16 2.16 0 0 0-2 2.1v4.4a2.22 2.22 0 0 0 2.2 2.2h5.6a2.22 2.22 0 0 0 2.2-2.2V7.2A2.22 2.22 0 0 0 10.8 5zm-2.2 5.5v1.2H7.4v-1.2a1.66 1.66 0 0 1-1.1-1.6A1.75 1.75 0 0 1 8 7.2a1.71 1.71 0 0 1 .6 3.3z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BugIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11 9h1.3l.5.8.8-.5-.8-1.3H11v-.3l2-2.3V3h-1v2l-1 1.2V5c-.1-.8-.7-1.5-1.4-1.9L11 1.8l-.7-.7-1.8 1.6-1.8-1.6-.7.7 1.5 1.3C6.7 3.5 6.1 4.2 6 5v1.1L5 5V3H4v2.3l2 2.3V8H4.2l-.7 1.2.8.5.4-.7H6v.3l-2 1.9V14h1v-2.4l1-1C6 12 7.1 13 8.4 13h.8c.7 0 1.4-.3 1.8-.9.3-.4.3-.9.2-1.4l.9.9V14h1v-2.8l-2-1.9V9zm-2 2H8V6h1v5z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CodeSmellIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M8 2C4.7 2 2 4.7 2 8s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm-.5 5.5h.9v.9h-.9v-.9zm-3.8.2c-.1 0-.2-.1-.2-.2 0-.4.1-1.2.6-2S5.3 4.2 5.6 4c.2 0 .3 0 .3.1l1.3 2.3c0 .1 0 .2-.1.2-.1.2-.2.3-.3.5-.1.2-.2.4-.2.5 0 .1-.1.2-.2.2l-2.7-.1zM9.9 12c-.3.2-1.1.5-2 .5-.9 0-1.7-.3-2-.5-.1 0-.1-.2-.1-.3l1.3-2.3c0-.1.1-.1.2-.1.2.1.3.1.5.1s.4 0 .5-.1c.1 0 .2 0 .2.1l1.3 2.3c.2.2.2.3.1.3zm2.5-4.1L9.7 8c-.1 0-.2-.1-.2-.2 0-.2-.1-.4-.2-.5 0-.1-.2-.3-.3-.4-.1 0-.1-.1-.1-.2l1.3-2.3c.1-.1.2-.1.3-.1.3.2 1 .7 1.5 1.5s.6 1.6.6 2c0 0-.1.1-.2.1z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.level {\\n  display: inline-block;\\n  width: auto;\\n  min-width: 80px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  letter-spacing: 0.02em;\\n  font-size: 13px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.level-small {\\n  width: auto;\\n  min-width: 64px;\\n  padding-left: 9px;\\n  padding-right: 9px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  height: 20px;\\n  line-height: 20px;\\n  font-size: 12px;\\n}\\n\\n.level-muted {\\n  background-color: #bdbdbd !important;\\n}\\n\\na > .level {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .level:hover {\\n  opacity: 0.8;\\n}\\n\\n.level-OK {\\n  background-color: #00aa00;\\n}\\n\\n.level-WARN {\\n  background-color: #ed7d20;\\n}\\n\\n.level-ERROR {\\n  background-color: #d4333f;\\n}\\n\\n.level-NONE {\\n  background-color: #b4b4b4;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.rating {\\n  display: inline-block;\\n  width: 24px;\\n  height: 24px;\\n  line-height: 24px;\\n  border-radius: 24px;\\n  box-sizing: border-box;\\n  color: #fff;\\n  font-size: 16px;\\n  font-weight: 400;\\n  text-align: center;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35);\\n}\\n\\n.rating-muted {\\n  background-color: #bdbdbd !important;\\n  color: #fff !important;\\n  text-shadow: 0 0 1px rgba(0, 0, 0, 0.35) !important;\\n}\\n\\na > .rating {\\n  margin-bottom: -1px;\\n  border-bottom: 1px solid;\\n  transition: all 0.2s ease;\\n}\\n\\na > .rating:hover {\\n  opacity: 0.8;\\n}\\n\\n.rating-A {\\n  line-height: 23px;\\n  background-color: #00aa00;\\n}\\n\\na > .rating-A {\\n  border-bottom-color: #00aa00;\\n}\\n\\n.rating-B {\\n  background-color: #b0d513;\\n}\\n\\na .rating-B {\\n  border-bottom-color: #b0d513;\\n}\\n\\n.rating-C {\\n  background-color: #eabe06;\\n}\\n\\na .rating-C {\\n  border-bottom-color: #eabe06;\\n}\\n\\n.rating-D {\\n  background-color: #ed7d20;\\n}\\n\\na .rating-D {\\n  border-bottom-color: #ed7d20;\\n}\\n\\n.rating-E {\\n  background-color: #e00;\\n}\\n\\na .rating-E {\\n  border-bottom-color: #e00;\\n}\\n\\n.rating-small {\\n  width: 18px;\\n  height: 18px;\\n  line-height: 18px;\\n  margin-top: -1px;\\n  margin-bottom: -1px;\\n  font-size: 12px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { translate, translateWithParameters } from './l10n';\nimport { parseDate } from './dates';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter;\n  if (period.mode === 'previous_version' && !parameter) {\n    return translate('overview.period.previous_version_only_date');\n  }\n\n  if (period.mode === 'date' && parameter) {\n    parameter = dateFormatter(parameter);\n  }\n\n  return translateWithParameters(`overview.period.${period.mode}`, parameter || '');\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getRatingTooltip } from './utils';\nimport Rating from '../ui/Rating';\nimport Level from '../ui/Level';\nimport Tooltip from '../controls/Tooltip';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span>{''}</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = ['sqale_rating', 'reliability_rating', 'security_rating'];\n\nexport function enhanceMeasure(\n  measure: T.Measure,\n  metrics: { [key: string]: T.Metric }\n): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.Measure | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function LongLivingBranchIcon({ className, fill = theme.blue, size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"translate(5, 0)\">\n        <path\n          d=\"M4.5 8c0-.9-.6-1.7-1.5-1.9V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C.5 3 1.1 3.8 2 4v2.1C1.1 6.3.5 7.1.5 8s.6 1.7 1.5 2v2.1c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9V10c.9-.3 1.5-1 1.5-2zm-3-5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm0 5.9c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1zm2 6c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .5 1 1z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OpenCloseIcon from '../icons-components/OpenCloseIcon';\nimport HelpTooltip from '../controls/HelpTooltip';\nimport { Button } from '../ui/buttons';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  clearLabel?: string;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge badge-secondary is-rounded text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate(this.props.clearLabel || 'clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nexport default function FacetItemsList(props: Props) {\n  return <div className=\"search-navigator-facet-list\">{props.children}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function LinkIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g transform=\"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\">\n        <path\n          d=\"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronDownIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './Icon';\nimport ChevronDownIcon from './ChevronDownIcon';\nimport ChevronRightIcon from './ChevronRightcon';\n\ninterface Props extends IconProps {\n  open: boolean;\n}\n\nexport default function OpenCloseIcon({ open, ...props }: Props) {\n  return open ? <ChevronDownIcon {...props} /> : <ChevronRightIcon {...props} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport interface Props extends IconProps {\n  favorite: boolean;\n}\n\nexport default function FavoriteIcon({ className, favorite, fill = theme.orange, size }: Props) {\n  return (\n    <Icon\n      className={classNames('icon-outline', { 'is-filled': favorite }, className)}\n      size={size}\n      style={{ color: fill }}>\n      <g transform=\"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\">\n        <path d=\"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function SecurityHotspotIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <g style={{ fill }}>\n        <path\n          d=\"M10.238 2.416c-0.432-0.895-1.259-1.504-2.202-1.504-1.386 0-2.521 1.318-2.521 2.927v5.481\"\n          fill=\"none\"\n          stroke={fill}\n          strokeLinecap=\"round\"\n          strokeWidth=\"1.1429\"\n        />\n        <path d=\"M8.537 10.372v1.199h-1.099v-1.199c-0.638-0.228-1.099-0.832-1.099-1.546 0-0.909 0.739-1.649 1.648-1.649s1.649 0.74 1.649 1.649c0 0.715-0.461 1.32-1.099 1.546zM10.734 4.979h-5.494c-1.21 0-2.199 0.989-2.199 2.197v4.395c0 1.21 0.989 2.199 2.199 2.199h5.494c1.209 0 2.197-0.989 2.197-2.199v-4.395c0-1.209-0.989-2.197-2.197-2.197z\" />\n        <path d=\"M4.030 6.352h6.923v6.923h-6.923z\" />\n        <path\n          d=\"M7.504 10.283c0-0.423 0.048-0.757 0.144-1.002s0.251-0.457 0.465-0.637c0.215-0.18 0.377-0.344 0.489-0.493s0.167-0.313 0.167-0.493c0-0.438-0.189-0.656-0.565-0.656-0.174 0-0.314 0.064-0.421 0.191s-0.164 0.3-0.17 0.518h-1.469c0.006-0.58 0.189-1.031 0.548-1.354s0.864-0.485 1.513-0.485c0.646 0 1.147 0.149 1.501 0.447s0.532 0.723 0.532 1.274c0 0.241-0.048 0.459-0.144 0.656s-0.249 0.398-0.46 0.604l-0.5 0.465c-0.142 0.136-0.241 0.276-0.296 0.42s-0.086 0.325-0.091 0.545h-1.243zM7.326 11.604c0-0.215 0.078-0.39 0.233-0.528s0.349-0.207 0.58-0.207c0.232 0 0.425 0.068 0.58 0.207s0.233 0.313 0.233 0.528-0.078 0.39-0.233 0.528c-0.155 0.138-0.349 0.207-0.58 0.207s-0.425-0.068-0.58-0.207c-0.155-0.138-0.233-0.313-0.233-0.528z\"\n          fill=\"#fff\"\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from '../lazyLoad';\n\nconst SourceViewer = lazyLoad(() => import(/* webpackPrefetch: true */ './SourceViewerBase'));\nexport default SourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport Tooltip from './Tooltip';\nimport FavoriteIcon from '../icons-components/FavoriteIcon';\nimport { translate } from '../../helpers/l10n';\n\nexport interface Props {\n  addFavorite: () => Promise<void>;\n  className?: string;\n  favorite: boolean;\n  qualifier: string;\n  removeFavorite: () => Promise<void>;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class FavoriteBase extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { favorite: this.props.favorite };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.favorite !== this.props.favorite || nextProps.favorite !== this.state.favorite) {\n      this.setState({ favorite: nextProps.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.state.favorite) {\n      this.removeFavorite();\n    } else {\n      this.addFavorite();\n    }\n  };\n\n  addFavorite() {\n    this.props.addFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: true });\n        }\n      },\n      () => {}\n    );\n  }\n\n  removeFavorite() {\n    this.props.removeFavorite().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ favorite: false });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const tooltip = this.state.favorite\n      ? translate('favorite.current', this.props.qualifier)\n      : translate('favorite.check', this.props.qualifier);\n    return (\n      <Tooltip overlay={tooltip}>\n        <a\n          className={classNames('display-inline-block', 'link-no-underline', this.props.className)}\n          href=\"#\"\n          onClick={this.toggleFavorite}>\n          <FavoriteIcon favorite={this.state.favorite} />\n        </a>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteBase from './FavoriteBase';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n}\n\nexport default function Favorite({ component, ...other }: Props) {\n  return (\n    <FavoriteBase\n      {...other}\n      addFavorite={() => addFavorite(component)}\n      removeFavorite={() => removeFavorite(component)}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { post, getJSON } from '../helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n\\n/* TODO this file is HUGE and should be cut into smaller components */\\n\\n.search-navigator.sticky .search-navigator-workspace-header {\\n  position: fixed;\\n  z-index: 50;\\n  top: 0;\\n  left: 300px;\\n  right: 0;\\n}\\n\\n.search-navigator.sticky .search-navigator-workspace-list,\\n.search-navigator.sticky .search-navigator-workspace-details {\\n  padding-top: 43px;\\n}\\n\\n.search-navigator-facet-box {\\n  background-color: #f3f3f3;\\n  font-size: 13px;\\n}\\n\\n.search-navigator-facet-box.leak-facet-box {\\n  background-color: #fbf3d5;\\n  border: 1px solid #eae3c7;\\n}\\n\\n.search-navigator-facet-box.is-inner {\\n  margin-left: 8px;\\n  padding-left: 12px;\\n  border-left: 1px solid #e6e6e6;\\n}\\n\\n.search-navigator-facet-box.is-inner .search-navigator-facet-header {\\n  padding-top: 6px;\\n  padding-bottom: 6px;\\n}\\n\\n.leak-facet-box:not(.hidden) + .leak-facet-box {\\n  border-top: none;\\n}\\n\\n.search-navigator-facet-box-forbidden {\\n  background-color: transparent;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-list,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-empty,\\n.search-navigator-facet-box-forbidden .search-navigator-facet-container {\\n  display: none;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header {\\n  cursor: default;\\n}\\n\\n.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover {\\n  color: #777;\\n}\\n\\n.search-navigator-facet-box > .spinner {\\n  float: right;\\n  margin-top: -24px;\\n}\\n\\n.search-navigator-facet {\\n  position: relative;\\n  display: inline-flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  width: 100%;\\n  height: 24px;\\n  margin: 0 0 1px 0;\\n  padding: 0 6px;\\n  border: 1px solid transparent;\\n  border-radius: 2px;\\n  box-sizing: border-box;\\n  white-space: normal;\\n  opacity: 0.3;\\n  cursor: not-allowed;\\n  transition: none;\\n}\\n\\na.search-navigator-facet {\\n  opacity: 1;\\n  cursor: pointer;\\n}\\n\\na.search-navigator-facet .facet-name {\\n  color: #444;\\n}\\n\\na.search-navigator-facet:hover,\\na.search-navigator-facet:focus,\\n.search-navigator-facet.active {\\n  border-color: #4b9fd5;\\n}\\n\\n.search-navigator-facet.facet-category {\\n  opacity: 1;\\n  cursor: default;\\n}\\n\\n.search-navigator-facet.facet-category .facet-name {\\n  color: #777;\\n}\\n\\n.search-navigator-facet .facet-name {\\n  flex: 1 1 auto;\\n  min-width: 0;\\n  line-height: 16px;\\n  padding: 1px 0; /* needed to fit small ratings and levels */\\n  color: #777;\\n  font-size: 12px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n.search-navigator-facet .facet-stat {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 8px;\\n  color: #777;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-facet .facet-toggle {\\n  display: none;\\n  float: left;\\n  height: 16px;\\n  line-height: 16px;\\n  margin-top: -1px;\\n  padding: 0 5px;\\n  border-radius: 2px;\\n  font-size: 11px;\\n  text-transform: lowercase;\\n}\\n\\n.search-navigator-facet .facet-toggle:hover {\\n  color: #444;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet .facet-toggle-active.facet-toggle-red {\\n  background-color: #d4333f;\\n  color: #ffffff;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-name {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat {\\n  background-color: #fbf3d5;\\n}\\n\\n.leak-facet-box .search-navigator-facet .facet-stat:before {\\n  background-image: linear-gradient(to right, rgba(251, 243, 213, 0), #fbf3d5 75%);\\n}\\n\\n.search-navigator-facet.active {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet.active .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle {\\n  cursor: not-allowed;\\n  opacity: 0.5;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-green {\\n  background-color: #00aa00;\\n  color: #ffffff;\\n}\\n\\n.search-navigator-facet.compare .facet-toggle.facet-toggle-red {\\n  background-color: transparent;\\n  color: #777;\\n}\\n\\n.search-navigator-facet-half {\\n  width: 45%;\\n}\\n\\n.search-navigator-facet-half:nth-child(odd) {\\n  margin-right: 10%;\\n}\\n\\n.search-navigator-facet-highlight-under-container {\\n  margin-bottom: 1px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet {\\n  margin-bottom: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active {\\n  border-bottom: none;\\n  padding-bottom: 1px;\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  border-top: none;\\n  border-bottom: none;\\n  border-left-color: #4b9fd5;\\n  border-right-color: #4b9fd5;\\n  border-radius: 0;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet:last-of-type,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type,\\n.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type {\\n  border-bottom: 1px solid #4b9fd5;\\n  border-radius: 2px;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet {\\n  background-color: #cae3f2;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet:hover\\n  ~ .search-navigator-facet.active {\\n  border-top: 1px solid #4b9fd5;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet {\\n  background-color: #a1cde8;\\n  text-decoration: none;\\n}\\n\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  .facet-toggle,\\n.search-navigator-facet-highlight-under-container\\n  .search-navigator-facet.active\\n  ~ .search-navigator-facet:hover\\n  ~ .search-navigator-facet\\n  .facet-toggle {\\n  display: inline;\\n}\\n\\n.search-navigator-facet-header {\\n  display: block;\\n  flex-shrink: 0;\\n  padding: 8px 0;\\n  color: #444;\\n  font-weight: 600;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-header > a {\\n  border-bottom: none;\\n  color: #444;\\n}\\n\\n.search-navigator-facet-header > a:hover {\\n  color: #4b9fd5;\\n}\\n\\n.search-navigator-facet-header > .note {\\n  font-weight: 400;\\n}\\n\\n.search-navigator-facet-header-value {\\n  display: block;\\n  overflow: hidden;\\n}\\n\\n.search-navigator-facet-header-value > .badge {\\n  display: block;\\n}\\n\\n.search-navigator-facet-header-button {\\n  flex-shrink: 0;\\n  margin-left: auto;\\n}\\n\\n.search-navigator-facet-header-wrapper {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.search-navigator-facet-list {\\n  padding-bottom: 8px;\\n  font-size: 0;\\n}\\n\\n.search-navigator-facet-empty {\\n  margin: 0 0 0 0;\\n  padding: 0 10px 10px;\\n  color: #444;\\n  font-size: 12px;\\n  white-space: nowrap;\\n}\\n\\n.search-navigator-facet-footer {\\n  display: block;\\n  padding-bottom: 8px;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-facet-container {\\n  margin-top: 6px;\\n  padding: 0 10px 16px;\\n}\\n\\n.search-navigator-date-facet-selection {\\n  position: relative;\\n  padding-left: 8px;\\n  font-size: 12px;\\n}\\n\\n.search-navigator-date-facet-selection:before,\\n.search-navigator-date-facet-selection:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-date-facet-selection:after {\\n  clear: both;\\n}\\n\\n.search-navigator-date-facet-selection .date-input-control-input {\\n  width: 115px !important;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-left {\\n  float: left;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-dropdown-right {\\n  float: right;\\n  border-bottom: none;\\n}\\n\\n.search-navigator-date-facet-selection-input-left {\\n  position: absolute;\\n  left: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection-input-right {\\n  position: absolute;\\n  right: 0;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n\\n.search-navigator-date-facet-selection\\n  .date-input-control:not(:nth-of-type(1))\\n  .date-input-calendar {\\n  left: auto;\\n  right: 0;\\n}\\n\\n.search-navigator-filters {\\n  position: relative;\\n  padding: 5px 10px;\\n  background-color: #f3f3f3;\\n}\\n\\n.search-navigator-filters:before,\\n.search-navigator-filters:after {\\n  display: table;\\n  content: '';\\n  line-height: 0;\\n}\\n\\n.search-navigator-filters:after {\\n  clear: both;\\n}\\n\\n.search-navigator-filters-header {\\n  margin-bottom: 12px;\\n  padding-bottom: 11px;\\n  border-bottom: 1px solid #e6e6e6;\\n}\\n.search-navigator-intro {\\n  width: 500px;\\n  margin: 0 auto;\\n  padding-top: 100px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function BubblesIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size} style={{ fillRule: 'nonzero' }}>\n      <path\n        d=\"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.bar-chart-bar {\\n  fill: #4b9fd5;\\n}\\n\\n.bar-chart-tick {\\n  fill: #777;\\n  font-size: 12px;\\n  text-anchor: middle;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function HistoryIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Histogram.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Histogram.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Histogram.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * SonarQube\\n * Copyright (C) 2009-2018 SonarSource SA\\n * mailto:info AT sonarsource DOT com\\n *\\n * This program is free software; you can redistribute it and/or\\n * modify it under the terms of the GNU Lesser General Public\\n * License as published by the Free Software Foundation; either\\n * version 3 of the License, or (at your option) any later version.\\n *\\n * This program is distributed in the hope that it will be useful,\\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\\n * Lesser General Public License for more details.\\n *\\n * You should have received a copy of the GNU Lesser General Public License\\n * along with this program; if not, write to the Free Software Foundation,\\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\\n */\\n.histogram-tick {\\n  text-anchor: end;\\n}\\n\\n.histogram-tick-start {\\n  text-anchor: start;\\n}\\n\\n.histogram-value {\\n  text-anchor: start;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ListIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\nimport './BarChart.css';\nimport './Histogram.css';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" height={BAR_HEIGHT} width={width} x={x} y={y} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return (\n      <Tooltip overlay={this.props.yTooltips && this.props.yTooltips[index]}>\n        <text className=\"bar-chart-tick histogram-value\" dx=\"1em\" dy=\"0.3em\" x={x} y={y}>\n          {value}\n        </text>\n      </Tooltip>\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\"\n        x={x}\n        y={y}>\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" height={this.props.height} width={this.props.width}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages: T.Languages;\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      width={props.width}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = props.languages[langKey];\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport LanguageDistribution from './LanguageDistribution';\nimport { getLanguages, Store } from '../../store/rootReducer';\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageDistribution);\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport { Link } from 'react-router';\nimport { min, max } from 'd3-array';\nimport { scaleLinear, ScaleLinear } from 'd3-scale';\nimport { zoom, zoomIdentity } from 'd3-zoom';\nimport { event, select } from 'd3-selection';\nimport { sortBy, uniq } from 'lodash';\nimport Tooltip from '../controls/Tooltip';\nimport { translate } from '../../helpers/l10n';\nimport { Location } from '../../helpers/urls';\nimport './BubbleChart.css';\n\nconst TICKS_COUNT = 5;\n\ninterface BubbleProps<T> {\n  color?: string;\n  link?: string | Location;\n  onClick?: (ref?: T) => void;\n  data?: T;\n  r: number;\n  scale: number;\n  tooltip?: string | React.ReactNode;\n  x: number;\n  y: number;\n}\n\nexport class Bubble<T> extends React.PureComponent<BubbleProps<T>> {\n  handleClick = (event: React.MouseEvent<SVGCircleElement>) => {\n    if (this.props.onClick) {\n      event.stopPropagation();\n      event.preventDefault();\n      this.props.onClick(this.props.data);\n    }\n  };\n\n  render() {\n    let circle = (\n      <circle\n        className=\"bubble-chart-bubble\"\n        onClick={this.props.onClick ? this.handleClick : undefined}\n        r={this.props.r}\n        style={{ fill: this.props.color, stroke: this.props.color }}\n        transform={`translate(${this.props.x}, ${this.props.y}) scale(${this.props.scale})`}\n      />\n    );\n\n    if (this.props.link && !this.props.onClick) {\n      circle = <Link to={this.props.link}>{circle}</Link>;\n    }\n\n    return (\n      <Tooltip overlay={this.props.tooltip || undefined}>\n        <g>{circle}</g>\n      </Tooltip>\n    );\n  }\n}\n\ninterface BubbleItem<T> {\n  color?: string;\n  key?: string;\n  link?: string | Location;\n  data?: T;\n  size: number;\n  tooltip?: React.ReactNode;\n  x: number;\n  y: number;\n}\n\ninterface Props<T> {\n  displayXGrid?: boolean;\n  displayXTicks?: boolean;\n  displayYGrid?: boolean;\n  displayYTicks?: boolean;\n  formatXTick?: (tick: number) => string;\n  formatYTick?: (tick: number) => string;\n  height: number;\n  items: BubbleItem<T>[];\n  onBubbleClick?: (ref?: T) => void;\n  padding?: [number, number, number, number];\n  sizeDomain?: [number, number];\n  sizeRange?: [number, number];\n  xDomain?: [number, number];\n  yDomain?: [number, number];\n}\n\ninterface State {\n  transform: { x: number; y: number; k: number };\n}\n\ntype Scale = ScaleLinear<number, number>;\n\nexport default class BubbleChart<T> extends React.Component<Props<T>, State> {\n  node: SVGSVGElement | null = null;\n  selection: any = null;\n  transform: any = null;\n  zoom: any = null;\n\n  static defaultProps = {\n    displayXGrid: true,\n    displayXTicks: true,\n    displayYGrid: true,\n    displayYTicks: true,\n    sizeRange: [5, 45]\n  };\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { transform: { x: 0, y: 0, k: 1 } };\n  }\n\n  componentDidUpdate() {\n    if (this.zoom && this.node) {\n      const rect = this.node.getBoundingClientRect();\n      this.zoom.translateExtent([[0, 0], [rect.width, rect.height]]);\n    }\n  }\n\n  boundNode = (node: SVGSVGElement) => {\n    this.node = node;\n    this.zoom = zoom()\n      .scaleExtent([1, 10])\n      .on('zoom', this.zoomed);\n    this.selection = select(this.node).call(this.zoom);\n  };\n\n  zoomed = () => {\n    this.setState({ transform: event.transform });\n  };\n\n  resetZoom = (event: React.MouseEvent<Link>) => {\n    event.stopPropagation();\n    event.preventDefault();\n    select(this.node).call(this.zoom.transform, zoomIdentity);\n  };\n\n  get formatXTick() {\n    return this.props.formatXTick || ((d: number) => String(d));\n  }\n\n  get formatYTick() {\n    return this.props.formatYTick || ((d: number) => String(d));\n  }\n\n  get padding() {\n    return this.props.padding || [10, 10, 10, 10];\n  }\n\n  getXRange(xScale: Scale, sizeScale: Scale, availableWidth: number) {\n    const minX = min(this.props.items, d => xScale(d.x) - sizeScale(d.size)) || 0;\n    const maxX = max(this.props.items, d => xScale(d.x) + sizeScale(d.size)) || 0;\n    const dMinX = minX < 0 ? xScale.range()[0] - minX : xScale.range()[0];\n    const dMaxX = maxX > xScale.range()[1] ? maxX - xScale.range()[1] : 0;\n    return [dMinX, availableWidth - dMaxX];\n  }\n\n  getYRange(yScale: Scale, sizeScale: Scale, availableHeight: number) {\n    const minY = min(this.props.items, d => yScale(d.y) - sizeScale(d.size)) || 0;\n    const maxY = max(this.props.items, d => yScale(d.y) + sizeScale(d.size)) || 0;\n    const dMinY = minY < 0 ? yScale.range()[1] - minY : yScale.range()[1];\n    const dMaxY = maxY > yScale.range()[0] ? maxY - yScale.range()[0] : 0;\n    return [availableHeight - dMaxY, dMinY];\n  }\n\n  getTicks(scale: Scale, format: (d: number) => string) {\n    const zoom = Math.ceil(this.state.transform.k);\n    const ticks = scale.ticks(TICKS_COUNT * zoom).map(tick => format(tick));\n    const uniqueTicksCount = uniq(ticks).length;\n    const ticksCount =\n      uniqueTicksCount < TICKS_COUNT * zoom ? uniqueTicksCount - 1 : TICKS_COUNT * zoom;\n    return scale.ticks(ticksCount);\n  }\n\n  getZoomLevelLabel = () => Math.floor(this.state.transform.k * 100) + '%';\n\n  renderXGrid = (ticks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayXGrid) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const lines = ticks.map((tick, index) => {\n      const x = xScale(tick);\n      const y1 = yScale.range()[0];\n      const y2 = yScale.range()[1];\n      return (\n        <line\n          className=\"bubble-chart-grid\"\n          key={index}\n          x1={x * transform.k + transform.x}\n          x2={x * transform.k + transform.x}\n          y1={y1 * transform.k}\n          y2={transform.k > 1 ? 0 : y2}\n        />\n      );\n    });\n\n    return <g>{lines}</g>;\n  };\n\n  renderYGrid = (ticks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayYGrid) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const lines = ticks.map((tick, index) => {\n      const y = yScale(tick);\n      const x1 = xScale.range()[0];\n      const x2 = xScale.range()[1];\n      return (\n        <line\n          className=\"bubble-chart-grid\"\n          key={index}\n          x1={transform.k > 1 ? 0 : x1}\n          x2={x2 * transform.k}\n          y1={y * transform.k + transform.y}\n          y2={y * transform.k + transform.y}\n        />\n      );\n    });\n\n    return <g>{lines}</g>;\n  };\n\n  renderXTicks = (xTicks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayXTicks) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const ticks = xTicks.map((tick, index) => {\n      const x = xScale(tick) * transform.k + transform.x;\n      const y = yScale.range()[0];\n      const innerText = this.formatXTick(tick);\n      return x > 0 ? (\n        <text className=\"bubble-chart-tick\" dy=\"1.5em\" key={index} x={x} y={y}>\n          {innerText}\n        </text>\n      ) : null;\n    });\n\n    return <g>{ticks}</g>;\n  };\n\n  renderYTicks = (yTicks: number[], xScale: Scale, yScale: Scale) => {\n    if (!this.props.displayYTicks) {\n      return null;\n    }\n\n    const { transform } = this.state;\n    const ticks = yTicks.map((tick, index) => {\n      const x = xScale.range()[0];\n      const y = yScale(tick) * transform.k + transform.y;\n      const innerText = this.formatYTick(tick);\n      return y > 0 && y < this.props.height - 80 ? (\n        <text\n          className=\"bubble-chart-tick bubble-chart-tick-y\"\n          dx=\"-0.5em\"\n          dy=\"0.3em\"\n          key={index}\n          x={x}\n          y={y}>\n          {innerText}\n        </text>\n      ) : null;\n    });\n\n    return <g>{ticks}</g>;\n  };\n\n  renderChart = (width: number) => {\n    const { transform } = this.state;\n    const availableWidth = width - this.padding[1] - this.padding[3];\n    const availableHeight = this.props.height - this.padding[0] - this.padding[2];\n\n    const xScale = scaleLinear()\n      .domain(this.props.xDomain || [0, max(this.props.items, d => d.x) || 0])\n      .range([0, availableWidth])\n      .nice();\n    const yScale = scaleLinear()\n      .domain(this.props.yDomain || [0, max(this.props.items, d => d.y) || 0])\n      .range([availableHeight, 0])\n      .nice();\n    const sizeScale = scaleLinear()\n      .domain(this.props.sizeDomain || [0, max(this.props.items, d => d.size) || 0])\n      .range(this.props.sizeRange || []);\n\n    const xScaleOriginal = xScale.copy();\n    const yScaleOriginal = yScale.copy();\n\n    xScale.range(this.getXRange(xScale, sizeScale, availableWidth));\n    yScale.range(this.getYRange(yScale, sizeScale, availableHeight));\n\n    const bubbles = sortBy(this.props.items, b => -b.size).map((item, index) => {\n      return (\n        <Bubble\n          color={item.color}\n          data={item.data}\n          key={item.key || index}\n          link={item.link}\n          onClick={this.props.onBubbleClick}\n          r={sizeScale(item.size)}\n          scale={1 / transform.k}\n          tooltip={item.tooltip}\n          x={xScale(item.x)}\n          y={yScale(item.y)}\n        />\n      );\n    });\n\n    const xTicks = this.getTicks(xScale, this.formatXTick);\n    const yTicks = this.getTicks(yScale, this.formatYTick);\n\n    return (\n      <svg\n        className={classNames('bubble-chart')}\n        height={this.props.height}\n        ref={this.boundNode}\n        width={width}>\n        <defs>\n          <clipPath id=\"graph-region\">\n            <rect\n              // Extend clip by 2 pixels: one for clipRect border, and one for Bubble borders\n              height={this.props.height - this.padding[0] - this.padding[2] + 4}\n              width={width + 4}\n              x={-2}\n              y={-2}\n            />\n          </clipPath>\n        </defs>\n        <g transform={`translate(${this.padding[3]}, ${this.padding[0]})`}>\n          <g clipPath=\"url(#graph-region)\">\n            {this.renderXGrid(xTicks, xScale, yScale)}\n            {this.renderYGrid(yTicks, xScale, yScale)}\n            <g transform={`translate(${transform.x}, ${transform.y}) scale(${transform.k})`}>\n              {bubbles}\n            </g>\n          </g>\n          {this.renderXTicks(xTicks, xScale, yScaleOriginal)}\n          {this.renderYTicks(yTicks, xScaleOriginal, yScale)}\n        </g>\n      </svg>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"bubble-chart-zoom\">\n          <Tooltip overlay={translate('component_measures.bubble_chart.zoom_level')}>\n            <Link\n              className={classNames('outline-badge', { active: this.state.transform.k > 1 })}\n              onClick={this.resetZoom}\n              to=\"#\">\n              {this.getZoomLevelLabel()}\n            </Link>\n          </Tooltip>\n        </div>\n        <AutoSizer disableHeight={true}>{size => this.renderChart(size.width)}</AutoSizer>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\nimport { RATING_COLORS } from '../../helpers/constants';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function ColorRatingsLegend({ className }: Props) {\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {[1, 2, 3, 4, 5].map(rating => (\n        <div key={rating}>\n          <span\n            className=\"color-box-legend-rect\"\n            style={{ borderColor: RATING_COLORS[rating - 1] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: RATING_COLORS[rating - 1] }}\n            />\n          </span>\n          {formatMeasure(rating, 'RATING')}\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"sourceRoot":""}